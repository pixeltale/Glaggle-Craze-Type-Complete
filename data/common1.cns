;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5
trigger1 = (Name="BAXT"&&Map(BaxtFullPal))
value = 4005
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 4000
trigger1 = (Name="BAXT"&&!Map(BaxtFullPal))
value = 2310
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 0
trigger1 = Name = "GOLI" && Map(CStatic) >= 1000
value = 1
elem = floor(AnimElemNo(0) * 1.85)
[State 0, 1]
type = ChangeAnim
trigger1 = Anim = 1 && (Name="TERI"||Name="TERX"||Name="TERK") && RoundState > 2
trigger1 = AnimElemNo(0) = [2,21]
value = 1
elem = 22
[State 0, 1]
type = ChangeAnim
trigger1 = Anim != (Name="TSUK"||Name="SHEK"||Name="REAK"||Name="JUSK") && !(Anim = 2310 && (Name="BAXT")) && !(Anim = 4000 && (Name="BAXT"&&Map(BaxtFullPal))) && Anim != 1 && Anim != 5 && Anim != 4005
trigger2 = (Anim = 5 || Anim = 4005 || Anim = 1 && (Name="TERI"||Name="TERX"||Name="TERK"||Name="ISAB"||Name="ISAX"||Name="ISAK") || Anim = 2310 && Name="BAXT") && AnimTime = 0 ;Turn anim over
value = 0 + (Name="TSUK"||Name="SHEK"||Name="REAK"||Name="JUSK") + 4000 * (Name="BAXT"&&Map(BaxtFullPal)) + (Name="GOLI"&&Map(CStatic)>=1000)

[State 0, PosSet]
type = PosSet
trigger1 = !Time
trigger1 = Pos Y != 0
y = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
triggerall = Name != "CICX"
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = S
anim = 10 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 10, 1]
type = VelMul
trigger1 = Time = 0 && Name != "CICX"
x = .75

[State 10, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 10, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = S
anim = 11 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
trigger2 = Anim != 6 && Anim != 11 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))
value = 11 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 11, 2] ;Stop moving if low velocity
type = VelSet
triggerall = Name != "CICX"
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = Var(15) && Var(17) = 20
x = const(velocity.walk.fwd.x) * Map(SpeedMod)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
trigger2 = Var(15) && Var(17) != 20
x = const(velocity.walk.back.x) * Map(SpeedMod)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Name = "GOLX"
triggerall = Anim = 20
triggerall = Map(GolxStatic)
trigger1 = animelemtime(animelemno(0)) = 4
value = anim
elem = animelemno(0)+1

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5 && Anim != 4020
trigger2 = (Anim = 5 || Anim = 4005) && AnimTime = 0
value = 20 + 4000 * (Name="BAXT"&&Map(BaxtFullPal)||Name="TERI"&&Var(41))

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5 && Anim != 4021
trigger2 = (Anim = 5 || Anim = 4005) && AnimTime = 0
value = 21 + 4000 * (Name="BAXT"&&Map(BaxtFullPal)||Name="TERI"&&Var(41))

;---------------------------------------------------------------------------
; Crouch Walk
[Statedef 25]
type    = C
physics = S
ctrl = 1
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist X < -1
value = 11

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 10
trigger2 = Anim = 11
value = 25
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 10 && Anim != 25
value = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk
flag2 = nocrouch

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x) * 0.667 + 0.5 * !!Map(GolxStatic)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Name = "GOLX"
triggerall = Anim = 25
triggerall = Map(GolxStatic)
trigger1 = animelemtime(animelemno(0)) = 4
value = anim
elem = animelemno(0)+1

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holddown"
value = 12
[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holddown"
value = 11


;---------------------------------------------------------------------------
; Jump Cancel - Glaggle Craze
[Statedef 39]
type    = S
physics = S
anim = 40 + 4000 * (Name="BAXT"&&Var(49))
ctrl = 0
velset = Vel X * (Name="CICX"),0
sprpriority = 1
facep2 = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0
[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd" && !Var(15)
trigger2 = Var(15) && P2BodyDist X >= 8
sysvar(1) = 1
[State 40, 3]
type = VarSet
trigger1 = command = "holdback" && !Var(15)
sysvar(1) = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1

[State 40, 4]
type = VelSet
trigger1 = Time = 4
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)
[State 40, 5]
type = VelSet
trigger1 = Time = 4
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1 || Var(15)
x = const(velocity.jump.fwd.x) * 1.3 ;const(velocity.runjump.fwd.x)

[State 0, VelSet]
type = VelSet
trigger1 = Time = 4
x = Vel X * (1.5+Map(SpeedMod)) * 0.5
[State 0, VelAdd]
type = VelAdd
triggerall = Time = 4
trigger1 = Name = "BAXT" && Var(49)
trigger2 = Name = "TERI" && Var(41)
y = -1.5

[State 40, 6]
type = ChangeState
trigger1 = Time = 4
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))
ctrl = 0
velset = Vel X * (Name="CICX"),0
sprpriority = 1
facep2 = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0
[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd" && !Var(15)
trigger2 = Var(15) && P2BodyDist X >= 8
sysvar(1) = 1
[State 40, 3]
type = VarSet
trigger1 = command = "holdback" && !Var(15)
sysvar(1) = -1
[State 0, MapSet]
type = VarSet
trigger1 = !Time
sysvar(2) = !!Map(DashJumpBuffer)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1

[State 40, 4]
type = VelSet
trigger1 = Time = 4
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)
[State 40, 5]
type = VelSet
trigger1 = Time = 4
trigger1 = prevstateno = 100 || prevstateno = 102 ;RUN_FWD
trigger1 = sysvar(1) = 1 || Var(15)
x = const(velocity.jump.fwd.x) * 1.3 ;const(velocity.runjump.fwd.x)

[State 0, VelSet]
type = VelSet
trigger1 = Time = 4
x = Vel X * (1.0+Map(SpeedMod)) * 0.5
[State 0, VelAdd]
type = VelAdd
triggerall = Time = 4
trigger1 = Name = "BAXT" && Map(BaxtFullPal)
trigger2 = Name = "TERI" && Var(41)
y = -1.5

[State 40, 6]
type = ChangeState
trigger1 = Time = 4
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0
[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1
[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 1]
type = ChangeAnim
trigger1 = 1
value = ifelse(SelfAnimExist(45)&&sysvar(1)=1,45,ifelse(SelfAnimExist(46)&&sysvar(1)=-1,46,ifelse(SelfAnimExist(44),44,41)))

[State 45, 6]
type = VelSet
trigger1 = Time = 3
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x) * (1+Map(SpeedMod)) * 0.5, const(velocity.jump.back.x) * (1+Map(SpeedMod)) * 0.5))
y = const(velocity.jump.y) * 0.8

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 1
value = max(0,Var(1)-1)

[State 0, Explod]
type = Explod
trigger1 = Time = 3 
anim = F86
pos = 0,0
postype = p1
vel = 0,-2
accel = 0,0.25
sprpriority = -1
ownpal = 1

[State 45, 7]
type = ChangeState
trigger1 = Time = 3
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 0, MapSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0
[State 0, MapSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1
[State 0, MapSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 0, VarAdd] ;Jump Cancel - Craze Cost
type = VarAdd
trigger1 = !time && prevstateno = 39
v = 18
value = -1000
ignorehitpause = 1
[State 0, VarAdd] ;Jump Cancel - Craze Cost
type = VarAdd
trigger1 = !time && prevstateno = 39
v = 30
value = 1
ignorehitpause = 1
[State 700, Flash] ;Jump Cancel - Flash Effect
type = palfx
trigger1 = !time && prevstateno = 39
add = 255, 30, 200
sinadd = -255, -30, -200, 60
time = 15

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 44
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 0, VelAdd]
type = VelSet
trigger1 = NumHelper(56)
trigger1 = map(p_Fd) || map(p_Bk)
x = const(velocity.jump.fwd.x) * sysvar(1)

[State 0, PalFX]
type = PalFX
trigger1 = NumHelper(56)
trigger1 = Time < 6
time = 1
add = 128-24*Time,128-24*Time,128-24*Time
mul = 256,256,256

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = 0
[State 0, VarSet]
type = VarSet
trigger1 = command != "holdup"
trigger1 = Var(1)
v = 5
value = 1
[State 0, VarSet]
type = ChangeState
trigger1 = command = "holdup"
trigger1 = Var(1) && Var(5) = 1
trigger1 = Name = "REAP" || Name = "REAX" || Name = "REAK" || Name = "BOUK" && (Var(44)=1||Var(44)=5) || Name = "GOLX" || Name = "LUCK" || Name = "GABB" || Name = "GABX" || Name = "GABK" || Name = "IKUE" || Name = "IKUX" || Name = "IKUK" || Name = "JANE" || Name = "JANX" || Name = "JANK"
trigger1 = !NumHelper(56)
value = 45
ctrl = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 1

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
facep2 = 1
ctrl = 0
anim = 47 + 4000 * (Name="BAXT"&&Map(BaxtFullPal)) + ((Name="ISAB"||Name="ISAX"||Name="ISAK")&&(PrevStateNo=610||PrevStateNo=710))

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
trigger2 = !Time
trigger2 = Map(WakeUpInvul) >= 1
value = 1

[State 52, 4]
type = VelSet
triggerall = Name != "CICX"
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "LandDustFX"
value = 1
[State 0, Snd Stomp]
type = PlaySnd
triggerall = !Time
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
value = F2,4

[State 0, VarSet Heavy Landshake]
type = VarSet
triggerall = Time <= 2
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
v = 9
value = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 48
trigger1 = Name = "ISAB" || Name = "ISAX" || Name = "ISAK"
value = 1
elem = 3
[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Anim = 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; S.Jump Start
[Statedef 55] ;Superjump
type    = S
physics = S
anim = 40 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))
ctrl = 0
velset = Vel X * (Name="CICX"),0
sprpriority = 1
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 1

[State 0, MapSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0
[State 0, MapSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1
[State 0, MapSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = Time = 4
y = const(velocity.jump.y) * 1.125
[State 0, VelSet]
type = VelSet
trigger1 = Time = 4
x = Vel X * (1.0+Map(SpeedMod)) * 0.5 * SYSVAR(1)

[State 0, Helper SJump Helper]
type = Helper
trigger1 = Time = 4
name = "Game Afoot"
ID = 56
stateno = 56
postype = p1

[State 40, 6]
type = ChangeState
trigger1 = Time = 4
value = 50
ctrl = 0

;---------------------------------------------------------------------------
; H - S.Jump Helper
[Statedef 56]
type    = A
physics = N
anim = 666

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, Snd Dash]
type = PlaySnd
trigger1 = !Time
value = F2,6

[State 0, Explod Dash FX]
type = Explod
triggerall = !(Root,Name="LUCK"&&Root,NumHelper(990))
trigger1 = Time%3 = 1
trigger1 = Time < 16
anim = F87
pos = -12 + (GameTime%9) * 2,-8+random%9
postype = p1
vel = -0.25,4
accel = 0,-0.5
sprpriority = GameTime%5
angle = 80 - 10 * !!root,sysvar(2)
ownpal = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = Root,Vel Y < 0
trigger1 = Root,StateNo = [40,60] || StateNo = [600,800)
y = root,const(movement.yaccel) * -0.2
redirectid = Root,ID

;[State 0, VarSet]
;type = RootVarSet
;trigger1 = !Time 
;var(1) = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 50 && Root,StateNo != [600,800)

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S
anim = 100 + 4000 * (Name="BAXT") + (Name="TSUK")
ctrl = 0
sprpriority = 1

[State 0, ChangeState]
type = ChangeState
triggerall = !Time
trigger1 = Name = "AJIK"
trigger2 = Name = "SHER" || Name = "SHEX" || Name = "SHEK"
trigger3 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger4 = Name = "REAP" || Name = "REAX"
trigger5 = Name = "JUST" || Name = "JUSX" || Name = "JUSK"
trigger6 = Name = "BOUN" || Name = "BOUX" || Name = "BOUK"
trigger7 = Name = "BAXT" && !Map(BaxtFullPal) || Name = "BAXX" || Name = "BAXK"
trigger8 = Name = "GOLI" || Name = "GOLX" || Name = "GOLK"
trigger9 = Name = "NECC" || Name = "NECX"
trigger10 = Name = "LUCY" || Name = "LUCX"
trigger11 = Name = "GABB" || Name = "GABX" || Name = "GABK"
trigger12 = Name = "ISAB" || Name = "ISAX"
trigger13 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
trigger14 = Name = "TERI" || Name = "TERX" || Name = "TERK"
trigger15 = Name = "JANE" || Name = "JANX" || Name = "JANK"
value = 102

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x) * Map(SpeedMod)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn
flag3 = NoCrouch

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = 1

[State 0, Snd Dash]
type = PlaySnd
trigger1 = !Time
value = F2,1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 8 && !Var(15)
value = 1

[State 100, 4]
type = ChangeState
triggerall = Time >= 8
trigger1 = command != "holdfwd" && !Var(15)
trigger2 = Var(15) && P2BodyDist X < 8
trigger3 = Name="BAXT" && !Map(BaxtFullPal)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dash Forward
[Statedef 102]
type    = S
physics = S
anim = 102 + 4000 * (Name="BAXT"&&Map(BaxtFullPal)||Name="TERI"&&Var(41)) + (Name="JANE"||Name="JANX"||Name="JANK") * !(Anim%2)
ctrl = 0
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = Time <= 8
trigger1 = AnimElemNo(0) = 1
x = const(velocity.run.fwd.x) * 0.5 * Map(SpeedMod)
[State 100, 1]
type = VelSet
trigger1 = AnimElemNo(0) = [2,3]
trigger2 = AnimElemNo(0) = 4 && Time < 12
x = const(velocity.run.fwd.x) * Map(SpeedMod)

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn
[State 100, 2]
type = AssertSpecial
trigger1 = AnimElemNo(0) <= 4 + (Name="TERI"&&Var(41))
flag = NoCrouch
flag2 = NoWalk

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 4
value = 1

[State 100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = S
physics = N
ctrl = 0
anim = 105 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))
velset = Vel X * (Name="CICX"),0
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
fv = 7
value = const(velocity.run.back.y)
[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "Temp"
value = 0
[State 0, VarSet]
type = VarAdd
trigger1 = Time >= 3
fv = 7
value = const(movement.yaccel) * 0.25 ;* 0.125 * (1+Map(SpeedMod))
[State 0, MapAdd]
type = MapAdd
trigger1 = Time >= 3
map = "Temp"
value = FVar(7)

[State 0, Offset]
type = Offset
trigger1 = 1
y = Map(Temp) * 0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time = [1,6]
value = ,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
[State 0, NotHitBy]
type = HitBy
trigger1 = Time = (6,16)
trigger2 = !Time
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 3
statetype = A
physics = A

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 3
value = 106 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 105, 1]
type = VelSet
trigger1 = Time = 3
x = const(velocity.run.back.x) * (1+Map(SpeedMod)) * 0.5
y = const(velocity.run.back.y) * 2

[State 105, 1]
type = VelMul
trigger1 = Time > 3
y = 0.5

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = -8

[State 105, 3]
type = ChangeState
trigger1 = pos y > 0
value = 106

;---------------------------------------------------------------------------
; Hop backwards (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
velset = 0,0
anim = 107 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "LandDustFX"
value = 1
[State 0, Snd Stomp]
type = PlaySnd
triggerall = !Time
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
value = F2,4

[State 0, VarSet Heavy Landshake]
type = VarSet
triggerall = Time <= 1
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
v = 9
value = 2

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 106, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; AirDash Cancel - Backward
[Statedef 108]
type    = A
physics = N
anim = cond(selfanimexist(110), 110, 100)
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 18
value = -1000
ignorehitpause = 1

[State 120, Transition to Airdash]
type = ChangeState
trigger1 = 1
value = 115 + 1*(name = "TERI" || name = "TERX" || name = "TERK") + 1*(name = "CICI" || name = "CICX" ||  name = "CICK")

;---------------------------------------------------------------------------
; AirDash Cancel - Forward
[Statedef 109]
type    = A
physics = N
anim = cond(selfanimexist(110), 110, 100)
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 18
value = -1000
ignorehitpause = 1

[State 120, Transition to Airdash]
type = ChangeState
trigger1 = 1
value = 110 + 1*(name = "TERI" || name = "TERX" || name = "TERK") + 5*(name = "CICI" || name = "CICX" ||  name = "CICK")
;---------------------------------------------------------------------------
; AirDash Fwd
[Statedef 110]
type    = A
physics = N
anim = cond(selfanimexist(110), 110, cond(selfanimexist(100), 100, 102))
velset = 0,0
ctrl = 0
sprpriority = 1

[State 110, Flash]
type = palfx
triggerall = prevstateno = 109
trigger1 = !time
add = 255, 30, 200
sinadd = -255, -30, -200, 60
time = 15

[State 120, 1]
type = ChangeAnim
trigger1 = name != "Ikue" && name != "Ikux" && name != "Ikuk"
trigger1 = vel y > 2
value = 41
elem = 6


[State 0, Snd DashStart]
type = PlaySnd
trigger1 = !Time
value = F2,3
channel = 1
[State 100, 1]
type = VelSet
trigger1 = Time <= 8
x = const(velocity.run.fwd.x)
[State 0, VelMul]
type = VelMul
trigger1 = time
x = 0.95
[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = !Time
v = 1
value = -1

[State 120, 1]
type = ChangeState
trigger1 = animtime = 0 || time > 15
value = 50

;---------------------------------------------------------------------------
; AirDash - Teri
[Statedef 111]
type    = A
physics = N
anim = cond(selfanimexist(110), 110, cond(selfanimexist(100), 100, 102))
velset = 0,0
ctrl = 0
sprpriority = 1

[State 700, Flash]
type = palfx
triggerall = prevstateno = 109
trigger1 = !time
add = 255, 30, 100
sinadd = -255, -30, -100, 60
time = 15

[State 0, Snd DashStart]
type = PlaySnd
trigger1 = !Time
value = F2,3
channel = 1

[State 0, Explod SLAYER]
type = Explod
trigger1 = Anim = 110
trigger1 = AnimElem = 2
trigger2 = Time = 20 ;AnimElem = 4 
anim = 111 + (Var(7)&&Time>8)*7 + (Var(5)&&Var(7))
ID = 3000
postype = p1
shadow = -1
removetime = 4
removeongethit = 1
[State 0, Explod SLAYER]
type = Explod
triggerall = Anim = 110
trigger1 = AnimElem = 3
trigger2 = AnimElem = 3, 12 
anim = 112 + (Var(7)&&Time>8)*5
ID = 3000
pos = ifelse(Var(5),12,-12) * (Time<=8),0
postype = p1
facing = ifelse(Var(7)&&Time>8&&Var(5),-1,1)
vel = ifelse(Var(5),-8,8),0
shadow = -1
removeongethit = 1

[State 0, PosAdd]
type = PosAdd
triggerall = Anim = 110 && command != "holdback"
trigger1 = AnimElem = 4
trigger1 = p2dist x = [-enemynear,const(size.ground.back),enemynear,const(size.ground.back)]
x = p2dist x + enemynear,const(size.ground.back);,-enemynear,const(size.ground.front)-16)

[State 0, VelSet]
type = VelSet
trigger1 = Anim = 110 && command != "holdback"
trigger1 = AnimElemNo(0) = [2,3]
x = 4.25
[State 0, VelMul]
type = VelMul
;trigger1 = Anim = 110
trigger1 = AnimElem = 4
x = 0.5
y = 0.5
[State 0, VelMul]
type = VelMul
trigger1 = Anim = 110
trigger1 = AnimElemNo(0) >= 4
x = 0.8

[State 0, PlayerPush]
type = PlayerPush
triggerall = Anim = 110
trigger1 = AnimElemNo(0) = [3,4]
value = 0

[State 0, NotHitBy]
type = NotHitBy
triggerall = Anim = 110
trigger1 = !Time
value = ,NA,SA,HA,NP,SP,HP,NT,ST
time = 6
[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time = 6
trigger2 = Anim = 100
trigger2 = Time = 0
value = ,NP,SP,HP
time = 12

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = !Time
v = 1
value = -1

[State 120, 1]
type = ChangeState
trigger1 = animtime = 0
value = 50

;---------------------------------------------------------------------------
; AirDash Back
[Statedef 115]
type    = A
physics = N
anim = 106
velset = 0,0
ctrl = 0
sprpriority = 1

[State 110, Flash]
type = palfx
triggerall = prevstateno = 108
trigger1 = !time
add = 255, 30, 200
sinadd = -255, -30, -200, 60
time = 15

[State 100, 1]
type = VelSet
trigger1 = !time
x = const(velocity.run.back.x)
[State 0, Snd DashStart]
type = PlaySnd
trigger1 = !Time
value = F2,3
channel = 1
[State 0, VelMul]
type = VelMul
trigger1 = time
x = 0.9
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
trigger1 = StateType = A
physics = A
[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = !Time
v = 1
value = -1

[State 120, 1]
type = ChangeState
trigger1 = animtime = 0 || time >= 10
value = 50
-------------------------------------------------
; AirDash Back - Cloned State for Teri
[Statedef 116]
type    = A
physics = N
anim = 106
velset = 0,0
ctrl = 0
sprpriority = 1

[State 110, Flash]
type = palfx
triggerall = prevstateno = 108
trigger1 = !time
add = 255, 30, 200
sinadd = -255, -30, -200, 60
time = 15

[State 100, 1]
type = VelSet
trigger1 = !time
x = const(velocity.run.back.x)
[State 0, Snd DashStart]
type = PlaySnd
trigger1 = !Time
value = F2,3
channel = 1
[State 0, VelMul]
type = VelMul
trigger1 = time
x = 0.9
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
trigger1 = StateType = A
physics = A
[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = !Time
v = 1
value = -1

[State 120, 1]
type = ChangeState
trigger1 = animtime = 0 || time >= 10
value = 50

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = S

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = statetype = S && EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || EnemyNear,Map(TrainingOpt1) = 1)
trigger3 = statetype = S && Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
statetype = C
physics = S

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = statetype = C && EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = statetype = C && Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
statetype = S
physics = S

;[State 0, ReversalDef]
;type = ReversalDef
;trigger1 = Time = 0
;trigger1 = command = "back"
;reversal.attr = SCA,NA,SA,HA,NP,SP,HP
;pausetime = 0,12
;sparkno = S192
;sparkxy = 0,8
;hitsound = S6,0
;p1stateno = 160

;[State 0, HitOverride Perfect Guard]
;type = HitOverride
;trigger1 = command = "back"
;attr = SCA,NA,SA,HA,NP,SP,HP
;stateno = 160 + StateType=C*2 + StateType=A*4
;time = 3

[State 120, 5]
type = ChangeState
trigger1 = Time = 3
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = !inguarddist
trigger3 = Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining)
trigger3 = EnemyNear,MoveType != A
value = 140

;---------------------------------------------------------------------------
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S
sprpriority = -2

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = !Time
trigger2 = map(y) && map(b) && command = "holdback"
trigger3 = EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = (map(y) && map(b) && command = "holdback"||EnemyNear,Map(TrainingOpt2) = 3)
ignorehitpause = 1
[State 0, ChangeState]
type = SelfState
triggerall = Time <= 8
triggerall = PrevStateNo = [150,160)
trigger1 = Var(7) = 1
trigger1 = Map(HeartbreakerReady)
value = 160

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || FVar(25) = 1)
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
value = 131

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = !inguarddist
trigger3 = Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining)
trigger3 = EnemyNear,MoveType != A || Map(TrainReact)
value = 140

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = S
sprpriority = -2

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = !Time
trigger2 = map(y) && map(b) && command = "holdback"
trigger3 = EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = (map(y) && map(b) && command = "holdback"||EnemyNear,Map(TrainingOpt2) = 3)
ignorehitpause = 1
[State 0, ChangeState]
type = SelfState
triggerall = Time <= 8
triggerall = PrevStateNo = [150,160)
trigger1 = Var(7) = 1
trigger1 = Map(HeartbreakerReady)
value = 160

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
value = 130

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = !inguarddist
trigger3 = Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining)
trigger3 = EnemyNear,MoveType != A || Map(TrainReact)
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N
sprpriority = -2

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 5326;52

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = !inguarddist
trigger3 = Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining)
trigger3 = EnemyNear,MoveType != A || Map(TrainReact)
value = 140

;---------------------------------------------------------------------------
; Guard (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = S

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = S

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 0, Perfect Guard Check]
type = VarSet
trigger1 = !Time
v = 5
value = (Var(4)>8)
ignorehitpause = 1

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = !Time
trigger2 = map(y) && map(b) && command = "holdback"
trigger3 = EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = (map(y) && map(b) && command = "holdback"||EnemyNear,Map(TrainingOpt2) = 3)
ignorehitpause = 1

[State 0, PalFX Perfect Guard]
type = PalFX
trigger1 = Var(5) = 1
time = 1
add = 64,96,128
mul = 128,192,256
color = 128
ignorehitpause = 1

[State 0, LifeAdd Perfect Guard]
type = LifeAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(Damage) + gethitvar(hittime)*(Var(22)-Life>gethitvar(hittime)) + (Var(22)-Life)*(Var(22)-Life<=gethitvar(hittime))
absolute = 1
[State 0, PowerAdd Perfect Guard]
type = PowerAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(hittime) * 4

[State 0, VarSet]
type = VarSet
trigger1 = Var(5) = 1
trigger1 = !Time
v = 4
value = 1

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 3

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || FVar(25) = 1)
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
statetype = C
physics = S

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
statetype = S
physics = S

[State 0, VarAdd Reduce Guard Bar]
type = VarAdd
triggerall = !Var(5)
trigger1 = Time = 0
v = 25
value = -GetHitVar(GuardPoints)
ignorehitpause = 1
[State 0, VarSet Guard Meter Minimal]
type = VarSet
trigger1 = Time = 0
trigger1 = Var(25) < 0
v = 25
value = 0
ignorehitpause = 1
[State 0, VarSet Guard Meter Delay]
type = VarSet
trigger1 = !Var(5)
v = 26
value = 64
ignorehitpause = 1
[State 154, Guard Break State]
type = ChangeState
triggerall = !Var(5)
trigger1 = Var(25) <= 0
value = 5310
ignorehitpause = 1

;---------------------------------------------------------------------------
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150
sprpriority = -2

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = Time < 4
trigger1 = map(y) && map(b) && command = "holdback" || EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = 1
ignorehitpause = 1

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time >= GetHitVar(slidetime); - (4 * Var(5))
trigger2 = HitOver
x = 0
ignorehitpause = 1

[State 151, 3]
type = CtrlSet
trigger1 = Time >= GetHitVar(ctrltime); - (4 * Var(5))
value = 1
ignorehitpause = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || FVar(25) = 1)
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
statetype = C
physics = S

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
statetype = S
physics = S

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 2

[State 0, ChangeState]
type = SelfState
trigger1 = Var(7) = 1
trigger1 = Map(HeartbreakerReady)
value = 160
[State 151, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Time >= GetHitVar(ctrltime); - (4 * Var(5))
value = 130
ctrl = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 0, Perfect Guard Check]
type = VarSet
trigger1 = !Time
v = 5
value = (Var(4)>8)
ignorehitpause = 1

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = !Time
trigger2 = map(y) && map(b) && command = "holdback"
trigger3 = EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = (map(y) && map(b) && command = "holdback"||EnemyNear,Map(TrainingOpt2) = 3)
ignorehitpause = 1

[State 0, PalFX Perfect Guard]
type = PalFX
trigger1 = Var(5) = 1
time = 1
add = 64,96,128
mul = 128,192,256
color = 128
ignorehitpause = 1

[State 0, LifeAdd Perfect Guard]
type = LifeAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(Damage) + gethitvar(hittime)*(Var(22)-Life>gethitvar(hittime)) + (Var(22)-Life)*(Var(22)-Life<=gethitvar(hittime))
absolute = 1
[State 0, PowerAdd Perfect Guard]
type = PowerAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(hittime) * 4

[State 0, VarSet]
type = VarSet
trigger1 = Var(5) = 1
trigger1 = !Time
v = 4
value = 1

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 3

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || FVar(25) = 1)
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
statetype = C
physics = S

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
statetype = S
physics = S

[State 0, VarAdd Reduce Guard Bar]
type = VarAdd
trigger1 = Time = 0
v = 25
value = -GetHitVar(GuardPoints)
ignorehitpause = 1
[State 0, VarSet Guard Meter Minimal]
type = VarSet
trigger1 = Time = 0
trigger1 = Var(25) < 0
v = 25
value = 0
ignorehitpause = 1
[State 0, VarSet Guard Meter Delay]
type = VarSet
trigger1 = !Var(5)
v = 26
value = 64
ignorehitpause = 1
[State 154, Guard Break State]
type = ChangeState
trigger1 = Var(25) <= 0
value = 5310
ignorehitpause = 1

;---------------------------------------------------------------------------
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = S
anim = 151
sprpriority = -2

[State 0, Heartbreaker Check]
type = VarSet
trigger1 = Time < 4
trigger1 = map(y) && map(b) && command = "holdback" || EnemyNear,Map(TrainingOpt2) = 3
v = 7
value = 1
ignorehitpause = 1

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time >= GetHitVar(slidetime); - 4 * Var(5)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time >= GetHitVar(ctrltime); - 4 * Var(5)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && (enemynear,hitdefattr = C,AA,AP || FVar(25) = 1)
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = C,AA,AP
statetype = C
physics = S

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown" && !Var(15) && !(Var(15) || EnemyNear,Map(TrainingOpt2) && Map(IsTraining))
trigger2 = EnemyNear,Map(TrainingOpt2) && Map(IsTraining) && enemynear,hitdefattr = SA,AA,AP
trigger3 = Var(17) = 120 && Var(15)*5>=Random && enemynear,hitdefattr = SA,AA,AP
statetype = S
physics = S

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT
time = 2

[State 0, ChangeState]
type = SelfState
trigger1 = Var(7) = 1
trigger1 = Map(HeartbreakerReady)
value = 160
[State 153, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Time >= GetHitVar(ctrltime); - (4 * Var(5))
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 0, Perfect Guard Check]
type = VarSet
trigger1 = !Time
v = 5
value = (Var(4)>8)
ignorehitpause = 1

[State 0, PalFX Perfect Guard]
type = PalFX
trigger1 = Var(5) = 1
time = 1
add = 64,96,128
mul = 128,192,256
color = 128
ignorehitpause = 1

[State 0, LifeAdd Perfect Guard]
type = LifeAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(Damage) + gethitvar(hittime)*(Var(22)-Life>gethitvar(hittime)) + (Var(22)-Life)*(Var(22)-Life<=gethitvar(hittime))
absolute = 1
[State 0, PowerAdd Perfect Guard]
type = PowerAdd
trigger1 = Var(5) = 1
trigger1 = !Time
value = gethitvar(hittime) * 4

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 0, VarAdd Reduce Guard Bar]
type = VarAdd
trigger1 = Time = 0
v = 25
value = -GetHitVar(GuardPoints)
ignorehitpause = 1
[State 0, VarSet Guard Meter Minimal]
type = VarSet
trigger1 = Time = 0
trigger1 = Var(25) < 0
v = 25
value = 0
ignorehitpause = 1
[State 0, VarSet Guard Meter Delay]
type = VarSet
trigger1 = !Var(5)
v = 26
value = 64
ignorehitpause = 1
[State 154, Guard Break State]
type = ChangeState
trigger1 = Var(25) <= 0
value = 5310
ignorehitpause = 1

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time >= GetHitVar(ctrltime) - 2 * Var(5)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; Heartbreaker
[Statedef 160]
type    = S
movetype= A
physics = S
velset = 0,0
facep2 = 1
;poweradd = -1000
ctrl = 0
anim = 160

[State 0, Map HB Use]
type = MapSet
trigger1 = !Time
map = "HeartbreakerReady"
value = 0
ignorehitpause = 1
[State 0, Var Guard Gauge Add]
type = VarSet
trigger1 = !Time
v = 25
value = ceil(Var(25)*0.4)
[State 0, Var Guard Gauge Subtract]
type = VarSet
triggerall = Name != "WALK"
trigger1 = MoveHit && NumTarget
trigger1 = Var(8) = 1
v = 25
value = ceil((1000+Var(25))*0.4)
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = MoveHit
trigger1 = EnemyNear,BackEdgeDist <= 1
edge = P2Dist X - EnemyNear,Vel X * 1,0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !Time
time = 8
add = -8,0,0
mul = 232,208,224
color = 192
[State 0, PalFX]
type = PalFX
trigger1 = !Time
time = 4
add = 256,256,256
[State 0, PalFX]
type = PalFX
trigger1 = GameTime%3 = 0
trigger1 = Time = [4,12]
time = 1
add = 128,64,96
mul = 256,160,256
color = 64
ignorehitpause = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = MoveHit && NumTarget
trigger1 = Var(8) = 1
value = min(Var(22)-Life,max(50,floor((Var(22)-Life)*0.4)))
absolute = 1
ignorehitpause = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = !Time
time = 0
anim = 95
pos = 0,-40
sound = f20,0
movetime = 0
darken = 0
unhittable = 1

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 160
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
v = 34
value = random % const(BC.VoiceBankHeartBreaker)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time < 16
trigger2 = Time >= 16
trigger2 = MoveHit
trigger2 = NumTarget || EnemyNear,StateNo = 5120
value = SCA
time = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 12
value = 0

[State 0, HitDef]
type = HitDef
trigger1 = !MoveContact && !MoveReversed
attr = S,HA
hitflag = MAF
guardflag = M
animtype = heavy
priority = 5,Hit
damage = 0,0
guardpoints = 0
pausetime = 16,24
guard.pausetime = 12,12
sparkno = 15 + random%4
guard.sparkno = 40
sparkxy = -40+Floor(P2Dist X*0.5),-48+Floor(P2Dist Y*0.5)
hitsound = 1,4
guardsound = 5,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
guard.hittime = 8
yaccel = 0.51
fall = 0
fall.recovertime = 5
ground.velocity = -3,-6
air.velocity = -3,-5.75
p2facing = 1
kill = 0
getpower = 0,0
givepower = 0,0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = MoveHit && Var(8) = 1
value = 5090
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = NumTarget
trigger1 = MoveHit && Var(8) = 1
value = -32
kill = 0
absolute = 1
ignorehitpause = 1

[State 0, Var GuardMeter Reduc]
type = VarSet
trigger1 = !Time
v = 27
value = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Lose 
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Draw
[Statedef 175]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = 1
value = 170

;---------------------------------------------------------------------------
; Pre-intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(190)
value = 190

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191

;---------------------------------------------------------------------------
; Armor
[Statedef 999]
type    = U
movetype = H
physics = U
movehitpersist = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 4
add = 128,64,64
mul = 256,64,64
sinadd = 256,128,128,3
color = 256
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !Time
trigger1 = Name != "JANK"
anim = f40
postype = p1
pos = 16,-60
removetime = -2
pausemovetime = 66666
supermovetime = 66666
sprpriority = 9
ownpal = 1
ontop = 1

[State 0, VarAdd Lucid Meter Gain]
type = VarAdd
trigger1 = !Time
v = 18
value = floor(GetHitVar(damage) * ifelse(Name="WALX",5,ifelse(Name="WALL"||Name="JANK",2,3.5)) * FVar(18))
ignorehitpause = 1

[State 0, VarAdd Reduce Guard Bar]
type = VarAdd
triggerall = Name = "WALK"
trigger1 = !Time
v = 25
value = -0.5 * GetHitVar(Damage) - 1 * GetHitVar(GuardPoints)
[State 0, VarSet Guard Meter Minimal]
type = VarSet
triggerall = Name = "WALK"
trigger1 = !Time
trigger1 = Var(25) < 1
v = 25
value = 1
ignorehitpause = 1
[State 0, VarSet Guard Meter Delay]
type = VarSet
triggerall = Name = "WALK"
trigger1 = !Time
v = 26
value = 128
ignorehitpause = 1

;[State 0, Var BERK Armor Reduction]
;type = VarAdd
;triggerall = Name = "BERK"
;trigger1 = !Time
;v = 46
;value = -(Var(46) > 0) - (Var(46) > 1)

[State 0, MapAdd]
type = MapSet
triggerall = Name = "TYRA"
trigger1 = !Time
map = "TyraEXStack"
value = min(3,Map(TyraEXStack)+1)

[State 0, Map Doom Countdown]
type = MapAdd
triggerall = Name = "TYRX"
trigger1 = !Time
map = "TyrxDoomRate"
value = 1.0
[State 0, Map Doom Flatrate]
type = MapSet
triggerall = Name = "TYRX"
trigger1 = !Time
map = "TyrxDoomTimer"
value = min(5000,Map(TyrxDoomTimer) + 100)

[State 0, LifeAdd]
type = LifeAdd
trigger1 = !Time
value = -1 + Ceil(ifelse(Name="WALL"||Name="WALK"||Name="JUSK"||Name="JANK",-0.50,-0.90)*GetHitVar(Damage));Ceil(ifelse(Name="WALL",-0.75,-1.00)*enemynear,var(12))
absolute = 1
kill = 1
[State 0, VarSet P.Life Delay]
type = VarSet
trigger1 = !Time
v = 23
value = 96
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = !Time
value = ifelse(Life>1,Var(2),5160)

;---------------------------------------------------------------------------
; AfterImage1
[Statedef 2990]
type = C
movetype = I
physics = N
anim = 666
sprpriority = -5

[State 0, MapSet]
type = RemapPal
trigger1 = !Time
source = 1,1
dest = 1,Root,Var(59)
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 4
trigger2 = Time%2 = 0
flag = invisible
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 1
time = 666
add = 0,0,64
mul = 192,0,256
color = 64
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 2
time = 666
add = 128,64,0
mul = 512,512,0
color = 128
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 3
time = 666
add = 128,32,0
mul = 512,256,0
color = 128
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 4
time = 666
add = 128,0,0
mul = 512,64,0
color = 128
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 5
time = 666
add = 192,192,192
mul = 240,248,256
color = 0
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 6
time = 666
add = 16,24,32
mul = 24,16,32
color = 0
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 7
time = 666
add = floor((Root,Map(FXColor)%16777216)*0.0000152587890625*0.75),floor((Root,Map(FXColor)%65536)*0.00390625*0.75),floor((Root,Map(FXColor)%256)*0.75)
mul = floor((Root,Map(FXColor)%16777216)*0.0000152587890625*1.00),floor((Root,Map(FXColor)%65536)*0.00390625*1.00),floor((Root,Map(FXColor)%256)*1.00)
color = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time >= 4
trigger1 = Time%2 = 1
value = Var(25)
elem = Var(27)
[State 0, PosSet]
type = PosSet
triggerall = Time >= 4
trigger1 = Time%2 = 1
x = FVar(21) - Root,CameraPos X - Sin(GameTime)*1
y = FVar(23) - Cos(GameTime)*1
[State 0, Turn]
type = Turn
trigger1 = Facing != Var(29)

[State 0, VarSet Pos X 0]
type = VarSet
trigger1 = Time%2 = 1
fv = 21
value = FVar(20)
[State 0, VarSet Pos Y 0]
type = VarSet
trigger1 = Time%2 = 1
fv = 23
value = FVar(22)
[State 0, VarSet Anim 0]
type = VarSet
trigger1 = Time%2 = 1
v = 25
value = Var(24)
[State 0, VarSet Elem 0]
type = VarSet
trigger1 = Time%2 = 1
v = 27
value = Var(26)
[State 0, VarSet Facing 0]
type = VarSet
trigger1 = Time%2 = 1
v = 29
value = Var(28)
[State 0, VarSet Pos X 0]
type = VarSet
trigger1 = Time%2 = 1
fv = 20
value = Root,Pos X + Root,CameraPos X
[State 0, VarSet Pos Y 0]
type = VarSet
trigger1 = Time%2 = 1
fv = 22
value = Root,Pos Y
[State 0, VarSet Anim 0]
type = VarSet
trigger1 = Time%2 = 1
v = 24
value = Root,Anim
[State 0, VarSet Elem 0]
type = VarSet
trigger1 = Time%2 = 1
v = 26
value = Root,AnimElemNo(0)
[State 0, VarSet Facing 0]
type = VarSet
trigger1 = Time%2 = 1
v = 28
value = Root,Facing

[State 0, DestroySelf]
type = DestroySelf
triggerall = Time%2 = 1
triggerall = Time > 4
trigger1 = Root,Var(30) = 0

;---------------------------------------------------------------------------
; AfterImage2
[Statedef 2991]
type = C
movetype = I
physics = N
anim = 666
sprpriority = -6

[State 0, MapSet]
type = RemapPal
trigger1 = !Time
source = 1,1
dest = 1,Root,Var(59)
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 7
trigger2 = Time%2 = 1
flag = invisible
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 1
time = 666
add = 0,0,32
mul = 128,0,192
color = 64
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 2
time = 666
add = 64,32,0
mul = 384,384,0
color = 64
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 3
time = 666
add = 64,16,0
mul = 384,192,0
color = 64
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 4
time = 666
add = 64,0,0
mul = 384,32,0
color = 64
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 5
time = 666
add = 176,184,192
mul = 192,200,208
color = 0
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 6
time = 666
add = 8,16,16
mul = 16,8,16
color = 0
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(30) = 7
time = 666
add = floor((Root,Map(FXColor)%16777216)*0.0000152587890625*0.75),floor((Root,Map(FXColor)%65536)*0.00390625*0.75),floor((Root,Map(FXColor)%256)*0.75)
mul = floor((Root,Map(FXColor)%16777216)*0.0000152587890625*0.75),floor((Root,Map(FXColor)%65536)*0.00390625*0.75),floor((Root,Map(FXColor)%256)*0.75)
color = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time >= 7
trigger1 = Time%2 = 0
value = Var(38)
elem = Var(41)
[State 0, PosSet]
type = PosSet
triggerall = Time >= 7
trigger1 = Time%2 = 0
x = fVar(32) - Root,CameraPos X - Sin(GameTime+2)*2
y = fVar(35) - Cos(GameTime+2)*2
[State 0, Turn]
type = Turn
trigger1 = Facing != Var(44)

[State 0, VarSet Pos X 4]
type = VarSet
trigger1 = Time%2 = 0
fv = 32
value = fVar(31)
[State 0, VarSet Pos Y 4]
type = VarSet
trigger1 = Time%2 = 0
fv = 35
value = fVar(34)
[State 0, VarSet Anim 4]
type = VarSet
trigger1 = Time%2 = 0
v = 38
value = Var(37)
[State 0, VarSet Elem 4]
type = VarSet
trigger1 = Time%2 = 0
v = 41
value = Var(40)
[State 0, VarSet Facing 4]
type = VarSet
trigger1 = Time%2 = 0
v = 44
value = Var(43)
[State 0, VarSet Pos X 2]
type = VarSet
trigger1 = Time%2 = 0
fv = 31
value = fVar(30)
[State 0, VarSet Pos Y 2]
type = VarSet
trigger1 = Time%2 = 0
fv = 34
value = fVar(33)
[State 0, VarSet Anim 2]
type = VarSet
trigger1 = Time%2 = 0
v = 37
value = Var(36)
[State 0, VarSet Elem 2]
type = VarSet
trigger1 = Time%2 = 0
v = 40
value = Var(39)
[State 0, VarSet Facing 2]
type = VarSet
trigger1 = Time%2 = 0
v = 43
value = Var(42)
[State 0, VarSet Pos X 0]
type = VarSet
trigger1 = Time%2 = 0
fv = 30
value = Root,Pos X + Root,CameraPos X
[State 0, VarSet Pos Y 0]
type = VarSet
trigger1 = Time%2 = 0
fv = 33
value = Root,Pos Y
[State 0, VarSet Anim 0]
type = VarSet
trigger1 = Time%2 = 0
v = 36
value = Root,Anim
[State 0, VarSet Elem 0]
type = VarSet
trigger1 = Time%2 = 0
v = 39
value = Root,AnimElemNo(0)
[State 0, VarSet Facing 0]
type = VarSet
trigger1 = Time%2 = 0
v = 42
value = Root,Facing

[State 0, DestroySelf]
type = DestroySelf
triggerall = Time%2 = 1
triggerall = Time > 4
trigger1 = Root,Var(30) = 0

;---------------------------------------------------------------------------
; SuperBG1
[Statedef 2995]
type = C
movetype = I
physics = N
anim = 666
sprpriority = -5

[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger2 = Root,Var(30)
v = 5
value = min(Root,Var(30)-2,3)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 0, MapAdd]
type = RootMapAdd
trigger1 = Root,Map(SuperPauseTime)
map = "SuperPauseTime"
value = -1
[State 0, MapAdd]
type = RootMapSet
trigger1 = Root,Map(SuperPauseTime)
trigger1 = Root,MoveType = H
map = "SuperPauseTime"
value = -1

[State 0, Hue R Set]
type = MapSet
trigger1 = Time >= 12
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalR"
value = (1.0+Map(PalR))*0.5
[State 0, Hue G Set]
type = MapSet
trigger1 = Time >= 12
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalG"
value = (0.35 - 0.55*(Var(5)=1) - 0.95*(Var(5)=2)+Map(PalG) + 0.65*(Var(5)=3))*0.5
[State 0, Hue B Set]
type = MapSet
trigger1 = Time >= 12
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalB"
value = (-0.6 + 0.1*(Var(5)=1) + 0.1*(Var(5)=2)+Map(PalB) + 1.6*(Var(5)=3))*0.5

[State 0, Hue R Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalR"
value = Map(PalR)*0.5
[State 0, Hue G Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalG"
value = Map(PalG)*0.5
[State 0, Hue B Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalB"
value = Map(PalB)*0.5

[State 0, Add Set]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalAdd"
value = (ifelse(Time=[12,24],32,ifelse(Time<12,0,12))+Map(PalAdd))*0.5
[State 0, Add Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0
trigger1 = Var(6) = [1,2]
map = "PalAdd"
value = (64+Map(PalAdd)*0.5)
[State 0, Add Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalAdd"
value = Map(PalAdd)*0.5

[State 0, Mul Set]
type = MapSet
trigger1 = !Time
map = "PalMul"
value = 256
[State 0, Mul Set]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalMul"
value = (128+Map(PalMul))*0.5
[State 0, Mul Drop]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalMul"
value = (256+Map(PalMul))*0.5

[State 0, Map Color Start]
type = MapSet
trigger1 = !Time
map = "PalColor"
value = 256
[State 0, Map Color Down]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) > 0
map = "PalColor"
value = (128+Map(PalColor))*0.5
[State 0, Map Color Up]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) = 0 && Time%2
trigger2 = Root,Map(SuperPauseTime) < 0
map = "PalColor"
value = ceil((268+Map(PalColor)+Map(PalColor))*0.33)

[State 0, MapSet]
type = MapSet
trigger1 = Time > 12
trigger1 = Root,Map(SuperPauseTime) > 0
trigger1 = Root,Var(54) > 0
map = "PalDark"
value = (64+Map(PalDark))*0.5
[State 0, MapSet]
type = MapSet
trigger1 = Root,Map(SuperPauseTime) <= 0
trigger2 = Root,Var(54) <= 0
map = "PalDark"
value = Map(PalDark)*0.25

[State 0, VarSet]
type = VarAdd
trigger1 = Root,Map(SuperPauseTime) = 0
v = 6
value = 1

[State 0, AllPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = Map(PalAdd) + Map(PalAdd) * Map(PalR),Map(PalAdd) + Map(PalAdd) * Map(PalG),Map(PalAdd) + Map(PalAdd) * Map(PalB)
mul = Map(PalMul) + Map(PalMul) * Map(PalR) - Map(PalDark) * 0.5,Map(PalMul) + Map(PalMul) * Map(PalG) - Map(PalDark) * 0.5,Map(PalMul) + Map(PalMul) * Map(PalB) - Map(PalDark) * 0.5
color = Map(PalColor) - Map(PalDark)
[State 0, PalFX]
type = PalFX
trigger1 = Root,Var(54)
time = 1
add = Map(PalAdd) + Map(PalAdd) * Map(PalR),Map(PalAdd) + Map(PalAdd) * Map(PalG),Map(PalAdd) + Map(PalAdd) * Map(PalB)
mul = 64 + 64 * Map(PalR),64 + 64 * Map(PalG),64 + 64 * Map(PalB)
color = 256 - Map(PalColor) * 1
redirectid = EnemyNear,ID
[State 0, AllPalFX]
type = PalFX
trigger1 = 1
time = 1
add = Map(PalAdd) + Map(PalAdd) * Map(PalR) * 4,Map(PalAdd) + Map(PalAdd) * Map(PalG) * 4,Map(PalAdd) + Map(PalAdd) * Map(PalB) * 4
mul = Map(PalMul) + Map(PalMul) * Map(PalR) - Map(PalDark) * 0.5,Map(PalMul) + Map(PalMul) * Map(PalG) - Map(PalDark) * 0.5,Map(PalMul) + Map(PalMul) * Map(PalB) - Map(PalDark) * 0.5
color = Map(PalColor) - Map(PalDark)

[State 0, Explod]
type = Explod
trigger1 = Time%12 = 0
anim = F150 + 10 * Var(5)
ID = 3120
pos = 440,120 + 4 * (random%21)
postype = back
vfacing = 1-2*(random%2)
vel = -20,0
removetime = 28
sprpriority = -9
supermovetime = -1
ownpal = 1
trans = add
alpha = 256,256

[State 0, Explod BIG PORT BG]
type = Explod
trigger1 = Root,Var(54)
anim = F900
ID = 2995
pos = 320 * (TeamSide=2) + (Time*0.25 + min((-40+Time)*0.5,-0.4*((24-min(24,Time))**2))) * (1 - 2 * (TeamSide=2)),104
postype = left
facing = ifelse(TeamSide=2,-1,1)
removetime = 1
supermovetime = 1
scale = 0.5,0.5
sprpriority = -9
ownpal = 0
removeongethit = 1
trans = addalpha
alpha = min(256,8 * Root,Var(54)),256 - min(256,4 * Root,Var(54))
[State 0, Explod BIG PORT]
type = Explod
trigger1 = Root,Var(54)
trigger1 = !Root,Var(58)
anim = 9010
ID = 2995
pos = 320 * (TeamSide=2) + min((-40+Time)*0.5,-0.4*((24-min(24,Time))**2)) * (1 - 2 * (TeamSide=2)),100
postype = left
facing = ifelse(TeamSide=2,-1,1)
removetime = 1
supermovetime = 1
scale = 0.5,0.5
sprpriority = -8
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = min(256,24 * Root,Var(54)),256 - min(256,32 * Root,Var(54))
[State 0, Explod BIG PORT Copier]
type = Explod
trigger1 = Root,Var(54)
trigger1 = Root,Var(58)
anim = F901 + 1*(Root,Var(58)=2) + 2*(Root,Var(58)=3) + 3*(Root,Var(58)=1&&Root,Var(59)=18)
ID = 2995
pos = 320 * (TeamSide=2) + min((-40+Time)*0.5,-0.4*((24-min(24,Time))**2)) * (1 - 2 * (TeamSide=2)),100
postype = left
facing = ifelse(TeamSide=2,-1,1)
removetime = 1
supermovetime = 1
scale = 0.5,0.5
sprpriority = -8
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = min(256,24 * Root,Var(54)),256 - min(256,32 * Root,Var(54))

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 3120
trans = add
alpha = ((512-Map(PalMul)*2)*Map(PalR)),256
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,Map(Cutscene) > 16
ID = 3120

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,Map(SuperPauseTime) <= 0
trigger1 = Map(PalColor) >= 256
trigger2 = EnemyNear,NumHelper(2995)
trigger2 = Time > 1
trigger3 = Root,Map(Cutscene) > 16
trigger4 = NumHelper(2995) > 1
trigger4 = Time <= 1

;---------------------------------------------------------------------------
; Craze Cancel (1)
[Statedef 3000]
type    = U
movetype= I
physics = N
movehitpersist = 1
anim = 3000

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = 1
[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 7
value = (Vel Y < 0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = PrevStateNo = 105
statetype = S

[State 0, ChangeState]
type = ChangeState
triggerall = StateType != A
trigger1 = Ctrl
trigger2 = PrevStateNo = [5000,6000)
value = 3120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !Time
value = 3005
ctrl = 0

;---------------------------------------------------------------------------
; Craze Cancel (2)
[Statedef 3001]
type    = U
movetype= I
physics = N
velset = 0,0
movehitpersist = 1
anim = ifelse(AnimExist(3001),3001,3000)
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = 2
[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 7
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !Time
value = 3005
ctrl = 0

;---------------------------------------------------------------------------
; Craze Cancel (3)
[Statedef 3002]
type    = U
movetype= I
physics = N
velset = 0,0
movehitpersist = 1
anim = ifelse(AnimExist(3002),3002,3000)
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = 3
[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 7
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !Time
value = 3005
ctrl = 0

;---------------------------------------------------------------------------
; Craze Cancel
[Statedef 3005]
type    = U
movetype= I
physics = N
velset = 0,0
movehitpersist = 1
ctrl = 0
facep2 = 1
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = [2,24)
time = 1
mul = 200 + max(0,56+(-240+Time*10)),200 + max(0,56+(-240+Time*10)),232 + max(0,24+(-240+Time*10))
color = 168 + max(0,88+(-240+Time*10))
[State 0, PalFX]
type = PalFX
trigger1 = Time = 4
time = 4
add = 256,256,256
[State 0, PalFX]
type = PalFX
trigger1 = Time%3 = 2
trigger1 = Time = [8,16]
time = 1
add = 32+Var(5)*32,32,128-Var(5)*32
mul = 64+Var(5)*48,64,248-Var(5)*48
color = 64
ignorehitpause = 1

[State 0, Var]
type = VarSet
trigger1 = !Time
v = 1
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 3000
ignorehitpause = 1

[State 0, AttackDist]
type = AttackDist
trigger1 = Var(5) = 1
value = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Var(5) = 1 && MoveType = I
movetype = A

[State 0, SuperPause]
type = SuperPause
trigger1 = Time = 2
time = 24
anim = -1;95 + Var(5)
pos = 0,-40
sound = -1
movetime = 24
darken = 0
p2defmul = 1.0
unhittable = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time = 2
value = ,NA,SA,HA,NP,SP,HP
time = 23
[State 0, Var SuperPause Notifier]
type = VarSet
trigger1 = Time = 2
v = 54
value = 24

[State 0, Explod]
type = Explod
trigger1 = Time = 2
anim = F95 + Var(5)
pos = 0,const(size.mid.pos.y) + (-const(size.mid.pos.y) + const(size.head.pos.y)) * 0.5
postype = p1
bindtime = 666
sprpriority = 9
ontop = 1
ownpal = 1
supermovetime = 666

[State 0, Var Voice Bank]
type = VarSet
trigger1 = Time = 2
v = 33
value = 3000
[State 0, Var Voice Bank]
type = VarSet
trigger1 = Time = 2
trigger1 = Name = "EMIC" || Name = "EMIX" || Name = "EMIK"
trigger1 = Var(58) != 3
trigger1 = Random < 500
v = 33
value = Anim + 1
[State 0, Var Voice Variant]
type = VarSet
trigger1 = Time = 2
v = 34
value = random % const(BC.VoiceBankCrazeCancel)

[State 0, Snd Super]
type = PlaySnd
trigger1 = Time = 2
value = F20,0
channel = 1

[State 0, Var LucidMeter Reduc]
type = VarAdd
trigger1 = !Time
v = 18
value = -1000 * Var(5)
[State 0, VarSet]
type = VarSet
trigger1 = Var(11) > 2
v = 11
value = 2
;[State 0, VarAdd]
;type = VarAdd
;trigger1 = !Time
;trigger1 = Var(5) = 3
;fv = 8
;value = (1.0-FVar(8))*0.25

[State 0, PosSet]
type = PosSet
trigger1 = StateType != A
trigger2 = Pos Y > 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time 
v = 6
value = 0
[State 0, VarSet]
type = VarSet
trigger1 = command = "FF"
v = 6
value = 1
[State 0, VarSet]
type = VarSet
trigger1 = command = "BB"
v = 6
value = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 26 && Pos Y >= 0
value = 0

[State 0, StateTypeSet]
type = ChangeState
triggerall = Pos Y + Vel Y >= 0
triggerall = Time = 26
trigger1 = command = "holdup"
value = 40
[State 0, StateTypeSet]
type = ChangeState
triggerall = Pos Y + Vel Y < 0
trigger1 = Time = 26
value = 3110
[State 0, StateTypeSet]
type = ChangeState
trigger1 = Time = (26 + 2 * (!MoveContact))
trigger1 = command != "holddown"
trigger1 = command = "holdback" || command = "holdfwd"
value = ifelse(SelfAnimExist(100)&&command="holdfwd"&&Var(6)=1,100,ifelse(command="holdback"&&Var(6)=2,105,3100))
[State 200, 3]
type = ChangeState
trigger1 = Time = (26 + 2 * (!MoveContact))
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Craze Dash
[Statedef 3100]
type    = S
movetype= I
physics = N
movehitpersist = 1
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 16
flag = noautoturn
flag2 = nowalk

[State 0, ChangeState]
type = ChangeState
trigger1 = command="holdback"
value = 0
ctrl = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifelse(command="holdback",3105,3100)

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = ifelse(command="holdback",-4.5 - const(velocity.run.fwd.x) * 0.5 * Map(SpeedMod),5 + const(velocity.run.fwd.x) * 0.6 * Map(SpeedMod))

[State 0, AttackDist]
type = AttackDist
trigger1 = Var(5) = 1
value = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Var(5) = 1 && MoveType = I
movetype = A

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = 1

[State 0, VelMul]
type = VelMul
trigger1 = Time < 4
x = 0.95
[State 0, VelMul]
type = VelMul
trigger1 = Time = [4,8)
x = 0.85
[State 0, VelMul]
type = VelMul
trigger1 = Time >= 8
x = 0.7

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Craze Jump
[Statedef 3110]
type    = A
movetype= I
physics = A
velset = 0,0
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3110
elem = ifelse(command="holdup"||Var(7),1,3)

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 1
value = 1
[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 6 
value = 0
[State 0, VarSet]
type = VarSet
triggerall = command != "holdup"
trigger1 = Name = "REAP" || Name = "REAX" || Name = "REAK" || Name = "IKUE" || Name = "IKUX" || Name = "IKUK" || Name = "JANE" || Name = "JANX" || Name = "JANK"
v = 6
value = 1
[State 0, VarSet]
type = ChangeState
trigger1 = command = "holdup"
trigger1 = Var(6) = 1
value = 45
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = ifelse(command="holdback",const(velocity.jump.back.x) * 0.45 * (1+Map(SpeedMod)),ifelse(command="holdfwd",const(velocity.jump.fwd.x) * 0.45 * (1+Map(SpeedMod)),0))
y = ifelse(command="holdup"||Var(7),const(velocity.jump.y) * 0.5,0)

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 0
value = 1

;---------------------------------------------------------------------------
; Craze Parry A
[Statedef 3120]
type    = S
movetype= I
physics = N
velset = 0,0
sprpriority = -2
anim = 120

[State 0, No...More...]
type = ChangeAnim
trigger1 = time = 9
value = 140

[State 0, Var LucidMeter Reduc]
type = VarAdd
trigger1 = !Time
v = 18
value = -1000

[State 0, Snd Parry]
type = PlaySnd
trigger1 = !Time
value = F20,7

[State 0, Map Flare Level Storage EX]
type = MapSet
trigger1 = Name = "AJIX"
trigger1 = !Time
map = "AjixStore"
value = min(3,Map(AjixStore)+1)

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = F46
ID = 3000
pos = 8 + const(size.ground.front),const(size.mid.pos.y)
postype = p1
bindtime = 16
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, PalFX]
type = PalFX
trigger1 = Time%5 = 0 
time = 2
add = 16,48,128
mul = 32,96,248
invertall = 0
color = 64

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time < 6
trigger1 = EnemyNear,StateNo != 3200
reversal.attr = SCA,NA,SA,HA,NP,SP,HP
pausetime = 0,15
sparkno = -1
hitsound = -1
p1stateno = 3121
[State 0, ReversalDef]
type = ReversalDef
trigger1 = time < 6
trigger1 = EnemyNear,StateNo = 3200
reversal.attr = SCA,NP,SP,HP
pausetime = 0,0
sparkno = -1
hitsound = -1
p1stateno = 3121

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 120
trigger1 = AnimTime = 0
value = 150

[State 0, ChangeState]
type = ChangeState
trigger1 = Time >= 20
value = ifelse((map(p_Bk)>0),130 + (map(p_Dn)>0),140)

;---------------------------------------------------------------------------
; Craze Parry S1
[Statedef 3121]
type = S
movetype = A
physics = N
anim = 3120
facep2 = 1
sprpriority = 3
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = Time >= 4
value = 3122

;---------------------------------------------------------------------------
; Craze Parry S2
[Statedef 3122]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 5

[State 0, Var LucidMeter Reduc]
type = VarAdd
trigger1 = !Time
v = 18
value = 1000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time < 8
trigger2 = !Time
value = 3000

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time < 8
time = 1
mul = 216,216,232
color = 192
[State 0, PalFX]
type = PalFX
trigger1 = Time = 2
time = 4
add = 256,256,256
[State 0, PalFX]
type = PalFX
trigger1 = Time%3 = 0
trigger1 = Time = [6,14]
time = 1
add = 16,48,128
mul = 32,96,248
color = 64
ignorehitpause = 1
[State 0, PalFX]
type = PalFX
trigger1 = Time < 8
time = 1
mul = 216,216,232
color = 40
redirectid = enemynear, id

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 3000
ignorehitpause = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = !Time
time = 8
anim = -1;95 + Var(5)
pos = 0,-40
sound = -1
movetime = 8
darken = 0
p2defmul = 1.0
unhittable = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
[State 0, Var SuperPause Notifier]
type = VarSet
trigger1 = !Time
v = 54
value = 8

[State 0, Explod CC]
type = Explod
trigger1 = !Time
anim = F94
pos = 0,const(size.mid.pos.y) + (-const(size.mid.pos.y) + const(size.head.pos.y)) * 0.5
postype = p1
bindtime = 666
sprpriority = 9
ontop = 1
ownpal = 1
supermovetime = 666
[State 0, Explod Ring]
type = Explod
trigger1 = Time = 8
anim = F20
pos = 0,const(size.mid.pos.y) + (-const(size.mid.pos.y) + const(size.head.pos.y)) * 0.5
postype = p1
bindtime = 666
sprpriority = -9
ownpal = 1
supermovetime = 666

[State 0, Var EnvShake]
type = VarSet
trigger1 = Time = [8,12)
v = 9
value = 4

[State 0, Width]
type = Width
trigger1 = EnemyNear,BackEdgeDist <= 1
trigger1 = Time > 8
edge = P2Dist X - EnemyNear,Vel X * 1.1,0

[State 0, Common Voice Throw Break]
type = VarSet
trigger1 = !Time
v = 33
value = 5380
[State 0, Common Voice Armor Break]
type = VarSet
trigger1 = !Time
v = 34
value = random % const(BC.VoiceBankThrowTech)
[State 0, Var Voice Bank]
type = VarSet
triggerall = !Time
trigger1 = Name = "SHER" || Name = "SHEX" || Name = "JANE" || Name = "JANX" || Name = "JANK"
v = 33
value = 3000
[State 0, Var Voice Variant]
type = VarSet
triggerall = !Time
trigger1 = Name = "SHER" || Name = "SHEX" || Name = "JANE" || Name = "JANX" || Name = "JANK"
v = 34
value = random % const(BC.VoiceBankCrazeCancel)
[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
v = 33
value = 160
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
v = 34
value = random % const(BC.VoiceBankHeartBreaker)

[State 0, Snd Super]
type = PlaySnd
trigger1 = !Time
value = F20,5
;channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Time = 40 - (Name="WALL"||Name="WALX"||Name="WALK"||Name="REAP"||Name="REAX"||Name="BOUN"||Name="BOUX"||Name="BOUK"||Name="BAXT"||Name="BAXX"||Name="BAXK"||Name="GOLI"||Name="GOLX"||Name="GOLK"||Name="TYRA"||Name="TYRX"||Name="TYRK"||Name="IKUE"||Name="IKUX"||Name="IKUK"||Name="BERN"||Name="BERX"||Name="BERK"||Name="JANE"||Name="JANX"||Name="JANK")
trigger2 = Time = 24 - (Name="WALL"||Name="WALX"||Name="WALK"||Name="REAP"||Name="REAX"||Name="BOUN"||Name="BOUX"||Name="BOUK"||Name="BAXT"||Name="BAXX"||Name="BAXK"||Name="GOLI"||Name="GOLX"||Name="GOLK"||Name="TYRA"||Name="TYRX"||Name="TYRK"||Name="IKUE"||Name="IKUX"||Name="IKUK"||Name="BERN"||Name="BERX"||Name="BERK"||Name="JANE"||Name="JANX"||Name="JANK")
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Craze Parry V
[Statedef 3125]
type = S
movetype = H
physics = N
ctrl = 0
facep2 = 1
sprpriority = 1
anim = max(anim,5010)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 1
value = 5380

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = min(0,-12 + P2BodyDist X * 0.15)
y = 0
[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.975
[State 0, VelAdd]
type = VelAdd
trigger1 = Pos Y + Vel Y < 0
y = 0.5
[State 0, PosSet]
type = PosSet
trigger1 = Pos Y + Vel Y > 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Pos Y + Vel Y > 0
y = 0

[State 0, Width]
type = Width
trigger1 = EnemyNear,BackEdgeDist <= 1
trigger1 = RoundState = 2
edge = P2Dist X - EnemyNear,Vel X,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.85

[State 195, 2]
type = SelfState
trigger1 = Anim = 5380
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; C.Parry Dash F
[Statedef 3130]
type    = S
movetype= A
physics = N
movehitpersist = 1
velset = 0,0
ctrl = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 12
flag = noautoturn
flag2 = nowalk
[State 0, NotHitBy]
type = NotHitBy
trigger1 = !Ctrl
value = ,NA,SA,HA,NP,SP,HP
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3100 + 5 * (PrevStateNo=3131)

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = ifelse(PrevStateNo = 3131,-4.5 - const(velocity.run.fwd.x) * 0.5,5 + const(velocity.run.fwd.x) * 0.6)

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = 1 - 2 * (PrevStateNo=3131)

[State 0, VelMul]
type = VelMul
trigger1 = Time < 4
x = 0.95
[State 0, VelMul]
type = VelMul
trigger1 = Time = [4,8)
x = 0.85
[State 0, VelMul]
type = VelMul
trigger1 = Time >= 8
x = 0.7

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 12
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; C.Parry Dash B
[Statedef 3131]
type    = S
movetype= I
physics = N
movehitpersist = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = 1
value = 3130

;---------------------------------------------------------------------------
; Craze Collision
[Statedef 3200]
type    = S
movetype= A
physics = N
velset = 0,0
facep2 = 1
ctrl = 0
anim = 3200

[State 0, VarSet]
type = VarSet
trigger1 = !Time
var(18) = max(0,Var(18) - 1000 + 1000 * Var(5) * (PrevStateNo=3005))
[State 0, VarSet]
type = VarSet
trigger1 = Time <= 8
var(5) = (Var(18) >= 1000) && (Map(h_x) && Map(h_y) && Map(h_a) && Map(h_b))
[State 0, VarSet]
type = VarAdd
trigger1 = Time = 8
trigger1 = Var(5)
var(18) = -1000
[State 0, VarAdd]
type = VarAdd
trigger1 = !MoveContact && Var(6) > 0
var(6) = -1
[State 0, VarSet]
type = VarSet
trigger1 = !MoveContact
var(6) = 8 * (EnemyNear,StateNo=[150,160))

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 8 && Var(5)
value = 3201

[State 0, NotHitBy]
type = NotHitBy
trigger1 = EnemyNear,StateNo = 160 && Time <= 15
value = ,NA,SA,HA
time = 1

[State 0, PalFX]
type = PalFX
trigger1 = Time = 4
time = 4
add = -256,-256,-256
[State 0, PalFX]
type = PalFX
trigger1 = Time%3 = 2
trigger1 = Time = [8,16]
time = 1
add = 0,32,0
mul = 64,216,64
color = 32
ignorehitpause = 1
[State 0, Explod CC FX]
type = Explod
trigger1 = Time = 2
anim = F130
pos = 0,const(size.mid.pos.y) + (-const(size.mid.pos.y) + const(size.head.pos.y)) * 0.125
postype = p1
bindtime = 8
sprpriority = 9
ontop = 1
ownpal = 1
supermovetime = 666

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = Time = [9 + 10 * Var(5),10 + 12 * Var(5)]
x = 1.5
[State 0, VelAdd]
type = VelAdd
trigger1 = Time = [11 + 12 * Var(5),12 + 12 * Var(5)]
x = 3
[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.9 - 0.2 * (Time > 17 + 12 * Var(5))
[State 0, VelMul]
type = VelMul
trigger1 = Time = 17 + 12 * Var(5)
x = 0.5

[State 0, Var Voice Bank]
type = VarSet
trigger1 = Time = 9 + 12 * Var(5)
v = 33
value = 200
[State 0, Var Voice Variant]
type = VarSet
trigger1 = Time = 9 + 12 * Var(5)
v = 34
value = random % const(BC.VoiceBankExert)

[State 0, Snd FX]
type = PlaySnd
trigger1 = Time = 0
value = F20,6
[State 0, Snd Swing]
type = PlaySnd
trigger1 = Time = 9 + 12 * Var(5)
value = F0,4

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 12
value = 104

[State 0, HitDef]
type = HitDef
trigger1 = !MoveContact && !MoveReversed
attr = S,SA
hitflag = MAF
guardflag = M
animtype = heavy
priority = 5,Hit
damage = Ceil(Var(12) * FVar(10))
guardpoints = 0
pausetime = 12,12
guard.pausetime = 12,12
sparkno = 15 + random%4
guard.sparkno = 40
sparkxy = -40+Floor(P2Dist X*0.5),-48+Floor(P2Dist Y*0.5)
hitsound = 1,4
guardsound = 5,1
ground.type = Low
ground.slidetime = 21
ground.hittime = 21
guard.hittime = 18 + 6 * Var(5)
yaccel = 0.50
fall = 1
fall.recovertime = 510
ground.velocity = -3 + p2bodydist x * 0.025,-3
air.velocity = -3 + p2bodydist x * 0.025,-3 + p2dist y * -0.05
p2facing = 1
kill = 0
getpower = 0,0
givepower = floor(Var(12)*Map(ScaledPowerGiveHit)),floor(Var(12)*const(BC.PowerGiveGuard))

[State 0, Var Dire Counter Stack On]
type = VarSet
triggerall = MoveHit && !MoveReversed
triggerall = NumTarget
trigger1 = Var(8) = 1 && Var(10) = 2
v = 11
value = 2
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = MoveHit && Var(8) = 1
trigger1 = Var(5)
trigger1 = EnemyNear,PrevStateNo = 3120
value = 5310
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = MoveHit && Var(8) = 1
trigger1 = Var(5) || Var(10) = [1,2]
trigger1 = EnemyNear,StateNo = [5000,5100)
value = ifelse(var(5),5340,5390)
ignorehitpause = 1

[State 0, Map HB Reduce]
type = MapSet
triggerall = NumTarget
trigger1 = Var(8) = 1 && Var(6) <= 0 && Var(5)
map = "HeartbreakerReady"
value = 0
ignorehitpause = 1
redirectid = EnemyNear,ID
[State 0, Var Guard Gauge Add]
type = VarSet
triggerall = NumTarget
trigger1 = Var(8) = 1 && Var(6) <= 0
var(25) = ceil(Var(25)*0.80) - ceil(Var(25)*0.14) * EnemyNear,Var(5)
ignorehitpause = 1
redirectid = EnemyNear,ID
[State 0, Var GuardMeter Reduc]
type = VarSet
triggerall = NumTarget
trigger1 = Var(8) = 1 && Var(6) <= 0
var(27) = 0
ignorehitpause = 1
redirectid = EnemyNear,ID

[State 0, NotHitBy]
type = NotHitBy
triggerall = NumTarget
trigger1 = Var(8) = 1 && MoveHit
trigger1 = !Var(5)
value = SCA
time = 40
ignorehitpause = 1
redirectid = EnemyNear,ID

[State 0, Dampening H]
type = VarSet
triggerall = MoveHit
trigger1 = Var(8) = 1
fv = 8
value = FVar(8)*(const(BC.ScalingH1) + const(BC.ScalingH2) * ifelse(FVar(8)<1,1-FVar(8),0))
ignorehitpause = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = Time = 32 + 7 * Var(5)
value = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Kahl Intro 1
[Statedef 3680]
type = S
ctrl = 0
velset = 0,0
sprpriority = 0
anim = 5110

[State 0, RemapPal]
type = VarSet
trigger1 = AILevel
var(59) = 17 + (EnemyNear,Var(58)=3&&EnemyNear,Var(59)=17)

[State 0, ChangeState]
type = ChangeState
trigger1 = !Time && PrevStateNo != StateNo
trigger1 = Random < 500
value = 3681

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
trigger2 = Time = 32
id = 6666
[State 0, Explod Kahl Pre]
type = Explod
trigger1 = Time < 32
anim = F6600
ID = 6666
pos = 16,4
postype = p1
sprpriority = 2
removetime = 1
shadow = -1
ownpal = 1
[State 0, Explod Kahl]
type = Explod
trigger1 = Time = 32
pos = 16,4
anim = F6600
ID = 6666
postype = p1
sprpriority = 2
shadow = -1
ownpal = 1

[State 0, Snd Laugh]
type = PlaySnd
trigger1 = Time = 32
value = F10190,random%2
channel = 0
[State 0, Snd Whoosh]
type = PlaySnd
trigger1 = Time = 32 + 76
value = F10190,2
channel = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 112
value = 5120

[State 0, Var Intro TimeStart]
type = VarSet
trigger1 = !Time
v = 5
value = 112
[State 0, Var Intro Timer]
type = VarAdd
trigger1 = Var(5)
v = 5
value = -1
[State 191, Intro Flag]
type = AssertSpecial
trigger1 = Var(5)
flag = Intro
[State 0, ChangeState]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = EnemyNear,Var(5) > 16
trigger1 = Time = 1
value = 3680

[State 191, 3]
type = ChangeState
trigger1 = Anim = 5120
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Kahl Intro 2
[Statedef 3681]
type = S
ctrl = 0
velset = 0,0
sprpriority = 0
anim = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
id = 6666
[State 0, Explod Kahl 1]
type = Explod
trigger1 = !Time
anim = F6605
ID = 6666
pos = 0,0
postype = back
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
[State 0, Explod Kahl 2]
type = Explod
trigger1 = Time = 96
anim = F6606
ID = 6666
pos = 0,0
postype = back
vel = -2.5,0
accel = -0.1,0
sprpriority = 9
removetime = 128
scale = 0.5,0.5
ontop = 1
ownpal = 1

[State 0, Snd Kahl Hum]
type = PlaySnd
trigger1 = Time = 64
value = F5,60
channel = 1

[State 0, Var Intro TimeStart]
type = VarSet
trigger1 = !Time
v = 5
value = 96
[State 0, Var Intro Timer]
type = VarAdd
trigger1 = Var(5)
v = 5
value = -1
[State 191, Intro Flag]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0, ChangeState]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = EnemyNear,Var(5) > 64
trigger1 = Time = 1
value = StateNo

[State 191, 3]
type = ChangeState
trigger1 = Time = 128
value = 0

;---------------------------------------------------------------------------
; Kahl Win
[Statedef 3682]
type = S
ctrl = 0
velset = 0,0
anim = 6600 + (Name="REAK")

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !Time
trigger1 = Name = "AJIT" || Name = "AJIX" || Name = "AJIK"
trigger2 = Name = "JUST" || Name = "JUSX"
trigger3 = Name = "ISAB" || Name = "ISAX" || Name = "ISAK"
trigger4 = Name = "GOLI" || Name = "GOLX" || Name = "GOLK"
trigger5 = Name = "EMIC" || Name = "EMIX" || Name = "EMIK"
value = 181
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !Time
trigger1 = Name = "SHER" || Name = "SHEX"
value = ifelse(Random<500,165,181)
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !Time
trigger1 = Name = "JUSK"
value = 11810
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !Time
trigger1 = Name = "TERI" || Name = "TERX" || Name = "TERK"
value = 182

[State 810, Snd Jeer]
type = PlaySnd
trigger1 = Name = "JUSK"
trigger1 = AnimElem = 4
value = S2310,3
[State 0, Explod Puff]
type = Explod
trigger1 = Name = "LUCY" || Name = "LUCX" || Name = "LUCK"
trigger1 = AnimElem = 2
anim = 2201
id = 3000
pos = 8,0
postype = p1
vel = -1,0
accel = 0.05,0
sprpriority = 5
ownpal = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, Kahl]
type = Explod
trigger1 = Time = 8
anim = F6601
pos = 24,-2
postype = p1
removetime = -1
sprpriority = -1
shadow = -1
ownpal = 1
[State 0, Snd Kahl Laugh]
type = PlaySnd
trigger1 = Time = 8 + 48
value = F10190,random%2
channel = 0
[State 0, Snd Kahl Whoosh]
type = PlaySnd
trigger1 = Time = 8
value = F10190,2
channel = 1

[State 0, VarSet I Win!]
type = VarSet
trigger1 = Time = 136
trigger1 = MatchOver && Win
v = 32
value = 59
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 160 + (MatchOver * 64)
flag = roundnotover

;---------------------------------------------------------------------------
; Kahl Lose
[Statedef 3683]
type = S
ctrl = 0
velset = 0,0
anim = 5300

[State 0, Kahl]
type = Explod
trigger1 = Time = 8
anim = F6602
pos = 24,-2
postype = p1
removetime = -1
sprpriority = -1
shadow = -1
ownpal = 1
[State 0, Snd Kahl Whoosh]
type = PlaySnd
trigger1 = Time = 8
value = F10190,2
channel = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 80 + (MatchOver * 64)
flag = roundnotover

;---------------------------------------------------------------------------
; QSHIFT Intro
[Statedef 3685]
type = S
ctrl = 0
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
ID = 6666
[State 0, Explod QSHIFT]
type = Explod
trigger1 = !Time
anim = F6690
ID = 6666
postype = p1
bindtime = 666
removetime = 92
scale = 1,1
sprpriority = 2
shadow = -1
ownpal = 1
removeongethit = 1
[State 0, Explod QSHIFT FX]
type = Explod
trigger1 = Time = 84
anim = F6691
postype = p1
pos = 0,-48
removetime = -2
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, Snd Shifting]
type = PlaySnd
trigger1 = Time = 84
value = F5,58
[State 0, Snd Q Appear]
type = PlaySnd
trigger1 = Time = 32
value = F5,61

[State 191, 2]
type = AssertSpecial
trigger1 = Anim != 47
flag = invisible

[State 0, Var Intro TimeStart]
type = VarSet
trigger1 = !Time
v = 5
value = 152
[State 0, Var Intro Timer]
type = VarAdd
trigger1 = Var(5)
v = 5
value = -1
[State 191, Intro Flag]
type = AssertSpecial
trigger1 = Var(5)
flag = Intro
[State 0, ChangeState]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = EnemyNear,Var(5) > 16
trigger1 = Time = 1
value = 3690

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 110
value = 47

[State 191, 3]
type = ChangeState
trigger1 = Anim = 47
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; QSHIFT Win
[Statedef 3686]
type = S
ctrl = 0
velset = 0,0

[State 0, Explod SHIFT FX]
type = Explod
trigger1 = !Time
anim = F6691
postype = p1
pos = 0,-48
removetime = -2
sprpriority = 4
[State 0, Explod SHIFT The Man Himself]
type = Explod
trigger1 = Time = 27
anim = F6692
postype = p1
removetime = 666
sprpriority = 4
shadow = -1

[State 0, Snd Triangle]
type = PlaySnd
trigger1 = Time = 0
value = F5,58
[State 0, Snd Q Disappear]
type = PlaySnd
trigger1 = Time = 88
value = F5,62

[State 191, 2]
type = AssertSpecial
trigger1 = Time > 6
flag = invisible

[State 0, VarSet I Win!]
type = VarSet
trigger1 = Time = 128
trigger1 = MatchOver && Win
v = 32
value = 59
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 128 + (MatchOver * 64)
flag = roundnotover

;---------------------------------------------------------------------------
; SHIFT Intro 1
[Statedef 3690]
type = S
ctrl = 0
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = !Time
trigger1 = Random < 500
trigger1 = Anim != 12
trigger1 = !((EnemyNear,Name="BOUN"||EnemyNear,Name="BOUX"||EnemyNear,Name="BOUK")&&EnemyNear,Var(58)=0&&Var(58)=1)
value = 3691
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 12

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
ID = 6666
[State 0, Explod SHIFT HAHAHA]
type = Explod
trigger1 = !Time
anim = F6660 + 10 * ((EnemyNear,Name="BOUN"||EnemyNear,Name="BOUX"||EnemyNear,Name="BOUK")&&EnemyNear,Var(58)=0&&Var(58)=1) + 20 * (Var(58)=2)
ID = 6666
postype = p1
removetime = 8
shadow = -1
ownpal = 1
[State 0, Explod SHIFT HAHAHA]
type = Explod
trigger1 = Time = 8
anim = F6660 + 10 * ((EnemyNear,Name="BOUN"||EnemyNear,Name="BOUX"||EnemyNear,Name="BOUK")&&EnemyNear,Var(58)=0&&Var(58)=1) + 20 * (Var(58)=2)
ID = 6666
postype = p1
bindtime = 666
removetime = -2
scale = 1,1
sprpriority = 2
shadow = -1
ownpal = 1
removeongethit = 1
[State 0, Explod SHIFT JUMP]
type = Explod
trigger1 = Time = 105
anim = F6661 + 20 * (Var(58)=2)
ID = 6666
postype = p1
vel = 0,-8
accel = 0,0.4
removetime = -2
scale = 1,1
sprpriority = 2
shadow = -1
ownpal = 1
removeongethit = 1
[State 0, Explod SHIFT FX]
type = Explod
trigger1 = Time = 132
anim = F6662
ID = 6666
postype = p1
pos = 0,-96
removetime = -2
scale = 1,1
sprpriority = 4
;shadow = -1
ownpal = 1
removeongethit = 1
[State 0, Explod Clone Jump]
type = Explod
trigger1 = Time = 160
anim = 41
ID = 6666
postype = p1
pos = 0,-64
vel = 0,-4
accel = 0,0.4
removetime = 32
scale = 1,1
sprpriority = 2
shadow = -1
ownpal = 1
removeongethit = 1

[State 0, Snd Shifting]
type = PlaySnd
trigger1 = Time = 128
value = F5,58
[State 0, Snd Pop]
type = PlaySnd
trigger1 = Time = 160
value = F5,59

[State 191, 2]
type = AssertSpecial
trigger1 = Anim != 47
flag = invisible

[State 0, Var Intro TimeStart]
type = VarSet
trigger1 = !Time
v = 5
value = 152
[State 0, Var Intro Timer]
type = VarAdd
trigger1 = Var(5)
v = 5
value = -1
[State 191, Intro Flag]
type = AssertSpecial
trigger1 = Var(5)
flag = Intro
[State 0, ChangeState]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = EnemyNear,Var(5) > 16; * ((EnemyNear,Name="BOUN"||EnemyNear,Name="BOUX"||EnemyNear,Name="BOUK")&&EnemyNear,Var(58)=0)
trigger1 = Time = 1
value = 3690

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 105
statetype = A

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 191
value = 47
[State 0, MapSet]
type = MapSet
trigger1 = Time = 191
map = "LandDustFX"
value = 1

[State 191, 3]
type = ChangeState
trigger1 = Anim = 47
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; SHIFT Intro 2
[Statedef 3691]
type = S
ctrl = 0
velset = 0,0
anim = 666

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time
ID = 6666
[State 0, Explod SHIFT HAHAHA]
type = Explod
trigger1 = !Time
anim = F6671
ID = 6666
postype = p1
bindtime = 666
removetime = 104
shadow = -1
ownpal = 1

[State 0, Offset]
type = Offset
trigger1 = Time <= 48
x = ((48-Time)**2.5)*-0.05*Facing

[State 0, Explod SHIFT FX]
type = Explod
trigger1 = Time = 96
anim = F6662
ID = 6666
postype = p1
pos = 0,-48
removetime = -2
sprpriority = 4
;shadow = -1
ownpal = 1
removeongethit = 1

[State 0, Snd Sliding]
type = PlaySnd
trigger1 = Time = 8
value = F5,50
[State 0, Snd Shifting]
type = PlaySnd
trigger1 = Time = 104
value = F5,58

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 120
value = 47

[State 0, Var Intro TimeStart]
type = VarSet
trigger1 = !Time
v = 5
value = 120
[State 0, Var Intro Timer]
type = VarAdd
trigger1 = Var(5)
v = 5
value = -1
[State 191, Intro Flag]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0, ChangeState]
type = ChangeState
triggerall = TeamSide = 2
trigger1 = EnemyNear,Var(5) > 16
trigger1 = Time = 1
value = stateno

[State 191, 3]
type = ChangeState
trigger1 = Anim = 47
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; SHIFT Win
[Statedef 3695]
type = S
ctrl = 0
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = Var(58) = 2
value = 3686

[State 0, Var tyra]
type = VarSet
trigger1 = !Time
v = 5
value = 0
[State 0, Var I Dont Know This Persons Name. Gill? It's Gill.]
type = VarSet
trigger1 = !Time
trigger1 = EnemyNear,Name="IKUE"||EnemyNear,Name="IKUX"||EnemyNear,Name="IKUK"
trigger1 = EnemyNear,Var(58) = 0
v = 5
value = 1 + 11 * (Random%2) ; Azazel? Azrael?? Azmazazaz.
[State 0, Var Ona]
type = VarSet
trigger1 = !Time
trigger1 = EnemyNear,Name="TERI"||EnemyNear,Name="TERX"||EnemyNear,Name="TERK"
trigger1 = EnemyNear,Var(58) = 0
v = 5
value = 2 + 11 * (Random%2) ; Myron. I wonder how I knew that one.
[State 0, Var Raphael I Think. Wait, Michael?]
type = VarSet
trigger1 = !Time
trigger1 = EnemyNear,Name="BERN"||EnemyNear,Name="BERX"||EnemyNear,Name="BERK"
trigger1 = EnemyNear,Var(58) = 0
v = 5
value = 3 + 11 * (Random%2) ; General Warthog!?
[State 0, Var Ophelia. Totally confident on that one.]
type = VarSet
trigger1 = !Time
trigger1 = EnemyNear,Name="JANE"||EnemyNear,Name="JANX"||EnemyNear,Name="JANK"
trigger1 = EnemyNear,Var(58) = 0
v = 5
value = 4

[State 0, Explod SHIFT FX]
type = Explod
trigger1 = !Time
anim = F6662
postype = p1
pos = 0,-48
removetime = -2
sprpriority = 4
[State 0, Explod SHIFT The Man Himself]
type = Explod
trigger1 = Time = 27
anim = F6663 + 20 * (Var(58)=2)
postype = p1
removetime = 666
sprpriority = 4
shadow = -1
[State 0, Explod Rise of Tyrant]
type = Explod
triggerall = EnemyNear,Name != "TYRA" && EnemyNear,Name != "TYRX" && EnemyNear,Name != "TYRK"
trigger1 = Time = [27,29]
anim = F6664 + Var(5)
postype = p1
pos = 0,(30 - Time) * 4
removetime = 1
sprpriority = 3
[State 0, Explod Ties of Ryrant]
type = Explod
triggerall = EnemyNear,Name != "TYRA" && EnemyNear,Name != "TYRX" && EnemyNear,Name != "TYRK"
trigger1 = Time = 30
anim = F6664 + Var(5)
postype = p1
removetime = 666
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F5,58

[State 191, 2]
type = AssertSpecial
trigger1 = Time > 6
flag = invisible

[State 0, VarSet I Win!]
type = VarSet
trigger1 = Time = 96
trigger1 = MatchOver && Win
v = 32
value = 59
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 96 + (MatchOver * 128)
flag = roundnotover

;---------------------------------------------------------------------------
; SHIFT Lose
[Statedef 3696]
type = S
ctrl = 0
velset = 0,0
anim = ifelse(Anim=[5000,6000),Anim,0)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time > 6
flag = invisible

[State 0, Explod SHIFT FX]
type = Explod
trigger1 = !Time
anim = F6662
postype = p1
pos = 0,-8 - 48 * (Anim=0)
removetime = -2
sprpriority = 4
[State 0, Explod The Dead Himself]
type = Explod
trigger1 = Time = 27
anim = F6669 + 20 * (Var(58)=2)
postype = p1
pos = 0,32
removetime = 666
vel = 0,-2
shadow = -1
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F5,58

[State 0, VarSet]
type = VarSet
trigger1 = !Time
sysvar(2) = 5600

[State 0, PosSet]
type = PosSet
trigger1 = Time = 28
y = 666
[State 0, ChangeState]
type = ChangeState
trigger1 = Time = 28
value = 5150

;---------------------------------------------------------------------------
; Stand get-hit (shaking)
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, Weak KO]
type = SelfState
triggerall = !Alive
triggerall = Pos Y >= 0
triggerall = PrevStateNo != 5160 && PrevStateNo != 5326
trigger1 = EnemyNear,MoveGuarded
trigger2 = PrevStateNo = [120,160)
trigger3 = EnemyNear,Var(12) <= 48
value = 5160
ignorehitpause = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
;trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)%3

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
trigger1 = GetHitVar(yvel) != 0
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0; || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0; && !GetHitVar(fall)
value = 5001 ;Stand get-hit (knocked back)

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5000, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

;---------------------------------------------------------------------------
; Stand get-hit (knocked back)
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger2 = Anim != [5000,5020)
value = 5000 + (5 + GetHitVar(animtype)%3 + (GetHitVar(groundtype)=2)*10)%20

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 0, VarSet]
type = VarSet
triggerall = HitOver
trigger1 = EnemyNear,Var(51)
trigger2 = EnemyNear,Var(11)
sysvar(4) = 2

[State 5120, 5]
type = NotHitBy
trigger1 = HitOver
value = ,NT,ST,HT
time = 1
[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 3
[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch get-hit (shaking)
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 0, Weak KO]
type = SelfState
triggerall = !Alive
triggerall = Pos Y >= 0
triggerall = PrevStateNo != 5160 && PrevStateNo != 5326
trigger1 = EnemyNear,MoveGuarded
trigger2 = PrevStateNo = [120,160)
trigger3 = EnemyNear,Var(12) <= 48
value = 5160
ignorehitpause = 1

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
;trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)%3

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 ;|| GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 ;&& !GetHitVar(fall)
value = 5011 ;Crouch get-hit (knocked back)

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5010, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

;---------------------------------------------------------------------------
; Crouch get-hit (knocked back)
[Statedef 5011]
type    = C
movetype= H
physics = S

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)%3

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .55

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 0, VarSet]
type = VarSet
triggerall = HitOver
trigger1 = EnemyNear,Var(51)
trigger2 = EnemyNear,Var(11)
sysvar(4) = 2

[State 5120, 5]
type = NotHitBy
trigger1 = HitOver
value = ,NT,ST,HT
time = 1
[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 3
[State 5011, 6]
type = SelfState
trigger1 = HitOver
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Air get-hit (shaking)
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, Weak KO]
type = ChangeState
triggerall = !Alive
triggerall = Pos Y >= 0
triggerall = PrevStateNo != 5160 && PrevStateNo != 5326
trigger1 = EnemyNear,MoveGuarded
trigger2 = PrevStateNo = [120,160)
trigger3 = EnemyNear,Var(12) <= 48
value = 5160
ignorehitpause = 1

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 0, PosAdd]
type = PosSet
trigger1 = !Time
trigger1 = Pos Y > -4
y = -4
ignorehitpause = 1

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

;---------------------------------------------------------------------------
; Air get-hit (knocked away)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = ChangeAnim
trigger1 = Anim != [5000, 5199]
trigger1 = SelfAnimExist(5030)
value = 5030

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel) * cond((enemy, map(SetJuggle)), 1, map(JuggleMul))

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5040 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5050 ;HITA_FALL

[State 5030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;Air get-hit (transition)

;---------------------------------------------------------------------------
; Air get-hit (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;Air get-hit (recovering in air, not falling)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;Air get-hit (falling)

;---------------------------------------------------------------------------
; Air get-hit (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; Air get-hit (falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, Const(movement.air.gethit.groundlevel))
value = 5110 ;Downed get-hit (hit ground from fall)

;---------------------------------------------------------------------------
; Tripped get-hit (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = !Time
trigger2 = Anim = 5070
value = 5070

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

;---------------------------------------------------------------------------
; Tripped get-hit (knocked away)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5070, 1]
type = ChangeAnim
trigger1 = Anim != 5070
value = 5070

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.trip.groundlevel)
type = ChangeState
value = 5105

;---------------------------------------------------------------------------
; Downed get-hit (shaking)
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
triggerall = !Time
trigger1 = EnemyNear,Var(11) > 1
trigger1 = EnemyNear,StateNo < 2000
trigger2 = PrevStateNo = 5085
value = 5085

[State 0, PosAdd]
type = PosSet
trigger1 = !Time
y = -8

[State 5080, 3]
type = ChangeAnim
trigger1 = !Time
value = 5080 + (anim=5105 || anim=5115) * 5
[State 5080, 3]
type = ChangeAnim
trigger1 = anim = 5080 || anim = 5085
value = anim

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
value = ifelse(!Alive,5100,5081) ;Downed get-hit (knocked back)

;---------------------------------------------------------------------------
; Downed get-hit (knocked back)
[Statedef 5081]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5090

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = 0.35

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 4
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5082

;---------------------------------------------------------------------------
; Downed get-hit (land)
[Statedef 5082]
type    = S
physics = S
facep2 = 1
ctrl = 0
anim = 47 + 4000 * (Name="BAXT"&&Map(BaxtFullPal))

[State 0, NotHitBy]
type = NotHitBy
trigger1 = !Time
value = SCA
time = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = VelSet
triggerall = Name != "CICX"
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "LandDustFX"
value = 1
[State 0, Snd Stomp]
type = PlaySnd
triggerall = !Time
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
value = F2,4

[State 0, VarSet Heavy Landshake]
type = VarSet
triggerall = Time <= 2
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
trigger2 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
v = 9
value = 2

[State 52, 3]
type = CtrlSet
trigger1 = !Time
value = 1

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Popfly Hit
[Statedef 5085]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = !Time
trigger1 = EnemyNear,Var(11) > 1
time = 4
add = 255,255,255
ignorehitpause = 1
[State 0, PalFX]
type = PalFX
trigger1 = Time = 4
time = 4
add = 128,0,32
mul = 255,64,128
color = 0
ignorehitpause = 1
[State 0, Explod Dire]
type = Explod
trigger1 = !Time
trigger1 = EnemyNear,Var(11) > 1
anim = F30
pos = 0,-16
postype = p1
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger1 = EnemyNear,Var(11) > 1
v = 11
value = 1
redirectid = enemynear,id

[State 0, PosAdd]
type = PosSet
trigger1 = !Time
y = -8

[State 5080, 3]
type = ChangeAnim
trigger1 = !Time
value = 5080 + (anim=5105 || anim=5115) * 5
[State 5080, 3]
type = ChangeAnim
trigger1 = anim = 5080 || anim = 5085
value = anim

[State 0, Var Voice Bank]
type = VarSet
trigger1 = !Time
v = 33
value = 5000
[State 0, Var Voice Variant]
type = VarSet
trigger1 = !Time
trigger1 = Random > Var(35)
trigger1 = Alive
v = 34
value = random % const(BC.VoiceBankPain)

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
value = ifelse(!Alive,5100,5086) ;Downed get-hit (knocked back)

;------------------
; Popfly Fly
[Statedef 5086]
type    = A
movetype= H
physics = N

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !Time
y = 1
[State 0, HitVelSet]
type = VelSet
trigger1 = !Time
x = 0.5 + P2Dist X * 0.005
y = -6

[State 0, Explod SPIN]
type = Explod
trigger1 = gametime%6 >= 2
anim = F230 + floor(0.5*(gametime%4))
ID = 3000
pos = 0,const(size.mid.pos.y)
postype = p1
removetime = 1
sprpriority = -5 + 10 * (gametime%6>=4)
scale = 0.35 + 0.0075 * abs(const(size.head.pos.y)),0.35 + 0.0075 * abs(const(size.head.pos.y))
ownpal = 1

[State 0, Snd Swingy]
type = PlaySnd
trigger1 = !(gametime%6)
value = F0,9
channel = !(gametime%3)

[State 5000, 1]
type = ChangeAnim
trigger1 = Anim != 5400
value = 5400

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .333

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y >= 0
value = 5110

;---------------------------------------------------------------------------
; Flipover (shaking)
[Statedef 5090]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger2 = Anim = 5030
value = 5030

[State 0, PosAdd]
type = PosSet
trigger1 = !Time
trigger1 = Pos Y > -4
y = -4
ignorehitpause = 1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5020, 5]
type = SelfState
trigger1 = HitShakeOver
value = 5095

;---------------------------------------------------------------------------
; Flipover (fall)
[Statedef 5095]
type    = A
movetype= H
physics = N
anim = 5040

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "WakeUpInvul"
value = 4
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; Hit Ground (Face Up)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
trigger1 = 1
value = 5100

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 7]
type = ChangeState
trigger1 = 1
value = 5109

;---------------------------------------------------------------------------
; Hit Ground (Face Down)
[Statedef 5105]
type    = L
movetype= H
physics = N

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
trigger1 = 1
value = 5105

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 7]
type = ChangeState
trigger1 = 1
value = 5109

;---------------------------------------------------------------------------
; Lying Down
[Statedef 5109]
type    = L
movetype= H
physics = N

;[State 0, ChangeState]
;type = SelfState
;triggerall = Name = "JANX"
;triggerall = !Time && RoundState = 2
;trigger1 = FVar(21) >= 600 && Var(44) = [0,1]
;value = 4002

[State 0, Map OTG Limiter Add]
type = MapAdd
trigger1 = !Time
map = "OTGs"
value = 1
ignorehitpause = 1

[State 5110, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = anim != 5100 && Anim != 5105
value = 5100
persistent = 0

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
v = 9
value = floor(abs(sysvar(1)*0.25))

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0
[State 5110, 8]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 0, Helper Spawn Puddle]
type = Helper
trigger1 = Name = "CICX"
trigger1 = !Time && RoundState = 2
trigger1 = Map(CicxMoist) > 1
name = "slowly i become one with the mud"
ID = 4000
stateno = 4002
pos = 0,0
postype = p1
ownpal = 1
facing = facing
[State 0, MapSet]
type = MapSet
trigger1 = Name = "BAXT"
trigger1 = !Time && RoundState = 2
map = "BaxtSpin"
value = Map(BaxtSpin)*0.66
[State 0, MapSet]
type = MapSet
trigger1 = Name = "CICX"
trigger1 = !Time && RoundState = 2
map = "CicxMoist"
value = max(0,Map(CicxMoist)-1)
[State 0, MapSet]
type = MapSet
trigger1 = Name = "BERN"
trigger1 = !Time && RoundState = 2
map = "BernTimer"
value = 0
[State 0, Explod]
type = Explod
trigger1 = Name = "BERN"
trigger1 = !Time && RoundState = 2
trigger1 = Var(43) >= 100
anim = 1011 + 10 * floor(Var(43)*0.01)
pos = 0,-16
postype = p1
vel = -1-random%3,-1-random%3
accel = 0,0.5
removetime = 24
supermovetime = -1
sprpriority = 1
ownpal = 1
[State 0, MapSet]
type = MapSet
trigger1 = Name = "TSUG"
trigger1 = !Time && RoundState = 2
map = "TsugStack"
value = 0
[State 0, MapSet]
type = VarSet
trigger1 = Name = "BERN"
trigger1 = !Time && RoundState = 2
var(43) = max(1,(floor(var(43)*0.01)-1)*100)
[State 0, MapSet]
type = MapSet
trigger1 = Name = "NECK"
trigger1 = !Time && RoundState = 2
trigger1 = Map(NeckDollBig)
map = "NeccPal"
value = 8
[State 0, MapSet]
type = MapSet
trigger1 = Name = "NECK"
trigger1 = !Time && RoundState = 2
trigger1 = Map(NeckDollBig)
map = "NeckDollBig"
value = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 10)
[State -3, Landing Sound Wet]
type = PlaySnd
triggerall = !Time
trigger1 = Map(StageWet)
value = F4, 1

[State 5110, 7]
type = Explod
trigger1 = Time = 0
trigger1 = !SysVar(0)
anim = F60 + (sysvar(1) > 10) + (sysvar(1) > 12)
postype = none
pos = pos x + camerapos x, 0
ownpal = 1
sprpriority = -8
[State 5110, 7]
type = Explod
triggerall = Time = 0
triggerall = !SysVar(0)
trigger1 = Map(StageWet)
anim = F406 + (sysvar(1) > 10) + (sysvar(1) > 12)
postype = none
pos = pos x + camerapos x, 0
ownpal = 1
sprpriority = -9
[State 5110, 7]
type = Explod
triggerall = Time = 1
triggerall = !SysVar(0)
trigger1 = Map(StageWet)
anim = F406 + (sysvar(1) > 10) + (sysvar(1) > 12)
postype = none
pos = pos x + camerapos x,4
ownpal = 1
removetime = 10
sprpriority = 5

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10]
type = ChangeAnim
triggerall = Anim = 5100 || Anim = 5105
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = anim + 10
persistent = 0

[State 5050, Tirania oversell]
type = ChangeState
triggerall = alive
triggerall = Time <= 1
triggerall = sysvar(2) <= 4
triggerall = Name = "JUSK" && PrevStateNo != 4000
triggerall = !(EnemyNear,Name = "BERX" && EnemyNear,Var(40) = 1)
trigger1 = Command = "holdy" && command = "holdb" && !Var(15)
trigger2 = Command = "holdc" && !Var(15)
value = 4000
[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = alive
triggerall = Time <= 1
triggerall = sysvar(2) <= 4
triggerall = !(EnemyNear,Name = "BERX" && EnemyNear,Var(40) = 1)
triggerall = !(EnemyNear,Name="NECC"&&EnemyNear,StateNo=900&&EnemyNear,MoveType=A&&EnemyNear,Map(NeccPursuit)=0)
trigger1 = Command = "recovery" && !Var(15)
trigger2 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger2 = TeamSide = 2
trigger2 = EnemyNear,Map(TrainingOpt4) = [1,2] || EnemyNear,Map(TrainingOpt4) = 3 && Random <= 333
trigger3 = Var(15) > random
trigger4 = Name = "JUSK" && PrevStateNo = 4000
value = 5200

[State 5110, 11] ;DEAD!
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(0) = 0

[State 0, NotHitBy]
type = NotHitBy
triggerall = !(EnemyNear,Name="NECC"&&EnemyNear,StateNo=900&&EnemyNear,MoveType=A&&EnemyNear,Map(NeccPursuit)=0)
trigger1 = sysvar(2) > 4
trigger1 = sysvar(2) != 510
trigger2 = Time <= 1
value = SCA
time = 1
[State 0, NotHitBy]
type = NotHitBy
triggerall = EnemyNear,Name = "BERX"
trigger1 = Map(OTGs) > 1
value = ,NA,SA,NP,SP
time = 1
[State 0, NotHitBy]
type = NotHitBy
triggerall = !(EnemyNear,Name="NECC"&&EnemyNear,StateNo=900&&EnemyNear,MoveType=A&&EnemyNear,Map(NeccPursuit)=0)
triggerall = !(EnemyNear,Name="BERX")
trigger1 = Map(OTGs) > 1
value = ,NA,SA,NP,SP,NT,ST
time = 1

[State 0, ChangeState]
type = ChangeState
triggerall = !(EnemyNear,Name="BERX"&&EnemyNear,StateNo=880)
triggerall = !(EnemyNear,Name="NECC"&&EnemyNear,StateNo=900&&EnemyNear,MoveType=A&&EnemyNear,Map(NeccPursuit)=0)
trigger1 = Time >= 32 + 16 * (EnemyNear,Var(11)>1) && (sysvar(2) <= 4 || sysvar(2) = 510)
trigger2 = Time >= sysvar(2)
trigger2 = sysvar(2) > 4
trigger3 = Alive && RoundState > 2
value = 5120

;---------------------------------------------------------------------------
; Lying Down Overwrite
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 5109

;---------------------------------------------------------------------------
; GetUp
[Statedef 5120]
type    = L
movetype= I
physics = N
facep2 = 1
velset = 0,0

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
trigger1 = time = 0
value = ifelse(anim=5115,5125,5120)
[State 0, ChangeState]
type = ChangeState
trigger1 = !Alive
value = 5150

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, MUGEN wakeup is fucked]
type = CtrlSet
trigger1 = AnimTime = -1
value = 1

[State 0, MapSet]
type = MapSet
trigger1 = !Ctrl
map = "WakeUpInvul"
value = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = !Time
trigger2 = Map(WakeUpInvul) >= 3
value = SCA
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = EnemyNear,Var(51)
trigger2 = EnemyNear,Var(11)
sysvar(4) = 2

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime >= -1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; LieDead
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = 4
ctrl = 0

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Pos Y = 666
flag = invisible
flag2 = noshadow

;[State 0, PosAdd]
;type = PosAdd
;triggerall = Pos Y = 666
;triggerall = Time > 32 || RoundState = 4
;trigger1 = FrontEdgeDist < 64
;trigger2 = BackEdgeDist < 64
;x = floor((300 + EnemyNear,Pos X) - (300 + Pos X)) * Facing * 0.05

[State 5150, 8]
type = NotHitBy
trigger1 = RoundState = 2
value = SCA
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos Y < 666
trigger1 = Var(58) = [1,2]
trigger1 = RoundState >= 3
trigger1 = MatchOver || TeamMode = Turns
trigger1 = !((EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK") && EnemyNear,Var(58)=0)
trigger1 = !((EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK") && (EnemyNear,NumHelper(2310) || EnemyNear,NumExplod(2300)))
value = 3696

;---------------------------------------------------------------------------
; Weak KO HitShake
[Statedef 5160]
type    = S
movetype= H
physics = S
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = !Time
value = 5326
ignorehitpause = 1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5326

;---------------------------------------------------------------------------
; Recovery (On Ground)
[Statedef 5200]
type    = C
movetype= H
physics = N
anim = 5120 + (Anim=5105) * 5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = !time
trigger1 = command = "holda" || command = "holdb"
trigger1 = !(Name="JUSK"&&PrevStateNo=4000)
trigger2 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger2 = TeamSide = 2
trigger2 = EnemyNear,Map(TrainingOpt4) = 2 || EnemyNear,Map(TrainingOpt4) = 3 && Random < 500
trigger3 = Var(5) = 2
trigger3 = Name="JUSK" && PrevStateNo=4000
value = 5200 + (Anim=5125) * 5 * SelfAnimExist(5205)

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 3
add = 192,192,192
color = 64

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = -4.5 * (Anim = 5200||Anim=5205); + 6 * (Anim = 5210)
y = 0

;[State 0, PlayerPush]
;type = PlayerPush
;trigger1 = Anim > 5130
;trigger1 = Time < 18
;value = 0

[State 0, VelMul]
type = VelMul
trigger1 = Time < 16
x = 0.95
[State 0, VelMul]
type = VelMul
trigger1 = Time >= 16
x = 0.65

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, MapSet]
type = MapSet
trigger1 = !Ctrl
map = "WakeUpInvul"
value = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = !Time
trigger2 = Map(WakeUpInvul) >= 3
value = SCA
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = EnemyNear,Var(51)
trigger2 = EnemyNear,Var(11)
sysvar(4) = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Recovery (Air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5040
ctrl = 0

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 3
add = 192,192,192
color = 64

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)

[State 0, VarSet]
type = VarSet
trigger1 = EnemyNear,Var(51)
trigger2 = EnemyNear,Var(11)
sysvar(4) = 2

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;---------------------------------------------------------------------------
; Guard Break HitShake
[Statedef 5310]
type    = U
movetype= H
physics = N
;anim = 5310
velset = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = !Time 
time = 8
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,5
color = 256

[State 0, Pause]
type = SuperPause
trigger1 = !Time
time = 8
anim = -1
darken = 0
movetime = 0
pausebg = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = StateType = S
value = 5010
[State 5000, 1]
type = ChangeAnim
trigger1 = StateType = C
value = 5020
[State 5000, 1]
type = ChangeAnim
trigger1 = StateType = A
value = 5030

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = StateType = A
value = 5312
[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5311

;---------------------------------------------------------------------------
; Guard Break Slide Back
[Statedef 5311]
type    = S
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5310

[State 5001, 1]
type = VelSet
trigger1 = Time = 0
x = -2

[State 0, Common Voice Armor Break]
type = VarSet
trigger1 = !Time
v = 33
value = 5310
[State 0, Common Voice Armor Break]
type = VarSet
trigger1 = !Time
v = 34
value = random % const(BC.VoiceBankGuardBreak)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = F5,5

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = f45
postype = p1
pos = 8,-32 - const(size.height)*0.25
sprpriority = 9
ontop = 1
ownpal = 1

[State 5001, 3]
type = VelMul
trigger1 = 1
x = .85

[State 0, Offset]
type = Offset
trigger1 = Time <= 16 
x = -1 + GameTime%3

[State 5001, 4]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 26
value = 0
[State 5001, 4]
type = VarSet
trigger1 = !Time
var(25) = 900

[State 5001, 6]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Guard Break Fall Back
[Statedef 5312]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5311

[State 5001, 1]
type = VelSet
trigger1 = Time = 0
x = -1
y = -3

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -8
trigger1 = !Time
y = -8

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = f45
postype = p1
pos = 8,-32 - const(size.height)*0.25
sprpriority = 9
ontop = 1
ownpal = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.2

[State 0, Offset]
type = Offset
trigger1 = Time <= 16 
x = -1 + GameTime%3

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 26
value = 192
[State 5001, 4]
type = VarRangeSet
trigger1 = !Time
first = 24
last = 25
value = ifelse(Var(24)*0.5<200,200,floor(var(24)*0.5))

[State 5001, 6]
type = SelfState
trigger1 = Pos Y + Vel Y >= 0
value = 5100

;---------------------------------------------------------------------------
; Stagger HitShake
[Statedef 5320]
type    = U
movetype= H
physics = N
;anim = 5325
facep2 = (p2dist x < -8 && enemynear,numtarget)
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = StateType = A
value = 5330
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5320

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Weak KO]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = !Alive
value = 5160
ignorehitpause = 1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5321

;---------------------------------------------------------------------------
; Stagger Back
[Statedef 5321]
type    = S
movetype= H
physics = N

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time = 64
value = ,NT,ST,HT
time = 1

[State 0, Weak KO]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = !Alive
value = 5160
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 5320
value = 5320

[State 5001, 1]
type = VelSet
trigger1 = Time = 0
x = -4

[State 5001, 3]
type = VelMul
trigger1 = 1
x = .925

[State 5001, 4]
type = VelSet
trigger1 = Time = 64
x = 0

[State 5001, 6]
type = SelfState
trigger1 = Time = 64
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crumple HitShake
[Statedef 5325]
type    = U
movetype= H
physics = N
;anim = 5325
facep2 = (p2dist x < -8 && enemynear,numtarget)
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = StateType = A
value = 5330
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != [5325,5326] && Anim != [5360,5363]
trigger1 = !Time
value = 5325 + (Anim=5326)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time
value = Anim

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Weak KO]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = !Alive
value = 5160
ignorehitpause = 1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5326

;---------------------------------------------------------------------------
; Crumple Fall
[Statedef 5326]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !Time
x = 1
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != [5325,5326]
value = 5325

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 16
statetype = C

[State 0, PlayerPush]
type = PlayerPush
trigger1 = !Alive
value = 0

[State 5001, 3]
type = VelMul
trigger1 = 1
x = .8

[State 5001, 4]
type = VelSet
trigger1 = Time = 16
x = 0
[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 5001, 6]
type = SelfState
trigger1 = AnimTime = 0
value = 5105

;---------------------------------------------------------------------------
; Restand Crumple
[Statedef 5327]
type    = S
movetype= H
physics = S
velset = -1,(Pos Y * 0.025)
ctrl = 0
sprpriority = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 8
x = 1
y = 0
[State 0, VelSet]
type = VelMul
trigger1 = Time = 8
x = 0.75

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = !Time
trigger1 = Pos Y != 0
statetype = A
physics = N

[State 0, VelAdd]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.5
[State 0, PosSet]
type = PosSet
trigger1 = Pos Y + Vel Y > 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y != 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y + Vel Y >= 0
statetype = S
physics = S

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = Time < 8
value = 5017
[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 8
value = 5325

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5105

;---------------------------------------------------------------------------
; SpinOut HitShake
[Statedef 5330]
type    = A
movetype= H
physics = N
anim = 5330
facep2 = (p2dist x < -8 && enemynear,numtarget)
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -4
y = -4

[State 5000, 1]
type = ChangeAnim
trigger1 = 1
value = 5330

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5331

;------------------
; SpinOut Fly
[Statedef 5331]
type    = A
movetype= H
physics = N

[State 0, NotHitBy]
type = NotHitBy
trigger1 = gethitvar(yaccel) > 0.5
value = SCA
time = 1

[State 1026, Hit wall]
type = ChangeState
trigger1 = !Alive && RoundState > 2
value = 5621

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
x = min(-0.5,max(-1.5,-2 + p2dist x * 0.025))
y = -4 - Pos Y * 0.01 - 2 * (gethitvar(yaccel) > 0.5)

[State 5000, 1]
type = ChangeAnim
trigger1 = Anim != [5330,5331]
value = 5330
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5330
trigger1 = Vel Y > 0
value = 5331

[State 0, Explod SPIN U 3]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3 != 2
anim = F240 + floor(0.5*((gametime+3)%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]) + const(size.mid.pos.y) * 0.25,const(size.mid.pos.y) * 1.5
postype = p1
sprpriority = -5
scale = 1,1
ownpal = 1
[State 0, Explod SPIN O 3]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3 != 2
anim = F244 + floor(0.5*((gametime+3)%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]) + const(size.mid.pos.y) * 0.25,const(size.mid.pos.y) * 1.5
postype = p1
sprpriority = 5
scale = 1,1
ownpal = 1

[State 0, Explod SPIN U 2]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3
anim = F240 + floor(0.5*(gametime%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]),const(size.mid.pos.y)
postype = p1
sprpriority = -5
scale = 1,1
ownpal = 1
[State 0, Explod SPIN O 2]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3
anim = F244 + floor(0.5*(gametime%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]),const(size.mid.pos.y)
postype = p1
sprpriority = 5
scale = 1,1
ownpal = 1

[State 0, Explod SPIN U 3]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3 != 1
anim = F240 + floor(0.5*((gametime-3)%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]) - const(size.mid.pos.y) * 0.25,const(size.mid.pos.y) * 0.5
postype = p1
sprpriority = -5
scale = 1,1
ownpal = 1
[State 0, Explod SPIN O 3]
type = Explod
trigger1 = Anim = 5330
trigger1 = gametime%3 != 1
anim = F244 + floor(0.5*((gametime-3)%8))
ID = 3000
pos = const(size.ground.front) * 0.5 * (gametime%8<=1) - const(size.ground.back) * 0.5 * (gametime%8=[4,5]) - const(size.mid.pos.y) * 0.25,const(size.mid.pos.y) * 0.5
postype = p1
sprpriority = 5
scale = 1,1
ownpal = 1

[State 0, Snd Swingy]
type = PlaySnd
trigger1 = Time = 2
value = F7,6
channel = 1

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .125 + .25 * (Anim=5331) + 0.01 * (gethitvar(yaccel)>0.5)

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y >= 0
value = 5110

;---------------------------------------------------------------------------
; Power Launch Hit
[Statedef 5335]
type    = A
movetype= H
physics = N
anim = 5335
facep2 = (p2dist x < -8 && enemynear,numtarget)
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -4
y = -4

[State 5000, 1]
type = ChangeAnim
trigger1 = Anim != 5335 && Anim != [5360,5363]
value = 5335

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5336

;------------------
; Power Launch Fly
[Statedef 5336]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
x = ifelse(Abs(gethitvar(fall.xvel))>2,-0.15,-0.15 + gethitvar(fall.xvel))
y = gethitvar(fall.yvel) * 2.125 - (Pos Y * 0.025) - 7.5 * (gethitvar(fall.yvel)>-2)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 5335
trigger1 = Time = 0
value = 5335
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 5336
trigger1 = Vel Y > -1
value = 5336

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = RoundState > 2
value = 5600
[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y >= 0
value = 5110

;------------------
; WallBounce HitShake
[Statedef 5340]
type    = A
movetype= H
physics = N
anim = 5340
facep2 = (p2dist x < -8 && enemynear,numtarget)
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -4
y = -4

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 0, Turn]
type = Turn
trigger1 = !Time
trigger1 = facing = enemynear,facing
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5341

;------------------
; WallBounce FlyBack
[Statedef 5341]
type    = A
movetype= H
physics = N
anim = 5341

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 0
x = -16
y = -3 - (Pos Y * 0.05)

[State 1026, Gravity]
type = VelAdd
trigger1 = Vel Y < 0
y = .225

[State 1026, No scroll]
type = ScreenBound
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 64
;trigger2 = FrontEdgeBodyDist < 64
value = 1
movecamera = 0,1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = p2dist x <= 0
value = 0

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
triggerall = !Alive && RoundState > 2
trigger1 = BackEdgeBodyDist <= 20
;trigger2 = FrontEdgeBodyDist <= 20
value = 5620
[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
;trigger2 = FrontEdgeBodyDist <= 20
value = 5342

[State 1026, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y > 0
value = 5110

;------------------
; WallBounce HitWall
[Statedef 5342]
type    = A
movetype= H
physics = N
anim = 5342

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

;[State 1027, Pos]
;type = PosAdd
;trigger1 = Time = 0
;x = 15 - BackEdgeBodyDist
[State 1027, Pos]
type = PosAdd
trigger1 = 1
x = -BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 9
value = 4

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F70
facing = -1
postype = p1
pos = -12, const(size.height)*-0.75
sprpriority = -1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,1

[State 1027, State]
type = ChangeState
trigger1 = Time = 8
value = 5343

;------------------
; WallBounce FallDown
[Statedef 5343]
type    = A
movetype= H
physics = N
anim = 5343

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 0.125 + P2Dist X * 0.0175 + (EnemyNear,Vel X * -0.25)
[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -5 - P2Dist X * 0.0075 - (Pos Y * 0.025)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .33333

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1028, Hit ground]
type = SelfState
trigger1 = vel y + pos y >= 0
value = 5105

;------------------
; FloorBounce HitShake
[Statedef 5345]
type    = A
movetype= H
physics = N
facep2 = 1
anim = 5345
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= -8
y = 0
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y >= -8
value = 5347
ignorehitpause = 1

[State 5100, 8]
type = Explod
trigger1 = Time = 1
trigger1 = Anim = 5347
anim = F65
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
trigger1 = Anim = 5347
trigger1 = !Alive && RoundState > 2
value = 5610
[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
trigger1 = Anim = 5347
value = 5348
[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5346

;------------------
; FloorBounce FlyDown
[Statedef 5346]
type    = A
movetype= H
physics = N
anim = 5346

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 0
y = 8

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .225

[State 1026, Hit Floor]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 5347

;------------------
; FloorBounce HitFloor
[Statedef 5347]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5347

[State 1027, Pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
v = 9
value = 6

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F60
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,1

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = RoundState > 2
value = 5610
[State 1027, State]
type = ChangeState
trigger1 = Time = 8
value = 5348

;------------------
; FloorBounce FallDown
[Statedef 5348]
type    = A
movetype= H
physics = N
anim = 5348

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -4

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .2

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y >= 0
value = 5105

;------------------
; WallSplat HitShake
[Statedef 5350]
type    = A
movetype= H
physics = N
facep2 = (p2dist x < -8 && enemynear,numtarget)
anim = 5340
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim

[State 0, Turn]
type = Turn
trigger1 = !Time
trigger1 = Facing = EnemyNear,Facing
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -4
y = -4

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime) ;ifelse(EnemyNear,StateNo>=2000,8,0)
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5351

;------------------
; WallSplat FlyBack
[Statedef 5351]
type    = A
movetype= H
physics = N
anim = 5012

;[State 0, NotHitBy]
;type = NotHitBy
;trigger1 = 1
;value = SCA
;time = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 0
x = -24

;[State 1026, No scroll]
;type = ScreenBound
;triggerall = Pos y < -15
;trigger1 = BackEdgeBodyDist < 65
;trigger2 = FrontEdgeBodyDist < 65
;value = 1
;movecamera = 0,1

[State 0, VelMul]
type = VelSet
trigger1 = Time = 0
trigger1 = Map(BackStageDist) > 24 + 72 * (sysvar(2) > 4)
trigger1 = Alive
x = -8 - 4 * (sysvar(2) > 4)
y = -1 + Pos Y * 0.01 - 1 * (sysvar(2) > 4)
[State 0, ChangeState]
type = ChangeState
trigger1 = Time = 0
trigger1 = Map(BackStageDist) > 24 + 72 * (sysvar(2) > 4)
trigger1 = Alive
value = 5391

[State 1026, Special KO Wall]
type = ChangeState
triggerall = !Alive && RoundState > 2
triggerall = Time > 4
trigger1 = BackEdgeBodyDist <= 8
trigger2 = FrontEdgeBodyDist <= 8
value = 5620
[State 1026, Hit wall]
type = ChangeState
triggerall = Time > 4
trigger1 = BackEdgeBodyDist <= 8
trigger2 = FrontEdgeBodyDist <= 8
value = 5352

[State 1026, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y > 0
value = 5110

;------------------
; WallSplat HitWall
[Statedef 5352]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5342

[State 0, NotHitBy]
type = NotHitBy
trigger1 = gethitvar(yaccel) > 0.5
value = SCA
time = 1

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 0, PosAdd]
type = PosSet
triggerall = !Time
trigger1 = Pos Y > -8
y = -8
[State 1027, Pos]
type = PosAdd
trigger1 = 1
x = -BackEdgeBodyDist

[State 0, Offset]
type = Offset
trigger1 = Time < 12
y = floor((12 - Time) * (-1 + 2 * (GameTime%2)) * 0.5)

[State 1027, Stop moving]
type = PosFreeze
trigger1 = Time < 16
x = 1
y = 1

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F70
facing = -1
postype = p1
pos = -12, const(size.height)*-0.75
ownpal = 1
sprpriority = -1
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 9
value = 6

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 12
y = 0.02 + (Time * 0.0066)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,1

[State 1028, Hit ground]
type = SelfState
trigger1 = vel y + pos y >= 8
value = 5110


;------------------
; FloorSplat HitShake
[Statedef 5355]
type    = A
movetype= H
physics = N
facep2 = 1
anim = 5030
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5100, 8]
type = Explod
trigger1 = Time = 1
trigger1 = Anim = 5347
anim = F65
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1
[State 5110, 12]
type = VarSet
trigger1 = !Time
sysfvar(1) = ifelse(PrevStateNo = 5080,gethitvar(yvel),gethitvar(fall.yvel))
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5356

;------------------
; FloorSplat FlyDown
[Statedef 5356]
type    = A
movetype= H
physics = N
anim = 5050

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1
[State 0, VelSet]
type = VelSet
trigger1 = Vel Y < 6
y = 6

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .3

[State 1026, Hit Floor]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 5357

;------------------
; FloorSplat HitFloor
[Statedef 5357]
type    = A
movetype= H
physics = N
;velset = 0,0
anim = 5100

[State 5110, 7]
type = Explod
trigger1 = Time = 0
anim = F60 + (Vel Y > 10) + (Vel Y > 12)
postype = none
pos = pos x + camerapos x, 0
facing = facing
sprpriority = -9

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F65
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Vel Y > 1.5
value = F7,0 + (Vel Y > 3)

[State 1027, Pos]
type = PosSet
trigger1 = Time = 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
v = 9
value = 6

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = RoundState > 2
value = 5610
[State 1027, State]
type = ChangeState
trigger1 = Time = 8
value = 5358

;------------------
; FloorSplat FallDown
[Statedef 5358]
type    = A
movetype= H
physics = N
anim = 5160

[State 0, NotHitBy]
type = NotHitBy
trigger1 = sysvar(2) > 4
value = SCA
time = 1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = ifelse(sysfvar(1)>=0,-2,max(-6,sysfvar(1)*0.5))

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .2

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y >= 0
value = 5109

;------------------
; SplatOut HitShake
[Statedef 5360]
type    = A
movetype= H
physics = N
facep2 = (p2dist x < -8 && enemynear,numtarget)
anim = 5030
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5100, 8]
type = Explod
trigger1 = Time = 1
trigger1 = Anim = 5347
anim = F65
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1
[State 5110, 12]
type = VarSet
trigger1 = !Time
sysfvar(1) = ifelse(PrevStateNo = 5080,gethitvar(yvel),gethitvar(fall.yvel))
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5361

;------------------
; SplatOut FlyDown
[Statedef 5361]
type    = A
movetype= H
physics = N
anim = 5050

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1
[State 0, VelSet]
type = VelSet
trigger1 = Vel Y < 6
y = 6

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .3

[State 1026, Hit Floor]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 5362

;------------------
; SplatOut HitFloor
[Statedef 5362]
type    = A
movetype= H
physics = N
anim = 5100

[State 5110, 7]
type = Explod
trigger1 = Time = 0
anim = F60 + (Vel Y > 10) + (Vel Y > 12)
postype = none
pos = pos x + camerapos x, 0
facing = facing
sprpriority = -9

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F65
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Vel Y > 1.5
value = F7,0 + (Vel Y > 3)

[State 1027, Pos]
type = PosSet
trigger1 = Time = 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
v = 9
value = 6

[State 1027, Stop moving]
type = PosFreeze
trigger1 = Time = [1,8]
x = 1
y = 1

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = RoundState > 2
value = 5610

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 8
x = 1
[State 0, VelSet]
type = VelSet
trigger1 = Time = 8
y = sysfvar(1)
[State 1027, State]
type = ChangeState
trigger1 = Time = 8
value = 5401

;---------------------------------------------------------------------------
; Throw Teched
[Statedef 5380]
type = S
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = -8,0
sprpriority = 1
anim = 5380

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 0, Width]
type = Width
trigger1 = EnemyNear,BackEdgeDist <= 1
edge = P2Dist X - EnemyNear,Vel X * 1.5,0

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.85

[State 195, 2]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throw Tech Restate
;[Statedef 5381]
;type = S
;movetype = I
;physics = S
;ctrl = 0
;velset = 0,0

;[State 195, 2]
;type = SelfState
;trigger1 = !Time
;trigger2 = 1
;value = 5382

;---------------------------------------------------------------------------
; Throw Tech
[Statedef 5381]
type = S
movetype = I
physics = N
anim = 5381
facep2 = 1
sprpriority = 3
velset = -8,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 4

[State 0, Common Voice Throw Break]
type = VarSet
trigger1 = !Time
v = 33
value = 5380
[State 0, Common Voice Armor Break]
type = VarSet
trigger1 = !Time
v = 34
value = random % const(BC.VoiceBankThrowTech)

[State 0, Width]
type = Width
trigger1 = EnemyNear,BackEdgeDist <= 1
edge = P2Dist X - EnemyNear,Vel X * 1.5,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 4
value = F0,3
channel = 1

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.85

;[State 0, CtrlSet]
;type = CtrlSet
;trigger1 = Time = 32
;value = 1

[State 195, 2]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ju.Throw Teched
[Statedef 5385]
type = S
movetype = U
physics = N
ctrl = 0
facep2 = 1
velset = -4 - 2 * (FrontEdgeDist < 96),-2
anim = 5040

[State 0, Common Voice Throw Break]
type = VarSet
trigger1 = Time = 1 && MoveType = A
trigger1 = TeamSide = 1 || EnemyNear,MoveType = H
v = 33
value = 5380
[State 0, Common Voice Armor Break]
type = VarSet
trigger1 = Time = 1 && MoveType = A
trigger1 = TeamSide = 1 || EnemyNear,MoveType = H
v = 34
value = random % const(BC.VoiceBankThrowTech)

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = 0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.95

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

;------------------
; Tumble HitShake
[Statedef 5390]
type    = A
movetype= H
physics = N
anim = 5390
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -1
y = -1

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 0, Turn]
type = Turn
trigger1 = !Time
trigger1 = Facing = EnemyNear,Facing
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5391

;------------------
; Tumble FlyBack
[Statedef 5391]
type    = A
movetype= H
physics = N
anim = 5391

[State 1026, Velocity]
type = VelAdd
trigger1 = Time = 0
trigger1 = PrevStateNo != [5350,5351]
x = gethitvar(xvel) * 1.5 * Facing
y = gethitvar(yvel)
[State 0, VelMul]
type = VelMul
trigger1 = !Time
trigger1 = !Alive
x = 0.5
y = 0.5

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .5

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
triggerall = Vel Y <= 0
trigger1 = Map(BackStageDist) <= 20
trigger2 = Map(FrontStageDist) <= 20
value = 5352

[State 1026, Hit ground]
type = SelfState
trigger1 = Time > 0
trigger1 = vel y + pos y > 0
value = 5392

;------------------
; Tumble Roll
[Statedef 5392]
type    = A
movetype= H
physics = N
anim = 5392

[State 0, NotHitBy]
type = NotHitBy
trigger1 = gethitvar(yaccel) > 0.5
value = SCA
time = 1
[State 0, VarSet]
type = VarSet
trigger1 = gethitvar(yaccel) > 0.5
trigger1 = sysvar(2) = 4
sysvar(2) = 8

[State 1027, Hit Ground Sound]
type = PlaySnd
trigger1 = !Time
value = F7,5

[State 0, MapSet]
type = MapSet
trigger1 = !Time
map = "DashDustFX"
value = -1

[State 0, Explod Dust Back]
type = Explod
trigger1 = Time%4 = 3
anim = F84
pos = -random%8,-random%8
postype = p1
facing = -1+(2*random%2)
vel = (Vel X * -0.5) + (10 + random%20)*0.1,(-20-random%10)*0.1
accel = 0.05,0.15
sprpriority = -2 + random%4
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = !Time
y = 0
[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 0, VelMul]
type = VelMul
trigger1 = !Time
x = 0.75
[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.925

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 9
value = 8
[State 0, VarSet]
type = VarSet
trigger1 = Time%8 = 7
v = 9
value = random%4

;[State 0, ChangeState]
;type = ChangeState
;trigger1 = Alive
;trigger1 = BackEdgeDist <= 0
;trigger1 = Time > 8
;value = 5393
[State 0, ChangeState]
type = ChangeState
trigger1 = !Alive
trigger1 = RoundState > 2
trigger1 = Time
value = 5625
[State 1026, Hit ground]
type = SelfState
trigger1 = Time > 8
trigger1 = Abs(Vel x) < 0.25
value = 5100

;---------------------------------------------------------------------------
; Tumble Splat
[Statedef 5393]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != [5325,5326]
trigger1 = Anim != 5395
value = 5395

[State 0, PlayerPush]
type = PlayerPush
trigger1 = !Alive
value = 0

[State 0, PosSet]
type = PosAdd
trigger1 = !Time
x = -BackEdgeDist
y = -Pos Y

[State 5001, 6]
type = SelfState
trigger1 = AnimTime = 0
value = 5105

;------------------
; Freeze HitShake
[Statedef 5395]
type    = A
movetype= H
physics = N
;anim = 5340
velset = 0,0

[State 0, PalFX]
type = PalFX
triggerall = EnemyNear,Var(11) && EnemyNear,StateNo < 2000
trigger1 = !Time
time = 4
add = 255,255,255
ignorehitpause = 1

[State 0, Pal FX Ice]
type = PalFX
trigger1 = Time >= 4
time = 6
add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.25),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.25)
mul = 96 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.75),96 + floor((Map(HitFXColor)%65536)*0.00390625*0.75),96 + floor((Map(HitFXColor)%256)*0.75)
sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.3),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.2),6
color = 64
ignorehitpause = 1

;[State 0, PalFX]
;type = PalFX
;trigger1 = Time >= 8
;time = 1
;add = 64,floor(32*Sin(GameTime*0.5)),256
;mul = 96,192,128
;color = 64
;ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = !NumHelper(5397)
name = "WHEN MY MIND IS"
ID = 5397
stateno = 5397
pos = 0,0
postype = p1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != [5000,5020)
value = 5000
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y >= 0
statetype = S

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 0, Snd FREEEEEEEEEEEEZE]
type = PlaySnd
trigger1 = !Time
value = F1,13
ignorehitpause = 1 

[State 0, Turn]
type = Turn
trigger1 = !Time
trigger1 = Facing = EnemyNear,Facing
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5396

;------------------
; Freeze Fall
[Statedef 5396]
type    = A
movetype= H
physics = N

[State 0, Pal FX Ice]
type = PalFX
trigger1 = 1
time = 6
add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.25),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.25)
mul = 96 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.75),96 + floor((Map(HitFXColor)%65536)*0.00390625*0.75),96 + floor((Map(HitFXColor)%256)*0.75)
sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.3),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.2),6
color = 32
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y >= 0
statetype = S

[State 5100, 8]
type = Explod
trigger1 = Pos Y + Vel Y >= 0 && Vel Y != 0
anim = F60
postype = none
pos = pos x + camerapos x, 0
sprpriority = -1
ownpal = 1
[State 1027, Sound]
type = PlaySnd
trigger1 = Pos Y + Vel Y >= 0 && Vel Y != 0
value = F7,1
[State 0, VarSet]
type = VarSet
trigger1 = Pos Y + Vel Y >= 0 && Vel Y != 0
v = 9
value = 8

[State 0, VelAdd]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.5

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y + Vel Y > 0
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = Pos Y + Vel Y >= 0
trigger1 = Vel Y != 0
y = 0

[State 0, ChangeState]
type = SelfState
trigger1 = RoundState > 2 && !Alive
trigger1 = abs(Pos Y) + abs(Vel Y) = 0
value = 5630

[State 0, VelSet]
type = VelSet
trigger1 = Time > 64
y = -1

[State 1026, Hit ground]
type = SelfState
trigger1 = Time > 64
value = 5050;5326

;---------------------------------------------------------------------------
; H - Freeze FX
[Statedef 5397]
type    = A
movetype= I
physics = N
anim = 666
ctrl = 0
velset = 0,0

[State 0, Pal FX Ice]
type = PalFX
trigger1 = 1
time = 1
add = floor((Root,Map(HitFXColor)%16777216)*0.0000152587890625*0.25),floor((Root,Map(HitFXColor)%65536)*0.00390625*0.25),floor((Root,Map(HitFXColor)%256)*0.25)
mul = 192 + floor((Root,Map(HitFXColor)%16777216)*0.0000152587890625*0.25),192 + floor((Root,Map(HitFXColor)%65536)*0.00390625*0.25),192 + floor((Root,Map(HitFXColor)%256)*0.25)
color = 192
ignorehitpause = 1

[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0
[State 0, Explod SMOKE]
type = Explod
trigger1 = !Time
trigger2 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger2 = Root,PrevStateNo = [5395,5396]
anim = F206
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0.01*(-200+random%401),0.01*(-200+random%401)
accel = 0,0.01
sprpriority = 5
ownpal = 0

[State 0, Explod SNOWFLAKES]
type = Explod
trigger1 = Time > 3
trigger1 = Time%4 = 1
anim = F205
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.75) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0,0.01 * (random%100)
accel = 0,0.01
sprpriority = random%6
ownpal = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,StateNo != [5600,5700) && Root,StateNo != 5150
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != [5395,5396] && Root,StateNo != [5600,5700) && Root,StateNo != 5150
trigger1 = Root,Map(HitFXTimer) != (0,666) || Root,PrevStateNo = [5395,5396]
trigger2 = Time > 128 && RoundState = 2

;---------------------------------------------------------------------------
; WipeOut HitShake
[Statedef 5400]
type    = A
movetype= H
physics = N
anim = 5030
facep2 = 1
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y > -2
y = -2

[State 0, VarAdd P.Life Reduction]
type = VarAdd
trigger1 = !Time
v = 22
value = -ceil(gethitvar(damage) * const(BC.GetHitPLife))
ignorehitpause = 1


[State 0, Turn]
type = Turn
trigger1 = !Time
trigger1 = Facing = EnemyNear,Facing
ignorehitpause = 1

[State 5110, 12]
type = VarSet
trigger1 = !Time
sysvar(2) = gethitvar(fall.recovertime)
ignorehitpause = 1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5401

;------------------
; WipeOut Fly
[Statedef 5401]
type    = A
movetype= H
physics = N

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !Time
trigger1 = Vel X + Vel Y = 0
x = 1
y = 1
[State 1028, Vel Y]
type = VelSet
trigger1 = !Time
trigger1 = Vel Y >= -1
x = 0
y = -8

[State 0, Explod SPIN]
type = Explod
trigger1 = gametime%6 >= 2
anim = F230 + floor(0.5*(gametime%4))
ID = 3000
pos = 0,const(size.mid.pos.y)
postype = p1
removetime = 1
sprpriority = -5 + 10 * (gametime%6>=4)
scale = 0.35 + 0.0075 * abs(const(size.head.pos.y)),0.35 + 0.0075 * abs(const(size.head.pos.y))
ownpal = 1

[State 0, Snd Swingy]
type = PlaySnd
trigger1 = !(gametime%6)
value = F0,9
channel = !(gametime%3)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = EnemyNear,StateNo = [2000,3000)
trigger1 = sysvar(2) > 4 && sysvar(2) != 510
value = SCA
time = 32

[State 5000, 1]
type = ChangeAnim
trigger1 = Anim != 5400
value = 5400

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .333

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 1
trigger1 = vel y + pos y > 0
value = 5110

;---------------------------------------------------------------------------
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 5500
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;------------------
; S.KO:PowerLaunch1
[Statedef 5600]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != 5400
value = 5335

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = !Time
y = -16

[State 0, SelfState]
type = SelfState
triggerall = Pos Y <= -320
trigger1 = 1
value = 5602
[State 0, SelfState]
type = SelfState
trigger1 = Pos Y <= -320
value = 5601

;------------------
; S.KO:PowerLaunch2
[Statedef 5601]
type    = A
movetype= H
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.30 - (Time*0.004),0.30 - (Time*0.004)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5400
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 56
value = 666

[State 0, Explod Star KO]
type = Explod
trigger1 = Time = 56
anim = F300
pos = 0,0
postype = p1
scale = 1,1
sprpriority = -9

[State 0, Snd Star]
type = PlaySnd
trigger1 = Time = 56
value = F3,1

[State 0, PosSet]
type = PosSet
trigger1 = !Time
x = Pos X * 0.5

[State 0, VelSet]
type = VelSet
trigger1 = Time = 8
x = ifelse(Pos X < 0,1,-1) * Facing
y = 12
[State 0, VelMul]
type = VelMul
trigger1 = Pos Y >= -240
trigger1 = Vel Y > 8
y = 0.5
[State 0, VelMul]
type = VelMul
trigger1 = Pos Y >= -240
x = 0.9
y = 0.9

[State 0, Offset]
type = Offset
trigger1 = 0
y = Time

[State 0, SelfState]
type = SelfState
trigger1 = Time = 72
value = 5605

;------------------
; S.KO:PowerLaunchBadBG
[Statedef 5602]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5346

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PosAdd]
type = PosSet
trigger1 = Vel Y < 0
x = (-Pos X)*0.1

[State 0, VelAdd]
type = VelAdd
trigger1 = Time
y = 0.5 + 0.5 * (Vel Y < 0)

[State 0, SelfState]
type = SelfState
trigger1 = Pos Y + Vel Y >= 0
value = 5610

;------------------
; S.KO:EndCamera
[Statedef 5605]
type    = A
movetype= H
physics = N
anim = 666
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro
flag2 = noshadow

[State 0, VarSet]
type = VarSet
trigger1 = !Time 
sysvar(2) = PrevStateNo

[State 0, PosAdd]
type = PosAdd
trigger1 = FrontEdgeDist < 64
trigger2 = BackEdgeDist < 64
x = floor((300 + EnemyNear,Pos X) - (300 + Pos X)) * Facing * 0.01
[State 0, PosAdd]
type = PosAdd
trigger1 = 1
y = (-Pos Y) * 0.2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = PrevStateNo = 2626
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = Time = 16
trigger1 = sysvar(2)
y = 666

[State 0, ChangeState]
type = ChangeState
trigger1 = Time >= 16
trigger1 = sysvar(2)
value = 5150

;------------------
; S.KO:Grounded
[Statedef 5610]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 666

[State 0, Offset]
type = Offset
trigger1 = 1
x = -1+random%3
y = -1+random%3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Snd YOURE GROUNDED]
type = PlaySnd
trigger1 = !Time
value = F3,0

[State 0, Explod its me im dirt]
type = Explod
trigger1 = !Time
anim = 7071
pos = 0,1
postype = p1
bindtime = 15
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
sprpriority = -4
shadow = -1
[State 0, Explod Grounded B]
type = Explod
trigger1 = !Time
anim = F310 + 2 * (Name="WALL"||Name="WALX"||Name="WALK"||Name="TYRA"||Name="TYRX"||Name="TYRK") + 4 * (stagevar(info.name)="Tsugumi Stage"||stagevar(info.name)="Tsugumi Stage X"||stagevar(info.name)="Sherm Stage"||stagevar(info.name)="Evil Sherm Stage"||stagevar(info.name)="Reaper Stage"||stagevar(info.name)="Reaper Stage X"||stagevar(info.name)="La Justicia Stage"||stagevar(info.name)="La Justicia Stage X"||stagevar(info.name)="Ikue Stage"||stagevar(info.name)="Ikue Stage X"||stagevar(info.name)="Baxter Stage"||stagevar(info.name)="Baxter Stage X"||stagevar(info.name)="Ci-Ci Stage"||stagevar(info.name)="Ci-Ci Stage X"||stagevar(info.name)="Bernie Stage"||stagevar(info.name)="Bernie Stage X"||stagevar(info.name)="Isabella Stage"||stagevar(info.name)="Isabella Stage X")
postype = p1
removetime = -1
sprpriority = -5
ownpal = 1
[State 0, Explod Grounded F]
type = Explod
trigger1 = !Time
anim = F311 + 2 * (Name="WALL"||Name="WALX"||Name="WALK"||Name="TYRA"||Name="TYRX"||Name="TYRK") + 4 * (stagevar(info.name)="Tsugumi Stage"||stagevar(info.name)="Tsugumi Stage X"||stagevar(info.name)="Sherm Stage"||stagevar(info.name)="Evil Sherm Stage"||stagevar(info.name)="Reaper Stage"||stagevar(info.name)="Reaper Stage X"||stagevar(info.name)="La Justicia Stage"||stagevar(info.name)="La Justicia Stage X"||stagevar(info.name)="Ikue Stage"||stagevar(info.name)="Ikue Stage X"||stagevar(info.name)="Baxter Stage"||stagevar(info.name)="Baxter Stage X"||stagevar(info.name)="Ci-Ci Stage"||stagevar(info.name)="Ci-Ci Stage X"||stagevar(info.name)="Bernie Stage"||stagevar(info.name)="Bernie Stage X"||stagevar(info.name)="Isabella Stage"||stagevar(info.name)="Isabella Stage X")
postype = p1
removetime = -1
sprpriority = -3
ownpal = 1
[State 5110, Explod GroundHit]
type = Explod
trigger1 = !Time
anim = F62
postype = p1
pos = 0,0
sprpriority = 7

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 9
value = 8

[State 0, SelfState]
type = SelfState
trigger1 = Time = 16
value = 5605

;------------------
; S.KO:GroundedQuiet
[Statedef 5611]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 666

[State 0, Offset]
type = Offset
trigger1 = 1
x = -1+random%3
y = -1+random%3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 0, Snd YOURE GROUNDED]
type = PlaySnd
trigger1 = !Time
value = F3,0

[State 0, Explod its me im dirt]
type = Explod
trigger1 = !Time
anim = 7071
pos = 0,0
postype = p1
bindtime = 15
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
sprpriority = 0
shadow = -1
[State 0, Explod Grounded B]
type = Explod
trigger1 = !Time
anim = F310 + 2 * (Name="WALL"||Name="WALX"||Name="WALK")
postype = p1
removetime = -1
sprpriority = -1
ownpal = 1
[State 0, Explod Grounded F]
type = Explod
trigger1 = !Time
anim = F311 + 2 * (Name="WALL"||Name="WALX"||Name="WALK")
postype = p1
removetime = -1
sprpriority = 1
ownpal = 1

[State 0, SelfState]
type = SelfState
trigger1 = Time = 16
value = 5605

;------------------
; S.KO:WallBreak
[Statedef 5620]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 666

[State 0, Explod]
type = Explod
trigger1 = Time = [1,6]
anim = F350 + GameTime%6
pos = -16 - BackEdgeDist,-16 - random%64
postype = p1
facing = ifelse(Random<500,1,-1)
vfacing = ifelse(Random<500,1,-1)
vel = 3+random%6,-random%6
accel = 0,0.25
removetime = 128
sprpriority = -9+random%18
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = anim
pos = 0,0
postype = p1
vel = min(-16,Vel X),Vel Y
removetime = 32
shadow = -1
removeongethit = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time 
value = 666

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F70
facing = -1
postype = p1
pos = -32 - BackEdgeDist, const(size.height)*-0.75
sprpriority = -1

[State 0, Snd Crash]
type = PlaySnd
trigger1 = Time = 1
value = F3,2 

[State 0, Var Shake]
type = VarSet
trigger1 = !Time
v = 9
value = 8

[State 0, SelfState]
type = SelfState
trigger1 = Time = 16
value = 5605

;------------------
; S.KO:Spinout
[Statedef 5621]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
x = -4 - (BackEdgeDist * 0.05)
y = -6

[State 5000, 1]
type = ChangeAnim
trigger1 = Anim != [5330,5331]
value = 5330

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .2

[State 0, SelfState]
type = SelfState
trigger1 = BackEdgeDist <= 4
value = 5620

;------------------
; S.KO:Tumble
[Statedef 5625]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 5392
value = 5392

[State 0, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = -12
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = BackEdgeDist <= 4
value = 5626

;------------------
; S.KO:TumbleStrike
[Statedef 5626]
type    = A
movetype= H
physics = N

[State 0, Explod]
type = null;Explod
trigger1 = Time = [1,6]
anim = F350 + GameTime%6
pos = -16 - BackEdgeDist,-16 - random%64
postype = p1
facing = ifelse(Random<500,1,-1)
vfacing = ifelse(Random<500,1,-1)
vel = 3+random%6,-random%6
accel = 0,0.25
removetime = 128
sprpriority = -9+random%18
ownpal = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 16
value = 666

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F70
facing = -1
postype = p1
pos = -16 - BackEdgeDist, const(size.height)*-0.25
sprpriority = -1

[State 0, Snd Crash]
type = PlaySnd
trigger1 = Time = 1
value = F3,2
[State 0, Snd Pins]
type = PlaySnd
trigger1 = Time = 1
value = F3,3

[State 0, Var Shake]
type = VarSet
trigger1 = !Time
v = 9
value = 16

[State 0, SelfState]
type = SelfState
trigger1 = Time = 16
value = 5605

;------------------
; S.KO:Freeze
[Statedef 5630]
type    = A
movetype= H
physics = N

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = anim
id = 5630
postype = p1
removetime = -1
sprpriority = -1
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 666

[State 0, SelfState]
type = SelfState
trigger1 = Time = 16
value = 5605

;---------------------------------------------------------------------------
; Initialize
[Statedef 5900]
type = A
anim = 666

[State 5900, 1]
type = VarRangeSet
trigger1 = !Time
trigger1 = roundsexisted = 0
value = 0
[State 5900, 2]
type = VarRangeSet
trigger1 = !Time
trigger1 = roundsexisted = 0
fvalue = 0

;[State 0, BORN APRIL 2021, DIED AUGUST 2021. The funniest glitch we've ever been cursed with. REST IN PEACE.]
;type = VarSet
;trigger1 = roundsexisted = 0 && enemynear,roundsexisted = 0
;trigger1 = teamside = 1
;trigger1 = enemynear,var(58) = 1 && enemynear,stateno != 3690
;v = 58
;value = 0
;redirectid = enemy,id

[State 0, Training Mode]
type = VarSet
trigger1 = Name = "TRAI"
trigger1 = TeamSide = 2
v = 45
value = 1
[State 0, I Am Training]
type = MapSet
triggerall = TeamSide = 2
trigger1 = GameMode = "training"
trigger2 = StageVar(info.name) = "Testing Zone"
map = "IsTraining"
value = 1

;========================================================
; PALETTE SELECTION
;========================================================

[State 0, RemapPal]
type = VarSet
triggerall = !Time
triggerall = !Var(59)
triggerall = !RoundsExisted
trigger1 = StageVar(info.name) = "Testing Zone"
var(59) = 1+random%24
[State 0, VarSet]
type = VarSet
triggerall = !RoundsExisted
trigger1 = !Var(59)
trigger1 = RoundState = 0
trigger1 = StageVar(info.name) != "Testing Zone"
v = 59
value = PalNo

[State 0, Palette Is SHIFT]
type = VarSet
trigger1 = AILevel && Var(58) = [1,2]
var(59) = 18 + (Var(58)=2)
[State 0, Palette Is Kahl]
type = VarSet
trigger1 = AILevel && Var(58) = 3
var(59) = 20 + random%5

[State 0, RemapPal]
type = VarAdd
;triggerall = Time = 1
triggerall = roundsexisted = 0
triggerall = command = "holds"
trigger1 = Var(59) <= 12
var(59) = 12

[State 0, MapSet]
type = MapSet
;triggerall = Time = 1
triggerall = roundsexisted = 0
trigger1 = command = "holdw" || command = "holdd"
map = "AltPal"
value = 1

[State 0, VarSet Cycle]
type = VarSet
trigger1 = roundsexisted = 0
trigger1 = RoundState = 0
var(59) = ((Var(59)-1)%24)+1

[State 0, Var Palette Dupe]
type = VarSet
triggerall = Var(59) = EnemyNear,Var(59)
triggerall = TeamSide = 2
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK" || Name = "TRAI") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK" || EnemyNear,Name = "TRAI")
trigger2 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX") || Name = "TSUK" && EnemyNear,Name = "TSUK"
trigger3 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX") || Name = "SHEK" && EnemyNear,Name = "SHEK"
trigger4 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
trigger5 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX") || Name = "REAK" && EnemyNear,Name = "REAK"
trigger6 = (Name = "JUST" || Name = "JUSX") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX") || Name = "JUSK" && EnemyNear,Name = "JUSK"
trigger7 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || Name = "IKUK")
trigger8 = (Name = "BOUN" || Name = "BOUX" || Name = "BOUK") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
trigger9 = (Name = "BAXT" || Name = "BAXX" || Name = "BAXK") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
trigger10 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger11 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
trigger12 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
trigger13 = (Name = "JANE" || Name = "JANX" || Name = "JANK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
trigger14 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
trigger15 = (Name = "GOLI" || Name = "GOLX" || Name = "GOLK") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
trigger16 = (Name = "NECC" || Name = "NECX" || Name = "NECK") && (EnemyNear,Name = "NECC" || EnemyNear,Name = "NECX" || EnemyNear,Name = "NECK")
trigger17 = (Name = "EMIC" || Name = "EMIX" || Name = "EMIK") && (EnemyNear,Name = "EMIC" || EnemyNear,Name = "EMIX" || EnemyNear,Name = "EMIK")
trigger18 = (Name = "LUCY" || Name = "LUCX" || Name = "LUCK") && (EnemyNear,Name = "LUCY" || EnemyNear,Name = "LUCX" || EnemyNear,Name = "LUCK")
trigger19 = (Name = "GABB" || Name = "GABX" || Name = "GABK") && (EnemyNear,Name = "GABB" || EnemyNear,Name = "GABX" || EnemyNear,Name = "GABK")
trigger20 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
v = 59
value = 1 + (Var(59))%24

[State 0, RemapPal]
type = RemapPal
trigger1 = 1;roundsexisted = 0
source = 1,1
dest = 1 + Map(AltPal) * (Name="SHER"||Name="SHEX"||Name="SHEK"||Name="WALL"||Name="WALX"||Name="WALK"||Name="JUST"||Name="JUSX"||Name="JUSK"||Name="TERI"||Name="TERX"||Name="TERK"),Var(59)

;========================================================
; AM I A JERK?
;========================================================

[State 0, Var I Am Kahl]
type = VarSet
;triggerall = !Map(IsTraining)
triggerall = RoundsExisted = 0
trigger1 = Var(59) = [20,24]
v = 58
value = 3
[State 0, Var I Am SHIFT 1]
type = VarSet
;triggerall = !Map(IsTraining)
triggerall = RoundsExisted = 0
trigger1 = Var(59) = 18
v = 58
value = 1
[State 0, Var I Am SHIFT 2]
type = VarSet
;triggerall = !Map(IsTraining)
triggerall = RoundsExisted = 0
trigger1 = Var(59) = 19
v = 58
value = 2
[State 0, Var I Am SHIFT 3]
type = VarSet
;triggerall = !Map(IsTraining)
triggerall = RoundsExisted = 0
triggerall = EnemyNear,RoundsExisted = 0 && TeamSide = 2 || EnemyNear,RoundsExisted != 0
triggerall = Var(58) != 3 && EnemyNear,Var(58) != 3 || Var(58) = 3 && EnemyNear,Var(58) = 3
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK")
trigger2 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX") || Name = "TSUK" && EnemyNear,Name = "TSUK"
trigger3 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX") || Name = "SHEK" && EnemyNear,Name = "SHEK"
trigger4 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
trigger5 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX") || Name = "REAK" && EnemyNear,Name = "REAK"
trigger6 = (Name = "JUST" || Name = "JUSX" || Name = "JUSK") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX" || EnemyNear,Name = "JUSK")
trigger7 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
trigger8 = (Name = "BOUN" || Name = "BOUX" || Name = "BOUK") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
trigger9 = (Name = "BAXT" || Name = "BAXX" || Name = "BAXK") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
trigger10 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger11 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
trigger12 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
trigger13 = (Name = "JANE" || Name = "JANX" || Name = "JANK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
trigger14 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
trigger15 = (Name = "GOLI" || Name = "GOLX" || Name = "GOLK") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
trigger16 = (Name = "NECC" || Name = "NECX" || Name = "NECK") && (EnemyNear,Name = "NECC" || EnemyNear,Name = "NECX" || EnemyNear,Name = "NECK")
trigger17 = (Name = "EMIC" || Name = "EMIX" || Name = "EMIK") && (EnemyNear,Name = "EMIC" || EnemyNear,Name = "EMIX" || EnemyNear,Name = "EMIK")
trigger18 = (Name = "LUCY" || Name = "LUCX" || Name = "LUCK") && (EnemyNear,Name = "LUCY" || EnemyNear,Name = "LUCX" || EnemyNear,Name = "LUCK")
;trigger19 = (Name = "GABB" || Name = "GABX" || Name = "GABK") && (EnemyNear,Name = "GABB" || EnemyNear,Name = "GABX" || EnemyNear,Name = "GABK")
trigger19 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
trigger20 = Var(58) = 3 && EnemyNear,Var(58) = 3
v = 58
value = 1 + (EnemyNear,Var(58)=1)
[State 0, Var I Am Not A Copy]
type = VarSet
triggerall = RoundsExisted = 0
triggerall = EnemyNear,RoundsExisted = 0
triggerall = Var(58) = 1 && Var(59) != 20 || Var(58) = 2 && Var(59) != 21; || Var(58) = 3 && Var(59) != [17,18]
trigger1 = EnemyNear,Var(58) = [1,2] && TeamSide = 2
trigger2 = EnemyNear,Var(58) = 3 && Var(58) != [18,19]
v = 58
value = 0

;========================================================
; WHATS MY INTRO
;========================================================

[State 5900, Special Intro: I'm SHIFT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0
trigger1 = Var(58) = 1
value = 3690
[State 5900, Special Intro: I'm QSHIFT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0
trigger1 = Var(58) = 2
value = 3685
[State 5900, Special Intro: I'm Kahl]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0
trigger1 = Var(58) = 3
value = 3680
[State 5900, Training Default]
type = ChangeState
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = StageVar(info.name) != "Testing Zone"
value = 190
[State 5900, Special Intro: Ajit & Tsugumi or Ikue]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX" || EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
trigger2 = (Name = "TSUG" || Name = "TSUX" || Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK")
value = 192
[State 5900, Special Intro: Ajit or Tsugumi & Sherm]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK" || Name = "TSUG" || Name = "TSUX" || Name = "TSUK") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX")
trigger2 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK" || EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX" || EnemyNear,Name = "TSUK")
value = 193
[State 5900, Special Intro: Ajit & Robo-Tsugumi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && EnemyNear,Name = "TSUK"
trigger2 = Name = "TSUK" && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK")
value = ifelse(Name="TSUK",11920,195)
[State 5900, Special Intro: Ajit vs Boundary]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
value = 194
[State 5900, Special Intro: Ajit vs Isabella]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
value = 197
[State 5900, Special Intro: Ajit vs GABBY]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "GABB" || EnemyNear,Name = "GABX" || EnemyNear,Name = "GABK")
trigger2 = (Name = "GABB" || Name = "GABX" || Name = "GABK") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK")
value = 198
[State 5900, Special Intro: Ajit vs TYRANT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "AJIT" || Name = "AJIX" || Name = "AJIK") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
trigger2 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "AJIT" || EnemyNear,Name = "AJIX" || EnemyNear,Name = "AJIK")
value = 196 - 3 * (Name="TYRA"||Name="TYRX"||Name="TYRK")
[State 5900, Special Intro: Tsugumi vs Robo-Tsug]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "TSUK")
trigger2 = (Name = "TSUK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 195
[State 5900, Special Intro: Tsugumi vs Justicia]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX")
trigger2 = (Name = "JUST" || Name = "JUSX") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 196
[State 5900, Special Intro: Tsugumi vs CiCi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
trigger2 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 194
[State 5900, Special Intro: Tsugumi vs Goliath]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
trigger2 = (Name = "GOLI" || Name = "GOLX" || Name = "GOLK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 192 + 5 * (Name = "TSUG" || Name = "TSUX")
[State 5900, Special Intro: Tsugumi vs Emi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "EMIC" || EnemyNear,Name = "EMIX" || EnemyNear,Name = "EMIK")
trigger2 = (Name = "EMIC" || Name = "EMIX" || Name = "EMIK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 192 + 6 * (Name = "TSUG" || Name = "TSUX")
[State 5900, Special Intro: Tsugumi & TYRANT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TSUG" || Name = "TSUX") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
trigger2 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "TSUG" || EnemyNear,Name = "TSUX")
value = 194 + 5 * (Name="TSUG"||Name="TSUX")
[State 5900, Special Intro: Sherm & Sherm]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58)
trigger1 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX" || EnemyNear,Name = "SHEK") && EnemyNear,Var(58)
value = 197
[State 5900, Special Intro: Sherm & Evil Sherm]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "SHER" || Name = "SHEX") && EnemyNear,Name = "SHEK"
trigger2 = Name = "SHEK" && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX")
value = 192 + (Name="SHEK")*10000
[State 5900, Special Intro: Evil Sherm & QREAPER]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = Name = "REAK" && EnemyNear,Name = "SHEK"
trigger2 = Name = "SHEK" && EnemyNear,Name = "REAK"
value = 10193
[State 5900, Special Intro: Sherm & Teri]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger2 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX")
value = 194
[State 5900, Special Intro: Sherm & CiCi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
value = 195
[State 5900, Special Intro: Sherm & Boss]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "SHER" || Name = "SHEX") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK" || EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
trigger2 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK" || Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "SHER" || EnemyNear,Name = "SHEX")
value = 196
[State 5900, Special Intro: Wallace & Justicia]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX" || EnemyNear,Name = "JUSK")
trigger2 = (Name = "JUST" || Name = "JUSX" || Name = "JUSK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 192
[State 5900, Special Intro: Wallace & CiCi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
trigger2 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 193
[State 5900, Special Intro: Wallace & Bernie]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
trigger2 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 194
[State 5900, Special Intro: Wallace & Necross]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "NECC" || EnemyNear,Name = "NECX" || EnemyNear,Name = "NECK")
trigger2 = (Name = "NECC" || Name = "NECX" || Name = "NECK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 193 + 3 * (Name="WALL"||Name="WALX"||Name="WALK")
[State 5900, Special Intro: Wallace & Lucy]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "WALL" || Name = "WALX" || Name = "WALK") && (EnemyNear,Name = "LUCY" || EnemyNear,Name = "LUCX" || EnemyNear,Name = "LUCK")
trigger2 = (Name = "LUCY" || Name = "LUCX" || Name = "LUCK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 195
[State 5900, Special Intro: Reaper & QREAPER]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "REAK")
trigger2 = (Name = "REAK") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX")
value = 198 + 10000 * (Name="REAK")
[State 5900, Special Intro: Reaper & Justicia]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX")
trigger2 = (Name = "JUST" || Name = "JUSX") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX")
value = 193
[State 5900, Special Intro: Reaper & Boundary]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
trigger2 = (Name = "BOUN" || Name = "BOUX" || Name = "BOUK") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX")
value = 196
[State 5900, Special Intro: Reaper & Isabella]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
trigger2 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK") && (EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX")
value = 194
[State 5900, Special Intro: Reaper vs Baxter]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
value = 197
[State 5900, Special Intro: Reaper vs Cici]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "REAP" || Name = "REAX") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
value = 195
[State 5900, Special Intro: Justicia & Bernie]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "JUST" || Name = "JUSX") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
trigger2 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "JUST" || EnemyNear,Name = "JUSX")
value = 195
[State 5900, Special Intro: Ikue & Teri]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger2 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
value = 195
[State 5900, Special Intro: Ikue & Bernie]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
trigger2 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
value = 192 + 4 * (Name="IKUE"||Name="IKUX"||Name="IKUK")
[State 5900, Special Intro: Ikue & Jane]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
trigger2 = (Name = "JANE" || Name = "JANX" || Name = "JANK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
value = 197
[State 5900, Special Intro: Ikue & Isabella]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "IKUE" || Name = "IKUX" || Name = "IKUK") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
trigger2 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK") && (EnemyNear,Name = "IKUE" || EnemyNear,Name = "IKUX" || EnemyNear,Name = "IKUK")
value = 193
[State 5900, Special Intro: Boundary vs Villains]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58)
triggerall = Name = "BOUN" || Name = "BOUX" || Name = "BOUK"
trigger1 = EnemyNear,Var(58) = 3
trigger2 = EnemyNear,Name = "SHEK"
trigger3 = EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK"
trigger4 = EnemyNear,Name = "JUSK"
trigger5 = EnemyNear,Name = "REAK"
trigger6 = EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK"
trigger7 = EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK"
trigger8 = EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK"
value = 192
[State 5900, Special Intro: Boundary vs SHIFT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58)
triggerall = Name = "BOUN" || Name = "BOUX" || Name = "BOUK"
trigger1 = EnemyNear,Var(58) = [1,2]
value = 195
[State 5900, Special Intro: Boundary & Ci-Ci]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
trigger2 = (Name = "BOUN" || Name = "BOUX" || Name = "BOUK") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
value = 192 + (Name="BOUN"||Name="BOUX"||Name="BOUK")
[State 5900, Special Intro: Boundary & Teri]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "BOUN" || EnemyNear,Name = "BOUX" || EnemyNear,Name = "BOUK")
trigger2 = (Name = "BOUN" || Name = "BOUX" || Name = "BOUK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
value = 194 + 4 * (Name="TERI"||Name="TERX"||Name="TERK")
[State 5900, Special Intro: Baxter & Teri]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BAXT" || Name = "BAXX" || Name = "BAXK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger2 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
value = 192
[State 5900, Special Intro: Baxter & Goliath]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BAXT" || Name = "BAXX" || Name = "BAXK") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
trigger2 = (Name = "GOLI" || Name = "GOLX" || Name = "GOLK") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
value = 193
[State 5900, Special Intro: Baxter & TYRANT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BAXT" || Name = "BAXX" || Name = "BAXK") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK" || EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX")
trigger2 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK")
value = 194 + 4 * (Name="TYRA"||Name="TYRX"||Name="TYRK")
[State 5900, Special Intro: Teri & ppl she don't like]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58)
triggerall = Name = "TERI" || Name = "TERX" || Name = "TERK"
trigger1 = EnemyNear,Var(58) = [1,2] || EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK"
trigger2 = EnemyNear,Var(58) != 3 && (EnemyNear,Name = "NECC" || EnemyNear,Name = "NECX" || EnemyNear,Name = "NECK" || EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
value = 193
[State 5900, Special Intro: Teri & CiCi]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK")
value = 199
[State 5900, Special Intro: Teri & Bernie]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
trigger2 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
value = 196
[State 5900, Special Intro: Teri & Jane]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TERI" || Name = "TERX" || Name = "TERK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
value = 197
[State 5900, Special Intro: Ci-Ci & Sherm]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "CICI" || Name = "CICX" || Name = "CICK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
value = 191
[State 5900, Special Intro: Bernie & Jane]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK")
value = 193
[State 5900, Special Intro: Bernie & Goliath]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "BERN" || Name = "BERX" || Name = "BERK") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
trigger2 = (Name = "GOLI" || Name = "GOLX" || Name = "GOLK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
value = 197
[State 5900, Special Intro: Jane & Bernie]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "JANE" || Name = "JANX" || Name = "JANK") && (EnemyNear,Name = "BERN" || EnemyNear,Name = "BERX" || EnemyNear,Name = "BERK")
value = 192
[State 5900, Special Intro: Jane & Teri]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "JANE" || Name = "JANX" || Name = "JANK") && (EnemyNear,Name = "TERI" || EnemyNear,Name = "TERX" || EnemyNear,Name = "TERK")
value = 193
[State 5900, Special Intro: Isabella & TYRANT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "ISAB" || Name = "ISAX" || Name = "ISAK") && (EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK")
trigger2 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "ISAB" || EnemyNear,Name = "ISAX" || EnemyNear,Name = "ISAK")
value = 192
[State 5900, Special Intro: Necross & Goliath]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "NECC" || Name = "NECX" || Name = "NECK") && (EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK")
value = 192
[State 5900, Special Intro: GABBY & GABBY]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "GABB" || Name = "GABX" || Name = "GABK") && (EnemyNear,Name = "GABB" || EnemyNear,Name = "GABX" || EnemyNear,Name = "GABK")
value = 192
[State 5900, Special Intro: TYRANT & SHIFT]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && EnemyNear,Var(58) = 1
trigger1 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK")
value = 195
[State 5900, Special Intro: TYRANT & Wallace]
type = ChangeState
triggerall = Time >= 2
triggerall = roundsexisted = 0 || enemynear,roundsexisted = 0
triggerall = !Var(58) && !EnemyNear,Var(58)
trigger1 = (Name = "TYRA" || Name = "TYRX" || Name = "TYRK") && (EnemyNear,Name = "WALL" || EnemyNear,Name = "WALX" || EnemyNear,Name = "WALK")
value = 197
[State 5900, No Intro]
type = ChangeState
trigger1 = roundsexisted != 0
trigger1 = Time >= 2
value = 0
[State 5900, Default Intro]
type = ChangeState
trigger1 = Time >= 2 && !Var(58)
value = 190

;---------------------------------------------------------------------------
; H - Blood FX
[Statedef 6660]
type    = A
movetype= A
physics = N
anim = 666

[State 0, PalFX Default]
type = PalFX
trigger1 = !Time
time = 16
add = 0,0,0
mul = 216,0,0
color = 256
[State 0, PalFX Bio]
type = PalFX
triggerall = !Time
triggerall = !EnemyNear,Var(58)
trigger1 = EnemyNear,Name = "REAP" || EnemyNear,Name = "REAX" || EnemyNear,Name = "REAK"
trigger2 = EnemyNear,Name = "BAXT" || EnemyNear,Name = "BAXX" || EnemyNear,Name = "BAXK"
trigger3 = EnemyNear,Name = "CICI" || EnemyNear,Name = "CICX" || EnemyNear,Name = "CICK"
time = 16
add = 0,0,0
mul = 96,48,128
color = 256
[State 0, PalFX Goliath]
type = PalFX
triggerall = !EnemyNear,Var(58)
trigger1 = EnemyNear,Name = "GOLI" || EnemyNear,Name = "GOLX" || EnemyNear,Name = "GOLK"
time = 16
add = 0,0,0
mul = 160,192,128
color = 256
[State 0, PalFX GABBY]
type = PalFX
triggerall = !EnemyNear,Var(58)
trigger1 = EnemyNear,Name = "GABB" || EnemyNear,Name = "GABX" || EnemyNear,Name = "GABK"
time = 16
add = 0,0,0
mul = 256,256,256
color = 256
[State 0, PalFX TYRANT]
type = PalFX
triggerall = !EnemyNear,Var(58)
trigger1 = EnemyNear,Name = "TYRA" || EnemyNear,Name = "TYRX" || EnemyNear,Name = "TYRK"
time = 16
add = 0,0,0
mul = 8,8,8
color = 256
[State 0, PalFX JANE]
type = PalFX
triggerall = !EnemyNear,Var(58)
trigger1 = EnemyNear,Name = "JANE" || EnemyNear,Name = "JANX" || EnemyNear,Name = "JANK"
time = 16
add = 0,0,0
mul = 48,160,80
color = 256
[State 0, PalFX SHIFT]
type = PalFX
triggerall = !Time
trigger1 = EnemyNear,Var(58) = 1
time = 16
add = 0,0,0
mul = 160,32,256
color = 256
[State 0, PalFX Q-SHIFT]
type = PalFX
triggerall = !Time
trigger1 = EnemyNear,Var(58) = 2
time = 16
add = 0,0,0
mul = 96,64,80
color = 256
[State 0, PalFX Kahl]
type = PalFX
triggerall = !Time
trigger1 = EnemyNear,Var(58) = 3
time = 16
add = 0,0,0
mul = 48,64,96
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = 10 + (Root,Var(12)*0.1)

[State 0, Explod]
type = Explod
trigger1 = Time
trigger1 = Time <= ceil(Var(5)*0.05)
anim = F21 + (EnemyNear,Name="GABB"||EnemyNear,Name="GABX"||EnemyNear,Name="GABK")
ID = 5400
postype = p1
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
vel = sin(random) * (Var(5)*0.1) + const(size.head.pos.x),(random%201)*-0.01 + const(size.head.pos.y)
accel = 0,0.2
pausemovetime = 666
supermovetime = 666
sprpriority = const(size.height)
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 16

;---------------------------------------------------------------------------
; Poisoned
[Statedef 6666]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 16
mul = 128,0,256
invertall = 0
color = 128
ignorehitpause = 1

[State 0, Var Poison Time]
type = VarAdd
trigger1 = 1
v = 28
value = 480
ignorehitpause = 1
[State 0, Var Poison Freq]
type = VarSet
trigger1 = 1
v = 29
value = 8
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 5000

;---------------------------------------------------------------------------
; SYSTEM HELPER
[Statedef 6000]
type    = A
movetype= I
physics = N
anim = 666
ctrl = 0
velset = 0,0

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 0
text = "fvar18 = %f"
params = root,fvar(18)

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = root,pos x
y = 16

;============================
; COULD THIS GAME BE THE WORK OF THE ILLUMINATI
;============================

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = StageVar(info.name) != "Testing Zone"
trigger1 = !EnemyNear,Map(IsTraining) && !Parent,Map(IsTraining)
trigger1 = Time < 180 || RoundState >= 2
flag = RoundNotSkip

;============================
; SIDE MESSAGE
;============================

[State 0, VarSet Counter!]
type = ParentVarSet
trigger1 = Parent,MoveHit && Parent,Var(8) = 1 && !Parent,MoveReversed
trigger1 = Parent,Var(51) < 2
trigger1 = EnemyNear,MoveType = H && Parent,MoveType != H
trigger1 = Parent,Var(10)
trigger1 = Parent,StateNo != [800,900)
trigger2 = Parent,Time = 1
trigger2 = Parent,StateNo = 810 || Parent,StateNo = 830 || Parent,StateNo = 860 || (Parent,Name = "JUST" || Parent,Name = "JUSX") && Parent,StateNo = 805 && Parent,MoveType = A || Parent,Name = "TSUK" && (Parent,StateNo = 815 || Parent,StateNo = 835 || Parent,StateNo = 865) && Parent,MoveType = A
trigger2 = Parent,Var(10) && Parent,Var(5) >= 0
trigger3 = Parent,MoveType = H && EnemyNear,MoveType = H
trigger3 = Parent,Time = 1
trigger3 = Parent,StateNo = 5000
trigger3 = Parent,StateNo != [800,900)
trigger3 = TeamSide = 1
v = 32
value = 63 + (Parent,Var(10) = 2) + (Parent,Var(10) = 3) * 10

[State 0, VarSet Crossup]
type = ParentVarSet
trigger1 = Parent,MoveHit && !Parent,MoveReversed
trigger1 = Parent,P2Dist X < 0 && EnemyNear,StateType != A
trigger1 = Parent,Var(8) = 1 && Parent,Var(51) <= 1
trigger1 = Parent,Var(32) != [63,64]
v = 32
value = 62

[State 0, VarSet Grapple Break]
type = ParentVarSet
trigger1 = Parent,StateNo = 5381 && Parent,Time = 1
trigger2 = (Parent,StateNo = 5380 && EnemyNear,StateNo = 5380) || (Parent,StateNo = 5385 && EnemyNear,StateNo = 5385)
trigger2 = Parent,Time = 1 && TeamSide = 1
v = 32
value = 66

[State 0, VarSet Guard Shatter]
type = ParentVarSet
trigger1 = EnemyNear,StateNo = 5310
trigger1 = EnemyNear,Time = 1
v = 32
value = 68

[State 0, VarSet Heartbreaker]
type = ParentVarSet
trigger1 = Parent,StateNo = 160
trigger1 = Parent,Time = 1
v = 32
value = 70

[State 0, VarSet Perfect Guard]
type = ParentVarSet
trigger1 = Parent,StateNo = 150
trigger1 = Parent,Var(5)
trigger1 = Parent,Time = 4
v = 32
value = 72

[State 0, VarSet Craze Parry]
type = ParentVarSet
trigger1 = Parent,StateNo = 3122
trigger1 = Parent,Time = 1
v = 32
value = 76

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Parent,Var(32) != 0
id = 8000

[State 0, Explod COUNTER!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 63
trigger2 = Parent,Var(32) = 64
trigger3 = Parent,Var(32) = 73
anim = f800 + ((Parent,Var(32) = 64) * 4) + ((Parent,Var(32) = 73) * 14) + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 210, Announcer COUNTER!]
type = PlaySnd
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
triggerall = Parent,Life > 0 && EnemyNear,Life > 0
trigger1 = Parent,Var(32) = 63
trigger2 = Parent,Var(32) = 64
value = F63 + (Parent,Var(32)=64), ((Parent,Var(32)=63) * random%8) + ((Parent,Var(32)=64) * random%4)
abspan = 0
channel = 7
ignorehitpause = 1

[State 0, Explod CROSS-UP!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 62
anim = f802 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120 + (NumExplod(8000) * 16)
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod GRAPPLE BREAK!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 66
anim = f806 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod GUARD SHATTER!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 68
anim = f808 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod HEARTBREAKER!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 70
anim = f810 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod PERFECT GUARD!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 72
anim = f812 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod CRAZE PARRY!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 76
anim = f816 + (TeamSide=2)
id = 8000
postype = left
pos = (TeamSide=2) * 320,120
removetime = 48
facing = 1
pausemovetime = 66666
supermovetime = 66666
sprpriority = -9
scale = 0.25,0.25
ownpal = 1
ignorehitpause = 1

[State 0, Explod I WIN!]
type = Explod
triggerall = Parent,Var(20) >= 0 && EnemyNear,Var(20) >= 0
trigger1 = Parent,Var(32) = 59
anim = F(5019 + TeamSide)
ID = 15020
pos = (TeamSide=2) * 160,120
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Snd Announce YOU WIN!]
type = PlaySnd
trigger1 = Parent,Var(32) = 59
value = F59,-1 + TeamSide
abspan = 0
channel = 7
ignorehitpause = 1

[State 0, Var Side Message Reset]
type = ParentVarSet
trigger1 = Parent,Var(32) != 0
v = 32
value = 0
ignorehitpause = 1

;========================================================
; VAR 5 - INTRO BUGFIX BECAUSE IM MAD
;========================================================

[State 0, Var Set Blah]
type = ParentVarSet
trigger1 = Parent,StateNo = 0
trigger1 = RoundState < 2
v = 5
value = 0

;========================================================
; VAR 9 - ENVSHAKE
;========================================================

[State 0, EnvShake]
type = EnvShake
trigger1 = Parent,Var(9) > 1
time = 2
freq = 120
ampl = -1 + ((Parent,Var(9) > 8) * -8) + ((Parent,Var(9) <= 8) * -Parent,Var(9))
phase = 120+(GameTime%2*120)
ignorehitpause = 1
[State 0, VarAdd]
type = ParentVarAdd
trigger1 = Parent,Var(9) > 2
trigger2 = Parent,Var(9) = 1 || Parent,Var(9) = 2
trigger2 = GameTime%2 = 0
v = 9
value = -1
ignorehitpause = 1

;========================================================
; VAR 10, 11 - COUNTER CHECK
;========================================================

[State 0, Dire Counter Stacks Reset]
type = ParentVarSet
trigger1 = Parent,Var(51) = 0 && (EnemyNear,MoveType != H || EnemyNear,StateNo = [120,160))
trigger2 = Parent,MoveType = H
trigger3 = RoundState > 2
;trigger4 = EnemyNear,StateType = L && (Parent,Name!="NECC"||EnemyNear,StateNo=5120)
trigger4 = EnemyNear,StateNo = 5095
v = 11
value = 0
ignorehitpause = 1

[State 0, Counter Check Reset]
type = ParentVarSet
trigger1 = !Parent,MoveContact || Parent,Ctrl
v = 10
value = 0
ignorehitpause = 1
[State 0, Counter Check Basic]
type = ParentVarSet
triggerall = Parent,Var(51) = 0
triggerall = Parent,StateNo != 160
trigger1 = EnemyNear,MoveType = A
trigger2 = EnemyNear,StateNo = 160
v = 10
value = 1
ignorehitpause = 1
[State 0, Counter Check Dire]
type = ParentVarSet
trigger1 = Parent,Var(51) = 0
trigger1 = Parent,StateNo != 160
trigger1 = EnemyNear,MoveType = I && !EnemyNear,Ctrl || EnemyNear,StateNo = [2000,3000) && EnemyNear,MoveType != H || EnemyNear,StateNo = [165,170)
trigger1 = (EnemyNear,StateNo = [165,5000)) && !((EnemyNear,StateNo = [200,800)) && EnemyNear,StateNo%10 != 5)
v = 10
value = 2
ignorehitpause = 1
[State 0, Counter Check Punish]
type = ParentVarSet
triggerall = Parent,Var(51) = 0
triggerall = Parent,StateNo != 160
triggerall = EnemyNear,MoveType = I && !EnemyNear,Ctrl
trigger1 = (EnemyNear,StateNo = [200,800)) && EnemyNear,StateNo%10 = 0
v = 10
value = 3
ignorehitpause = 1
[State 0, Counter Check Reset]
type = ParentVarSet
triggerall = Parent,Var(10)
trigger1 = Parent,StateNo = [900,1000) && Parent,Name = "AJIT"
trigger2 = Parent,StateNo = 2210 && (Parent,Name = "TSUG" || Parent,Name = "JUST")
trigger3 = Parent,StateNo = 2250 && Parent,Name = "TSUX" 
trigger4 = Parent,Name="TERK" && Parent,StateNo = 961
trigger5 = Parent,StateNo = 2110 && (Parent,Name = "ISAB" || Parent,Name = "ISAK")
trigger6 = Parent,StateNo = 936 && Parent,Name = "ISAK"
trigger7 = Parent,StateNo = [3120,3122]
trigger8 = Parent,StateNo = 955 && Parent,Name = "JANK"
v = 10
value = 0
ignorehitpause = 1

[State 0, Var Parry Counter]
type = ParentVarSet
triggerall = Parent,Name = "ISAB"
triggerall = Parent,Var(7)
triggerall = Parent,Var(10) >= 2
trigger1 = Parent,StateNo = 210 || Parent,StateNo = 215 || Parent,StateNo = 310 || Parent,StateNo = 410 || Parent,StateNo = 510 || Parent,StateNo = 910 || Parent,StateNo = 1100
v = 10
value = 3
[State 0, Var Parry Punish]
type = ParentVarSet
triggerall = Parent,Name = "ISAX"
triggerall = Parent,Var(7)
triggerall = Parent,Var(10) = [1,2]
trigger1 = Parent,StateNo = 210 || Parent,StateNo = 215 || Parent,StateNo = 310 || Parent,StateNo = 410 || Parent,StateNo = 510 || Parent,StateNo = 910 || Parent,StateNo = 1100
trigger2 = Parent,StateNo = 940 || Parent,StateNo = 945 || Parent,StateNo = 955 || Parent,StateNo = 2150
v = 10
value = 1

[State 0, Var Counter Collision]
type = ParentVarSet
trigger1 = EnemyNear,StateNo = 160 && Parent,StateNo = 3200
var(10) = 2
[State 0, Var Counter Charge WALK]
type = ParentVarSet
triggerall = Parent,StateNo = [200,3000) && Parent,StateNo != [800,900)
triggerall = Parent,Name = "WALK"
trigger1 = Parent,Var(25) <= 500 && !Parent,Var(51)
v = 10
value = 2
[State 0, Var Counter Charge JUSK Challenger]
type = ParentVarSet
trigger1 = Parent,StateNo = [200,3000)
trigger1 = EnemyNear,Name = "JUSK"
trigger1 = !Parent,Var(51) && EnemyNear,StateNo != [5000,6000)
trigger1 = Parent,Var(10) != 2 && EnemyNear,Map(JuskHeat) >= 7
v = 10
value = (EnemyNear,Map(JuskHeat) >= 7) + (EnemyNear,Map(JuskHeat) >= 12)
[State 0, Var Counter Charge BERK]
type = ParentVarSet
trigger1 = Parent,StateNo = [200,3000)
trigger1 = Parent,Name = "BERK"
trigger1 = !Parent,Var(51)
trigger1 = Parent,Var(10) != 2 && !!Parent,Map(BerkDice1) && !!Parent,Map(BerkDice2)
trigger1 = Parent,StateNo != [800,900)
v = 10
value = (!!Parent,Map(BerkDice1) && !!Parent,Map(BerkDice2)) + (Parent,Map(BerkDice1) = Parent,Map(BerkDice2) && Parent,Map(BerkDice1)>1)
[State 0, Var Counter Charge BERK Challenger]
type = ParentVarSet
trigger1 = Parent,StateNo = [200,3000)
trigger1 = EnemyNear,Name = "BERK"
trigger1 = !Parent,Var(51) && EnemyNear,StateNo != [5000,6000)
trigger1 = Parent,Var(10) != 2 && !!EnemyNear,Map(BerkDice1) && !!EnemyNear,Map(BerkDice2)
v = 10
value = (!!EnemyNear,Map(BerkDice1) && !!EnemyNear,Map(BerkDice2)) + (EnemyNear,Map(BerkDice1) = EnemyNear,Map(BerkDice2))

[State 0, Counter Check Training]
type = ParentVarSet
triggerall = Parent,StateNo != 160
triggerall = EnemyNear,StateNo != [120,160)
triggerall = !Root,Var(51)
trigger1 = Root,Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = TeamSide = 1
trigger1 = Root,Map(TrainingOpt3)
trigger1 = EnemyNear,MoveType != H
v = 10
value = Root,Map(TrainingOpt3)
ignorehitpause = 1

[State 0, VarSet AfterImage]
type = ParentVarSet
triggerall = Parent,StateNo < 2000
triggerall = Parent,Var(30) = 0
trigger1 = Parent,Var(11)
v = 30
value = 1

;================================================
; VAR 18 - CRAZE GAUGE
;================================================

[State 0, VarSet Lucid Max]
type = ParentVarSet
trigger1 = Parent,Var(18) != [0,3000]
v = 18
value = max(0,min(3000,Parent,Var(18)))
ignorehitpause = 1
[State 0, VarSet Lucid Match Start]
type = ParentVarSet
trigger1 = !RoundState
trigger1 = Parent,Var(18) != min(2000,1000 * (RoundNo - 1))
v = 18
value = min(2000,1000 * (RoundNo - 1))
ignorehitpause = 1

;[State 0, VarSet Lucid Taunt]
;type = ParentVarAdd
;trigger1 = Parent,Var(18) < 3000
;trigger1 = EnemyNear,StateNo = [165,170)
;trigger1 = EnemyNear,Name != "TRAI"
;trigger1 = RoundState = 2
;v = 18
;value = 10
;ignorehitpause = 1

[State 0, VarSet Reset]
type = VarSet
trigger1 = !Time
v = 18
value = 0
[State 0, VarSet Reset]
type = VarSet
trigger1 = Parent,StateNo = [3000,4000)
trigger2 = Parent,StateNo = [1000,2000)
trigger2 = Parent,Name = "REAP"
v = 18
value = ifelse(Parent,Name = "REAP",floor(Parent,Var(18)*0.002),floor(Parent,Var(18)*0.001))
[State 0, VarSet Gauge Gain]
type = VarSet
trigger1 = Var(18) > floor(Parent,Var(18)*0.001)
trigger1 = Parent,Name != "REAP"
trigger2 = Var(18) > floor(Parent,Var(18)*0.002)
trigger2 = Parent,Name = "REAP"
v = 18
value = floor(Parent,Var(18)*0.001)
[State 0, Snd Gauge Gain]
type = PlaySnd
triggerall = RoundState = 2
trigger1 = Var(18) < floor(Parent,Var(18)*0.001)
trigger1 = Parent,Name != "REAP"
trigger2 = Var(18) < floor(Parent,Var(18)*0.002)
trigger2 = Parent,Name = "REAP"
value = F21,Parent,Name = "REAP"
channel = 1
abspan = 0
[State 0, VarSet Gauge Gain]
type = VarAdd
trigger1 = Var(18) < floor(Parent,Var(18)*0.001)
trigger1 = Parent,Name != "REAP"
trigger2 = Var(18) < floor(Parent,Var(18)*0.002)
trigger2 = Parent,Name = "REAP"
v = 18
value = 1

;============================
; VAR 19 - GUARD SPARK
;============================

[State 0, Perfect Guard Timer]
type = ParentVarAdd
trigger1 = Parent,Var(4) > 4
trigger2 = Parent,Var(4) > 0
trigger2 = Parent,map(p_Bk) = 0
v = 4
value = -1
ignorehitpause = 1
[State 0, Perfect Guard Hold]
type = ParentVarAdd
trigger1 = Parent,Var(4) = [1,3]
trigger1 = Parent,map(p_Bk) > 0
v = 4
value = 1
ignorehitpause = 1
[State 0, Perfect Guard Check]
type = ParentVarSet
trigger1 = Parent,map(p_Bk) > 0
trigger1 = Parent,Var(4) <= 0
v = 4
value = 14

[State 0, VarSet]
type = ParentVarSet
trigger1 = Parent,MoveType = A
v = 19
value = ifelse(EnemyNear,Var(4) >= 8,44,40)
ignorehitpause = 1

;====================================================
; VAR 20 - HUD VISIBILITY
;====================================================

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = RoundState < 2
trigger2 = Parent,Var(20) <= 0
flag = nobardisplay
ignorehitpause = 1

;[State 0, VarSet Lifebar Visibility]
;type = ParentVarSet
;trigger1 = RoundState = 2 && Parent,Var(50) = 0
;trigger2 = RoundState > 2
;trigger3 = Parent,MoveType = H
;trigger4 = Parent,ctrl
;v = 20
;value = 1
[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = RoundState >= 2 && Parent,Var(50) = -1
;trigger1 = Alive && EnemyNear,Alive
trigger1 = Var(20) <= 0
v = 20
value = 1

;================================================
; VAR 21, 22, 23 - PAIN & POTENTIAL HEALTH
;================================================

[State 0, VarSet Painbar Reduce]
type = ParentVarAdd
triggerall = Parent,Var(28) <= 0
trigger1 = Parent,MoveType != H && EnemyNear,Var(51) = 0
trigger1 = (Parent,StateType != L || Parent,StateNo = 5120)
trigger1 = Parent,Var(21) > Parent,Life
trigger2 = Parent,StateNo = 5150
v = 21
value = -ceil((Parent,Var(21) - Parent,Life) * 0.5)
ignorehitpause = 1
[State 0, VarSet Painbar Reset]
type = ParentVarSet
trigger1 = Parent,Var(21) < Parent,Life
v = 21
value = Parent,Life
ignorehitpause = 1

[State 0, VarSet P.Life Reset]
type = ParentVarSet
trigger1 = RoundState >= 1
trigger1 = Parent,Var(22) < Parent,Life
v = 22
value = Parent,Life
ignorehitpause = 1
[State 0, VarSet P.Life Delay]
type = ParentVarSet
triggerall = RoundState = 2
trigger1 = Parent,MoveType = H
trigger2 = Parent,StateType != L && !Parent,StateNo = 5120
trigger3 = Parent,Var(28) > 0
v = 23
value = 96
ignorehitpause = 1
[State 0, VarSet P.Life Countdown]
type = ParentVarAdd
triggerall = RoundState = 2
triggerall = Parent,Var(28) <= 0
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = Parent,MoveType != H
trigger1 = Parent,StateType != L
trigger1 = Parent,Var(23) > 0
v = 23
value = -1
ignorehitpause = 1
[State 0, VarSet P.Life Reduce]
type = ParentVarAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = !Parent,Alive
trigger1 = Parent,Var(22) > 0
v = 22
value = -1 - ceil(Parent,Var(22) * 0.125) * (Parent,Var(22) > 4)
ignorehitpause = 1

;================================================
; VAR 25, 26, 27 - GUARD METER CHARGE & DAMAGE
;================================================

[State 0, Guard Meter Minimal]
type = ParentVarSet
trigger1 = Parent,Var(24) < Parent,Var(25)
v = 24
value = Parent,Var(25)
ignorehitpause = 1

[State 0, Guard Meter Passive Gain]
type = ParentVarAdd
triggerall = Parent,Var(25) < 1000
triggerall = Parent,Var(54) = 0 && EnemyNear,Var(54) = 0
trigger1 = Parent,Var(26) = 0 && RoundState = 2
trigger1 = Parent,StateNo != 150 && Parent,StateNo != 152 && Parent,StateNo != 154 && !(Parent,StateNo = [5310,5311])
trigger2 = Parent,Var(47) = 4 && Name = "TRAI"
v = 25
value = (GameTime%3)+Parent,Map(HeartbreakerReady)+(!(GameTime%3))*Parent,Map(HeartbreakerReady)
ignorehitpause = 1
[State 0, Guard Meter Perfect Gain]
type = ParentVarAdd
triggerall = Parent,Var(25) < 1000
triggerall = 1;GameTime%3
trigger1 = Parent,Var(5) = 1
trigger1 = Parent,StateNo = 150 || Parent,StateNo = 152 || Parent,StateNo = 154
v = 25
value = 1+!(!GameTime%5)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = Parent,Var(25) > 1000
v = 25
value = 1000
[State 0, VarSet]
type = ParentVarSet
trigger1 = Parent,Var(25) < 0
v = 25
value = 0

[State 0, Guard Meter Delay Count]
type = ParentVarAdd
trigger1 = Parent,Var(26) > 0
trigger1 = Parent,StateNo != 150 && Parent,StateNo != 152 && Parent,StateNo != 154
v = 26
value = -1
ignorehitpause = 1

;============================
; VAR 4X (JANE)
;============================

[State 0, Life Burn]
type = LifeAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
triggerall = Parent,Var(20)
trigger1 = GameTime%12 = 0
trigger1 = EnemyNear,Name = "JANX"
trigger1 = EnemyNear,Var(41) > 0
trigger1 = Parent,Life > 1
value = -1
absolute = 1
redirectid = Parent,ID
[State 0, Var Burn Reduce]
type = ParentVarAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
triggerall = Parent,Var(41) > 0
trigger1 = GameTime%12 = 0 || EnemyNear,Var(23) <= 1
trigger1 = Parent,Name = "JANX"
trigger2 = Parent,Name = "JANK"
v = 41
value = -1

[State 0, Var Burn Minimum Regen]
type = ParentVarSet
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = EnemyNear,Name = "JANX"
trigger1 = Parent,Var(23) <= 1 && EnemyNear,Var(41) > 0
v = 23
value = 1

[State 0, Var Burn Zero]
type = ParentVarSet
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = Parent,Name = "JANX"
trigger1 = Parent,Var(41) > 0
trigger1 = EnemyNear,Var(23) <= 0
v = 41
value = 0

[State 0, Var Frozen Health Regen]
type = ParentVarSet
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = EnemyNear,Name = "JANK"
trigger1 = EnemyNear,Var(41) > 0
v = 23
value = 32

;============================
; VAR 50 - ROUND CONTROL
;============================

;[State 0, Snd Announce Good Job Saber]
;type = PlaySnd
;trigger1 = RoundState <= 2 && Parent,Var(50) = 4
;trigger1 = TeamSide=1
;trigger1 = RoundNo = 1
;value = F50,0
;abspan = 0
;channel = 7
;[State 0, Snd Announce Rooound 2!]
;type = PlaySnd
;trigger1 = RoundState <= 2 && Parent,Var(50) = 4 + (RoundNo > 1 && Parent,RoundsExisted && EnemyNear,RoundsExisted) * 68
;trigger1 = TeamSide=1
;trigger1 = RoundNo > 1
;value = F52,random%7
;abspan = 0
;channel = 7
;[State 0, Snd Announce Last Round]
;type = PlaySnd
;triggerall = RoundState <= 2 && Parent,Var(50) = 4 + (RoundNo > 1 && Parent,RoundsExisted && EnemyNear,RoundsExisted) * 68
;triggerall = TeamSide=1
;trigger1 = RoundNo = 3
;trigger1 = TeamMode != Turns && EnemyNear,TeamMode != Turns
;trigger2 = RoundNo = 7
;trigger2 = TeamMode = Turns && EnemyNear,TeamMode = Turns
;value = F53,random%3
;abspan = 0
;channel = 7
;[State 0, Snd Announce RAKE!]
;type = PlaySnd
;trigger1 = TeamSide=1
;trigger1 = RoundState <= 2 && Parent,Var(50) = 140 + (RoundNo > 1 && Parent,RoundsExisted && EnemyNear,RoundsExisted) * 68
;value = F51,0
;abspan = 0
;channel = 7

[State 0, Snd Announce Knock Out!]
type = PlaySnd
trigger1 = RoundState > 2 && Parent,Var(50) = 6
trigger1 = TeamSide = 1
trigger1 = !Parent,Life ^^ !EnemyNear,Life
value = F(55 - !MatchOver),random%3
abspan = 0
channel = 7
ignorehitpause = 1
[State 0, Snd Announce we dont have a boat, and its a long way to shore]
type = PlaySnd
trigger1 = RoundState > 2 && Parent,Var(50) = 6
trigger1 = TeamSide = 1
trigger1 = !Parent,Life && !EnemyNear,Life
value = F58,random%4
abspan = 0
channel = 7
ignorehitpause = 1
[State 0, Snd Announce Time Out!]
type = PlaySnd
trigger1 = RoundState > 2 && Parent,Var(50) = 6
trigger1 = TeamSide = 1
trigger1 = Parent,Life && EnemyNear,Life
value = F56,random%3
abspan = 0
channel = 7
ignorehitpause = 1

[State 0, Snd Announce DRAW!]
type = PlaySnd
triggerall = RoundState > 2
triggerall = TeamSide = 1
trigger1 = StateNo = [170,175]
trigger1 = EnemyNear,StateNo = [170,175]
trigger1 = Time = 8
trigger2 = !Parent,Life && !EnemyNear,Life
trigger2 = Var(50) = 96
value = F57,random%4
abspan = 0
channel = 7
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
triggerall = RoundState = 2
triggerall = Parent,Var(50) >= 0
trigger1 = Parent,Ctrl = 1
trigger2 = Parent,StateNo > 0
v = 50
value = -1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarAdd
trigger1 = RoundState > 2
trigger1 = Parent,Var(50) < 128
v = 50
value = 1
ignorehitpause = 1
[State 0, Explod KNOCKOUT!]
type = Explod
trigger1 = RoundState > 2 && Parent,Var(50) = 1
trigger1 = TeamSide = 1
trigger1 = !NumExplod(15010)
trigger1 = !Parent,Life || !EnemyNear,Life
anim = F ifelse(!Parent,Life && !EnemyNear,Life,5012,(5010) + (MatchOver))
ID = 15010
pos = 160,0
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Pause]
type = SuperPause
trigger1 = RoundState > 2 && Parent,Var(50) = 1
trigger1 = TeamSide = 1
;trigger1 = !Life || !EnemyNear,Life
time = 64
movetime = 64
anim = -1
darken = 0
ignorehitpause = 1

[State 0, Snd IM DEAD]
type = PlaySnd
trigger1 = RoundState > 2 && Parent,Var(50) = 64
trigger1 = !Parent,Life
value = S11,ifelse(Parent,StateNo = 5160||Parent,StateNo = 5325,10 + random % const(BC.VoiceBankWeakKO),1 + random % const(BC.VoiceBankKO))
channel = 0
ignorehitpause = 1
[State 0, Snd IM DEAD but more quiet]
type = PlaySnd
triggerall = RoundState > 2 && Parent,Var(50) = 64
triggerall = !Parent,Life
trigger1 = Parent,Var(58) = 3
value = F10011,1+random%2 + (Parent,StateNo = 5160||Parent,StateNo = 5325) * 9
channel = 0
ignorehitpause = 1

;========================================================
; VAR 51, 52, 53 - COMBO COUNTER
;========================================================

[State 0, Combo Readout BG]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = !Root,NumHelper(10000) && !EnemyNear,NumHelper(10000)
trigger1 = Parent,Var(53) > 1
trigger1 = Parent,Var(52) > 1
anim = F610
ID = 610
pos = 32 + (TeamSide=2) * 256,72 + (Sin(GameTime*2) * (Parent,Var(52)-124)) * (Parent,Var(52) - Parent,Var(50) >= 123)
postype = left
bindtime = 666
facing = 1
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5 - ((10 - Parent,Var(52)) * 0.05) * (Parent,Var(52) <= 10)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Combo Readout HITS!!]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = !Root,NumHelper(10000) && !EnemyNear,NumHelper(10000)
trigger1 = Parent,Var(53) > 1
trigger1 = Parent,Var(52) > 1
anim = F611
ID = 611
pos = 32 + (TeamSide=2) * 256,72 + (Cos(GameTime*2) * (Parent,Var(52)-124)) * (Parent,Var(52) - Parent,Var(50) >= 123)
postype = left
bindtime = 666
facing = 1
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5 - ((10 - Parent,Var(52)) * 0.05) * (Parent,Var(52) <= 10)
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Combo Readout Hundreds Digit]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = !Root,NumHelper(10000) && !EnemyNear,NumHelper(10000)
trigger1 = Parent,Var(53) > 99
trigger1 = Parent,Var(52) > 1
anim = F(600 + (Floor(Parent,Var(53)*0.01))%10)
ID = 600
pos = 16 + (TeamSide=2) * 256,72 + (Cos(GameTime*2.5) * (Parent,Var(52)-120)) * (Parent,Var(52) - Parent,Var(50) >= 119)
postype = left
bindtime = 666
facing = 1
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5 - ((10 - Parent,Var(52)) * 0.05) * (Parent,Var(52) <= 10)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Combo Readout Tens Digit]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = !Root,NumHelper(10000) && !EnemyNear,NumHelper(10000)
trigger1 = Parent,Var(53) > 9
trigger1 = Parent,Var(52) > 1
anim = F(600 + (Floor(Parent,Var(53)*0.1))%10)
ID = 600
pos = 24 + (Parent,Var(53) > 99) * 8 + (TeamSide=2) * 256,72 + (Cos(GameTime*2.5) * (Parent,Var(52)-120)) * (Parent,Var(52) - Parent,Var(50) >= 119)
postype = left
bindtime = 666
facing = 1
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5 - ((10 - Parent,Var(52)) * 0.05) * (Parent,Var(52) <= 10)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Combo Readout Ones Digit]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = !Root,NumHelper(10000) && !EnemyNear,NumHelper(10000)
trigger1 = Parent,Var(53) > 1
trigger1 = Parent,Var(52) > 1
anim = F(600 + Parent,Var(53)%10)
ID = 600
pos = 32 + (Parent,Var(53) > 9) * 8 + (Parent,Var(53) > 99) * 8 + (TeamSide=2) * 256,72 + (Sin(GameTime*2.5) * (Parent,Var(52)-120)) * (Parent,Var(52) - Parent,Var(50) >= 119)
postype = left
bindtime = 666
facing = 1
sprpriority = 9
pausemovetime = 666
supermovetime = 666
scale = 0.5,0.5 - ((10 - Parent,Var(52)) * 0.05) * (Parent,Var(52) <= 10)
ontop = 1
ownpal = 1
ignorehitpause = 1

;========================================================
; FVAR 18 - GAUGE GAIN MULTIPLIER
;========================================================

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = Parent,StateNo = [3000,3131)
fv = 18
value = 0
[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = Parent,FVar(18) = 0
trigger1 = EnemyNear,Var(51) = 0 && Parent,MoveType != H && Parent,StateNo != [3000,3131)
fv = 18
value = 1.0/(Parent,LifeMax*0.001)

;================================================
; HUD CONTROL
;================================================

[State 0, Explod Bar Fire Back]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F502 + (Parent,Name="ISAK"&&Parent,Var(40))
ID = 10501
pos = 0+(TeamSide=2)*320,0
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -7
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Power Orb]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F(511 + (1 + Floor((GameTime%40) * 0.20)) * (Power >= 1000))
ID = 10511
pos = 29.5+(TeamSide=2)*260.5,205
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Power Num]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Power >= 1000
anim = F(520 + Floor(Parent,Power * 0.001))
ID = 10520
pos = 20+(TeamSide=2)*280,228
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Icon]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 9000
ID = 10900
pos = 145+(TeamSide=2)*30,16
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -5
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1

[State 0, Var Name Training]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "TRAI" || GameMode = "training" && TeamSide = 2
var(56) = 1
[State 0, Var Name AJIT]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "AJIT" || Parent,Name = "AJIX" || Parent,Name = "AJIK"
var(56) = 10 + (Parent,Name = "AJIX") + 2 * (Parent,Name = "AJIK")
[State 0, Var Name TSUG]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "TSUG" || Parent,Name = "TSUX" || Parent,Name = "TSUK"
var(56) = 20 + (Parent,Name = "TSUX") + 2 * (Parent,Name = "TSUK")
[State 0, Var Name SHER]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "SHER" || Parent,Name = "SHEK" || Parent,Name = "SHEX"
var(56) = 30 + (Parent,Name = "SHEX") + 2 * (Parent,Name = "SHEK")
[State 0, Var Name WALL]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "WALL" || Parent,Name = "WALX" || Parent,Name = "WALK"
var(56) = 40 + (Parent,Name = "WALX") + 2 * (Parent,Name = "WALK")
[State 0, Var Name REAP]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "REAP" || Parent,Name = "REAX" || Parent,Name = "REAK"
var(56) = 50 + (Parent,Name = "REAX") + 2 * (Parent,Name = "REAK")
[State 0, Var Name JUST]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "JUST" || Parent,Name = "JUSX" || Parent,Name = "JUSK"
var(56) = 60 + (Parent,Name = "JUSX") + 2 * (Parent,Name = "JUSK")
[State 0, Var Name IKUE]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "IKUE" || Parent,Name = "IKUX" || Parent,Name = "IKUK"
var(56) = 70 + (Parent,Name = "IKUX") + 2 * (Parent,Name = "IKUK")
[State 0, Var Name BOUN]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "BOUN" || Parent,Name = "BOUX" || Parent,Name = "BOUK"
var(56) = 80 + (Parent,Name = "BOUX") + 2 * (Parent,Name = "BOUK")
[State 0, Var Name BAXT]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "BAXT" || Parent,Name = "BAXX" || Parent,Name = "BAXK"
var(56) = 90 + (Parent,Name = "BAXX") + 2 * (Parent,Name = "BAXK")
[State 0, Var Name TERI]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "TERI" || Parent,Name = "TERX" || Parent,Name = "TERK"
var(56) = 100 + (Parent,Name = "TERX") + 2 * (Parent,Name = "TERK")
[State 0, Var Name CICI]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "CICI" || Parent,Name = "CICX" || Parent,Name = "CICK"
var(56) = 110 + (Parent,Name = "CICX") + 2 * (Parent,Name = "CICK")
[State 0, Var Name BERN]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "BERN" || Parent,Name = "BERX" || Parent,Name = "BERK"
var(56) = 120 + (Parent,Name = "BERX") + 2 * (Parent,Name = "BERK")
[State 0, Var Name JANE]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "JANE" || Parent,Name = "JANX" || Parent,Name = "JANK"
var(56) = 130 + (Parent,Name = "JANX") + 2 * (Parent,Name = "JANK")
[State 0, Var Name ISAB]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "ISAB" || Parent,Name = "ISAX" || Parent,Name = "ISAK"
var(56) = 140 + (Parent,Name = "ISAX") + 2 * (Parent,Name = "ISAK")
[State 0, Var Name GOLI]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "GOLI" || Parent,Name = "GOLX" || Parent,Name = "GOLK"
var(56) = 150 + (Parent,Name = "GOLX") + 2 * (Parent,Name = "GOLK")
[State 0, Var Name NECC]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "NECC" || Parent,Name = "NECX" || Parent,Name = "NECK"
var(56) = 160 + (Parent,Name = "NECX") + 2 * (Parent,Name = "NECK")
[State 0, Var Name GOLI]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "EMIC" || Parent,Name = "EMIX" || Parent,Name = "EMIK"
var(56) = 170 + (Parent,Name = "EMIX") + 2 * (Parent,Name = "EMIK")
[State 0, Var Name NECC]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "LUCY" || Parent,Name = "LUCX" || Parent,Name = "LUCK"
var(56) = 180 + (Parent,Name = "LUCX") + 2 * (Parent,Name = "LUCK")
[State 0, Var Name GOLI]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "GABB" || Parent,Name = "GABX" || Parent,Name = "GABK"
var(56) = 190 + (Parent,Name = "GABX") + 2 * (Parent,Name = "GABK")
[State 0, Var Name NECC]
type = ParentVarSet
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56) = 0
trigger1 = Parent,Name = "TYRA" || Parent,Name = "TYRX" || Parent,Name = "TYRK"
var(56) = 200 + (Parent,Name = "TYRX") + 2 * (Parent,Name = "TYRK")

[State 0, Var Name Side-K]
type = ParentVarAdd
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
trigger1 = Parent,Var(56)%10 = 2
trigger1 = Parent,Var(58) = 3
var(56) = 1
[State 0, Var Name Easter Egg]
type = ParentVarAdd
triggerall = RoundState = 0 && Parent,RoundsExisted = 0
triggerall = Parent,Var(56)%10 = 2
trigger1 = Random < 500
trigger1 = Parent,Name = "REAK" && Parent,Var(59) = 19
trigger2 = Random < 100
trigger2 = Parent,Name = "BAXK" && Parent,Var(59) = 17
trigger3 = Random < 500
trigger3 = Parent,Name = "CICK" && Parent,Var(59) = 15
trigger4 = Random < 500
trigger4 = Parent,Name = "JANK" && Parent,Var(59) = 8
var(56) = 2

[State 0, Explod WHATSYERNAAAME]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F4000 + Parent,Var(56)
ID = 10900
pos = 6+48+(TeamSide=2)*(224-5),45.5
postype = left
bindtime = 666
facing = 1
sprpriority = -5
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Lucid IKUK]
type = Explod
triggerall = Parent,Name = "IKUK" && Parent,Var(40)
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 970
ID = 10270
pos = 136+(TeamSide=2)*48,218.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = Parent,Var(40) * 0.0005,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Life Back]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F500 + (Parent,Var(11)>1||EnemyNear,Var(11)>1)
ID = 10500
pos = 0+(TeamSide=2)*320,0
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -5
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Power Back]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F510 + 20 * (Parent,Name="REAP") + 21 * (Parent,Name="IKUE"||Parent,Name="EMIC") + 22 * (Parent,Name="IKUK"&&Parent,Var(40)) + 24 * (Parent,Name="ISAK"&&Parent,Var(40))
ID = 10515
pos = 0+(TeamSide=2)*320,0
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Life Purple]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F1600 + floor((Parent,LifeMax - Parent,Var(22)) * (264.0 / Parent,LifeMax))
ID = 10002
pos = 142+(TeamSide=2)*36,19
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -6
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 128 * (EnemyNear,Name="JANK" * (EnemyNear,Var(41)>0)) - 64 * Abs(Sin(GameTime*0.1) * EnemyNear,Name="JANK" * (EnemyNear,Var(41)>0)),0

[State 0, Explod Bar Life Red]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F1300 + floor((Parent,LifeMax - Parent,Var(21)) * (264.0 / Parent,LifeMax))
ID = 10001
pos = 142+(TeamSide=2)*36,19
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -5
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Life Green]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F1000 + floor((Parent,LifeMax - Parent,Life) * (264.0 / Parent,LifeMax))
ID = 10000
pos = 142+(TeamSide=2)*36,19
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -4
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 64 * Abs(Sin(GameTime*0.33) * EnemyNear,Name="JANX" * (EnemyNear,Var(41)>0)),0

[State 0, Explod Bar Power Blue]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = F2211 - floor((Parent,Power - 1000*(Parent,Power >= 1000) - 1000*(Parent,Power >= 2000) - 1000*(Parent,Name="IKUE"&&Parent,Power >= 3000)) * 0.211) + (Parent,Name="IKUE"||Parent,Name="EMIC")*1000
ID = 10010
pos = 141.5+(TeamSide=2)*37,224.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Guard]
type = Explod
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(25) < 1000
anim = F2300 + ceil(Parent,Var(25) * 0.106) + 200 * Parent,Map(HeartbreakerReady) ;F2607 - floor(Parent,Var(25) * 0.107)
ID = 10020
pos = 150.5+(TeamSide=2)*19,33
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = -5
supermovetime = 666
scale = 0.5,0.5
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = ifelse((GameTime%7)>=(Parent,Var(25)*(0.024-0.012*(Parent,Name="WALK"))),192,256),0

[State 0, Explod Bar Lucid]
type = Explod
triggerall = Parent,Name != "REAP" && !(Parent,Name="IKUK"&&Parent,Var(40)) && !(Parent,Name="ISAK"&&Parent,Var(40))
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(18)
anim = F2794 - floor(Parent,Var(18) * 0.031)
ID = 10270
pos = 136+(TeamSide=2)*48,218.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Lucid REAPER]
type = Explod
triggerall = Parent,Name = "REAP"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(18)
anim = F2883 - floor(Parent,Var(18) * 0.028)
ID = 10270
pos = 136+(TeamSide=2)*48,218.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Ajit Trait]
type = Explod
triggerall = Parent,Name = "AJIT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 935 + Parent,Var(40)
ID = 10000
pos = 60+(TeamSide=2)*200,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Ajix Petal1L]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (45 * (Root,Map(AjixStore)>0) - 5 * (Root,Map(AjixStore)>1) - 10 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal1R]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (-45 * (Root,Map(AjixStore)>0) + 5 * (Root,Map(AjixStore)>1) + 10 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal2L]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (80 * (Root,Map(AjixStore)>1) - 20 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal2R]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (-80 * (Root,Map(AjixStore)>1) + 20 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal3L]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (90 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal3R]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + max(0,Root,Map(AjixStore)) * !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
angle = (-90 * (Root,Map(AjixStore)>2)) * (!Root,Map(AjixTimer)+Root,Map(AjixTimer))
ignorehitpause = 1
[State 0, Explod Bar Ajix Petal C]
type = Explod
triggerall = Parent,Name = "AJIX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(AjixStore) > 0
anim = 930 + floor(Root,Map(AjixStore)) + !!Root,Map(AjixTimer)
ID = 10000
pos = 59+(TeamSide=2)*202,217
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Ajik Trait]
type = Explod
triggerall = Parent,Name = "AJIK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 935 + Parent,Map(AjikBonus)
ID = 10000
pos = 60+(TeamSide=2)*200,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar TSUG Bolt B]
type = Explod
triggerall = Parent,Name = "TSUG"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980
ID = 10000
pos = 60+(TeamSide=2)*200,208.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+16*Parent,Map(TsugStack),0
[State 0, Explod Bar TSUG Bolt F]
type = Explod
triggerall = Parent,Name = "TSUG"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TsugStack)
anim = 980 + Parent,Map(TsugStack)
ID = 10000
pos = 60+(TeamSide=2)*200,208.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,128+16*(Parent,Map(TsugStack))+64*(Parent,Map(TsugStack)>=4)),0

[State 0, Explod Bar TSUX Bolt B]
type = Explod
triggerall = Parent,Name = "TSUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980
ID = 10000
pos = 60+(TeamSide=2)*200,208.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+12*Parent,Map(TsugStack),0
[State 0, Explod Bar TSUX Bolt F]
type = Explod
triggerall = Parent,Name = "TSUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TsugStack)
anim = 980 + min(Parent,Map(TsugStack),4)
ID = 10000
pos = 60+(TeamSide=2)*200,208.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,128+12*(Parent,Map(TsugStack))),0
[State 0, Explod Bar TSUX Bolt Extra]
type = Explod
triggerall = Parent,Name = "TSUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TsugStack)>4
anim = 976 + Parent,Map(TsugStack)
ID = 10000
pos = 60+(TeamSide=2)*200,208.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256,min(256,192+64*Sin(GameTime*0.125*Parent,Map(TsugStack)))

[State 0, Explod Bar TSUK Battery B]
type = Explod
triggerall = Parent,Name = "TSUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 990
ID = 10000
pos = 68+(TeamSide=2)*184,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar TSUK Battery F1]
type = Explod
triggerall = Parent,Name = "TSUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 991 + (Parent,Var(40)>=1000||Parent,Var(41))
ID = 10000
pos = 68.5+(TeamSide=2)*183,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = min(0.5,Parent,Var(40)*0.0005),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar TSUK Battery F2]
type = Explod
triggerall = Parent,Name = "TSUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(40)>1000
anim = 991 + (Parent,Var(40)>=2000||Parent,Var(41))
ID = 10000
pos = 61+(TeamSide=2)*198,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = min(0.5,(Parent,Var(40)-1000)*0.0005),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar TSUK Battery F3]
type = Explod
triggerall = Parent,Name = "TSUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(40)>2000
anim = 991 + (Parent,Var(40)>=3000||Parent,Var(41))
ID = 10000
pos = 53.5+(TeamSide=2)*213,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = min(0.5,(Parent,Var(40)-2000)*0.0005),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Sherm Trait]
type = Explod
triggerall = Parent,Name = "SHER" || Parent,Name = "SHEX" || Parent,Name = "SHEK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2 && Parent,Alive
anim = 995+Parent,Var(47)*(1+Parent,Name="SHEX")
ID = 10000
pos = 60+(TeamSide=2)*200,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5+(0.1 + 0.025 * Parent,Var(47))*max(0,-0.5+sin(gametime*0.1*(1+Parent,Var(47)))),0.5+(0.1 + 0.025 * Parent,Var(47))*max(0,-0.5+sin(gametime*0.1*(1+Parent,Var(47))))
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 128 * !Parent,Var(47),0

[State 0, Explod Bar Reaper Connection]
type = Explod
triggerall = Parent,Name = "REAP"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(ReapTimer) != (0,1)
anim = 915+max(0,min(4,Parent,Var(40)))
ID = 10000
pos = 60+(TeamSide=2)*200,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Reaper Binary]
type = Explod
triggerall = Parent,Name = "REAP"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,Map(ReapTimer) = (0,1)
anim = 970+floor(Root,Map(ReapTimer)*10)
ID = 10000
pos = 60+(TeamSide=2)*200,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar REAX Drone1]
type = Explod
triggerall = Parent,Name = "REAX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 945+ifelse(NumHelper(920),4,min(3,max(0,floor(Root,Map(ReaxBuffer) * 3))))
ID = 10000
pos = 68+(TeamSide=2)*184,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar REAX Drone2]
type = Explod
triggerall = Parent,Name = "REAX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 945+ifelse(NumHelper(921),4,min(3,max(0,floor((Root,Map(ReaxBuffer)-1) * 3))))
ID = 10000
pos = 58+(TeamSide=2)*204,204
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar REAX Drone3]
type = Explod
triggerall = Parent,Name = "REAX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 945+ifelse(NumHelper(922),4,min(3,max(0,floor((Root,Map(ReaxBuffer)-2) * 3))))
ID = 10000
pos = 48+(TeamSide=2)*224,201
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Reaper Fuel B]
type = Explod
triggerall = Parent,Name = "REAK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 941
ID = 10000
pos = 64+(TeamSide=2)*192,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Reaper Fuel 1]
type = Explod
triggerall = Parent,Name = "REAK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 942 + (Parent,Var(41)>=1000)
ID = 10000
pos = 64+(TeamSide=2)*192,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = min(Parent,Var(41)*0.0005,0.5),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Reaper Fuel 2]
type = Explod
triggerall = Parent,Name = "REAK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(41)>1000
anim = 942 + (Parent,Var(41)>=2000)
ID = 10000
pos = 88+(TeamSide=2)*144,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = min((Parent,Var(41)-1000)*0.0005,0.5),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Reaper Fuel 3]
type = Explod
triggerall = Parent,Name = "REAK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(41)>2000
anim = 942 + (Parent,Var(41)>=3000)
ID = 10000
pos = 112+(TeamSide=2)*96,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = min((Parent,Var(41)-2000)*0.0005,0.5),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Reaper Fuel F]
type = Explod
triggerall = Parent,Name = "REAK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 940
ID = 10000
pos = 64+(TeamSide=2)*192,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar JUST Fighting Spirit N]
type = Explod
triggerall = Parent,Name = "JUST"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 955
ID = 10000
pos = 56+(TeamSide=2)*208,210
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 192 * (!!Root,Map(JustThrowN)),192 * (!!Root,Map(JustThrowN))
[State 0, Explod Bar JUST Fighting Spirit F]
type = Explod
triggerall = Parent,Name = "JUST"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 956
ID = 10000
pos = 56+(TeamSide=2)*208,210
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 192 * (!!Root,Map(JustThrowF)),192 * (!!Root,Map(JustThrowF))
[State 0, Explod Bar JUST Fighting Spirit B]
type = Explod
triggerall = Parent,Name = "JUST"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 957
ID = 10000
pos = 56+(TeamSide=2)*208,210
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 192 * (!!Root,Map(JustThrowB)),192 * (!!Root,Map(JustThrowB))
[State 0, Explod Bar JUST Fighting Spirit D]
type = Explod
triggerall = Parent,Name = "JUST"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 958
ID = 10000
pos = 56+(TeamSide=2)*208,210
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 192 * (!!Root,Map(JustThrowD)),192 * (!!Root,Map(JustThrowD))
[State 0, Explod Bar JUST Fighting Spirit U]
type = Explod
triggerall = Parent,Name = "JUST"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 959
ID = 10000
pos = 56+(TeamSide=2)*208,210
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 192 * (!!Root,Map(JustThrowU)),192 * (!!Root,Map(JustThrowU))

[State 0, Explod Bar Justicia Trait O]
type = Explod
triggerall = Parent,Name = "JUSX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4000
ID = 10000
pos = 56+(TeamSide=2)*208,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Justicia Trait B]
type = Explod
triggerall = Parent,Name = "JUSX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4001
ID = 10000
pos = 56+(TeamSide=2)*208,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64,192
[State 0, Explod Bar Justicia Trait F]
type = Explod
triggerall = Parent,Name = "JUSX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4055 - ceil(0.09 * Parent,Var(40))
ID = 10000
pos = 56+(TeamSide=2)*208,212.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128+128*(Parent,NumHelper(920)||Parent,Var(40)=500),0

[State 0, Map Crowd Speed]
type = MapAdd
triggerall = Parent,Name = "JUSK"
trigger1 = RoundState = 2
trigger1 = !(GameTime%8)
trigger2 = Root,Var(51) || EnemyNear,Var(51)
trigger2 = !(GameTime%4)
trigger3 = RoundState > 2
trigger3 = !(GameTime%2)
map = "JuskUISpeed"
value = 1
[State 0, Map Heat Increase]
type = MapAdd
triggerall = Parent,Name = "JUSK"
trigger1 = RoundState >= 2
trigger1 = !(GameTime%2)
trigger1 = Map(JuskUIPos) < Parent,Map(JuskHeat) * 3
map = "JuskUIPos"
value = 1
[State 0, Map Heat Reduce]
type = MapAdd
triggerall = Parent,Name = "JUSK"
trigger1 = RoundState >= 2
trigger1 = !(GameTime%2)
trigger1 = Map(JuskUIPos) > Parent,Map(JuskHeat) * 3
map = "JuskUIPos"
value = -1

[State 0, Explod Bar Tirania Crowd Back]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4100 + floor(Map(JuskUISpeed)*0.75)%4
ID = 10000
pos = 105+(TeamSide=2)*110,215.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Tirania Person Lower]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4104 + min(6,ceil(Map(JuskUIPos)*0.33))
ID = 10000
pos = 105+(TeamSide=2)*110,215.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Tirania Person 1]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-0)) + max(0,min(3,Map(JuskUIPos)-18))
ID = 10000
pos = 128.5+(TeamSide=2)*63,214.5 + 0.5 * ((Map(JuskUISpeed)+2)%4) - ((Map(JuskUISpeed)+2)%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Tirania Person 2]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-3)) + max(0,min(3,Map(JuskUIPos)-21))
ID = 10000
pos = 119+(TeamSide=2)*82,214.5 + 0.5 * ((Map(JuskUISpeed))%4) - ((Map(JuskUISpeed))%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Tirania Person 3]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-6)) + max(0,min(3,Map(JuskUIPos)-24))
ID = 10000
pos = 109.5+(TeamSide=2)*101,214.5 + 0.5 * ((Map(JuskUISpeed)+2)%4) - ((Map(JuskUISpeed)+2)%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Tirania Person 4]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-9)) + max(0,min(3,Map(JuskUIPos)-27))
ID = 10000
pos = 100+(TeamSide=2)*120,214.5 + 0.5 * ((Map(JuskUISpeed))%4) - ((Map(JuskUISpeed))%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Tirania Person 5]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-12)) + max(0,min(3,Map(JuskUIPos)-30))
ID = 10000
pos = 90.5+(TeamSide=2)*139,214.5 + 0.5 * ((Map(JuskUISpeed)+2)%4) - ((Map(JuskUISpeed)+2)%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Tirania Person 6]
type = Explod
triggerall = Parent,Name = "JUSK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 4111 + max(0,min(3,Map(JuskUIPos)-15)) + max(0,min(3,Map(JuskUIPos)-33))
ID = 10000
pos = 81+(TeamSide=2)*158,214.5 + 0.5 * ((Map(JuskUISpeed))%4) - ((Map(JuskUISpeed))%4=3)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Ikux EX1]
type = Explod
triggerall = Parent,Name = "IKUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 940+!!(Parent,Var(41)&1)
ID = 10000
pos = 60+(TeamSide=2)*200,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Ikux EX2]
type = Explod
triggerall = Parent,Name = "IKUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 940+!!(Parent,Var(41)&2)
ID = 10000
pos = 52+(TeamSide=2)*216,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Ikux EX3]
type = Explod
triggerall = Parent,Name = "IKUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 940+!!(Parent,Var(41)&4)
ID = 10000
pos = 44+(TeamSide=2)*232,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Ikuk OD1]
type = Explod
triggerall = Parent,Name = "IKUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(40)
anim = 940+(Parent,Map(IkukOD)>0)
ID = 10000
pos = 66+(TeamSide=2)*188,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Ikuk OD2]
type = Explod
triggerall = Parent,Name = "IKUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(40)
anim = 940+(Parent,Map(IkukOD)>1)
ID = 10000
pos = 53+(TeamSide=2)*214,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Boundary Portal]
type = Explod
triggerall = Parent,Name = "BOUN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 990+(1+floor(0.2*(GameTime%15)))*(NumHelper(910)!=0||NumHelper(2210)!=0)
ID = 10000
pos = 56+(TeamSide=2)*208,215
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BOUX Sword1]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 1.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 0.5) + 11 * (Root,Map(BouxReady)>=1))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 0,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=1),128*(Root,Map(BouxReady)<1)
[State 0, Explod Bar BOUX Sword2]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 2.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 1.0) + 11 * (Root,Map(BouxReady)>=2))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 1,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=2),128*(Root,Map(BouxReady)<2)
[State 0, Explod Bar BOUX Sword3]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 3.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 1.5) + 11 * (Root,Map(BouxReady)>=3))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 2,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=3),128*(Root,Map(BouxReady)<3)
[State 0, Explod Bar BOUX Sword4]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 4.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 2.0) + 11 * (Root,Map(BouxReady)>=4))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 3,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=4),128*(Root,Map(BouxReady)<4)
[State 0, Explod Bar BOUX Sword5]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 5.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 2.5) + 11 * (Root,Map(BouxReady)>=5))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 4,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=5),128*(Root,Map(BouxReady)<5)
[State 0, Explod Bar BOUX Sword6]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 6.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 3.0) + 11 * (Root,Map(BouxReady)>=6))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 5,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=6),128*(Root,Map(BouxReady)<6)
[State 0, Explod Bar BOUX Sword7]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 7.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 3.5) + 11 * (Root,Map(BouxReady)>=7))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 6,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=7),128*(Root,Map(BouxReady)<7)
[State 0, Explod Bar BOUX Sword8]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 8.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 4.0) + 11 * (Root,Map(BouxReady)>=8))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 7,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=8),128*(Root,Map(BouxReady)<8)
[State 0, Explod Bar BOUX Sword9]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 9.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 4.5) + 11 * (Root,Map(BouxReady)>=9))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 8,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=9),128*(Root,Map(BouxReady)<9)
[State 0, Explod Bar BOUX Sword10]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 10.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 5.0) + 11 * (Root,Map(BouxReady)>=10))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 9,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=10),128*(Root,Map(BouxReady)<10)
[State 0, Explod Bar BOUX Sword11]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 11.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 5.5) + 11 * (Root,Map(BouxReady)>=11))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 10,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=11),128*(Root,Map(BouxReady)<11)
[State 0, Explod Bar BOUX Sword12]
type = Explod
triggerall = Parent,Name = "BOUX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Root,Map(BouxMax) >= 12.0
anim = S floor(4105.5 + 5 * sin(GameTime*0.1 + 6.0) + 11 * (Root,Map(BouxReady)>=12))
ID = 10000
pos = 132+(TeamSide=2)*56 + (-4.5 + 9*(TeamSide=2)) * 11,207
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Root,Map(BouxReady)>=12),128*(Root,Map(BouxReady)<12)

[State 0, Explod Bar BOUK Windows Back]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
anim = 973
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = sub
ignorehitpause = 1
[State 0, Explod Bar BOUK Windows Front]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
;trigger1 = Parent,Map(BoukStanceCDTime) = 0
anim = ifelse(Parent,Map(BoukStanceCDTime) = 0,972,ifelse(Parent,Var(44)=5,4000+floor(Parent,Map(BoukStanceCDTime)*0.1953125),4000+floor(Parent,Map(BoukStanceCDTime)*0.390625)))
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BOUK Windows Up]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(44) = 1 || Parent,Var(44) = 5
anim = 974
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BOUK Windows Left]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(44) = 2 || Parent,Var(44) = 5
anim = 975
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BOUK Windows Down]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(44) = 3 || Parent,Var(44) = 5
anim = 976
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BOUK Windows Right]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState >= 2
trigger1 = Parent,Var(44) = 4 || Parent,Var(44) = 5
anim = 977
ID = 10000
pos = 53.5+(TeamSide=2)*212,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BOUK Karma Back]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(45)
anim = 970
ID = 10000
pos = 66.5+(TeamSide=2)*186,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = sub
ignorehitpause = 1
[State 0, Explod Bar BOUK Karma Front]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(45)
anim = 971
ID = 10000
pos = 66.5+(TeamSide=2)*186,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5*(Parent,Var(45)*0.00033),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BOUK Karma Level]
type = Explod
triggerall = Parent,Name = "BOUK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BoukMulti) > 1
anim = 978 + Parent,Map(BoukMulti)
ID = 10000
pos = 74.5+(TeamSide=2)*170,209
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, MapSet]
type = MapSet
trigger1 = Root,Name = "BAXT"
trigger1 = RoundState = 2
map = "BaxtSpin"
value = ifelse(Root,Map(BaxtSpin)=0||Root,Map(BaxtSpin)=3,Root,Map(BaxtSpin),(Root,Map(BaxtSpin)+Map(BaxtSpin)*3)*0.25)
[State 0, MapSet]
type = MapAdd
trigger1 = Root,Name = "BAXX"
trigger1 = RoundState = 2
map = "BaxxSpin"
value = min(1,0.2+Root,Map(BaxxSon)*0.2) + Root,Time * 0.1 * (Root,StateNo=910&&Root,MoveType=A||Root,StateNo=1510&&Root,AnimElemNo(0)=[2,10])
[State 0, MapSet]
type = MapSet
trigger1 = Root,Name = "BAXX"
trigger1 = !Map(BaxtTwist)
map = "BaxxTwist"
value = 3.5

[State 0, Explod Bar Baxter Gauge BG]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 960
ID = 10000
pos = 53+(TeamSide=2)*214,207.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Baxter Pips]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 961 + ceil(Map(BaxtSpin)*4)*!Parent,Map(BaxtFullPal) + floor(Parent,Map(BaxtFullPal)*0.12+0.5)
ID = 10000
pos = 53+(TeamSide=2)*214,207.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Baxter Digit XO.O]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + floor(((random * 10 * !!Parent,Map(BaxtFullPal) + Map(BaxtSpin) * 3000) % 10000) * 0.001)
ID = 10000
pos = 48+(TeamSide=2)*214,214.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Baxter Digit OX.O]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + floor(((random * 10 * !!Parent,Map(BaxtFullPal) + Map(BaxtSpin) * 3000) % 1000) * 0.01)
ID = 10000
pos = 54.5+(TeamSide=2)*214,214.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Baxter Digit OO.X]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 990 + floor(((random * 10 * !!Parent,Map(BaxtFullPal) + Map(BaxtSpin) * 3000) % 100) * 0.1)
ID = 10000
pos = 59.5+(TeamSide=2)*214,214.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Baxter Gauge Overheat]
type = Explod
triggerall = Parent,Name = "BAXT" && Parent,Map(BaxtFullPal)
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 975
ID = 10000
pos = 53+(TeamSide=2)*214,207.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96-sin(GameTime*0.2)*96,224+sin(GameTime*0.2)*32
[State 0, Explod Bar Baxter Overheat Pips]
type = Explod
triggerall = Parent,Name = "BAXT"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 961 + floor(Parent,Map(BaxtFullPal)*0.12+0.5)
ID = 10000
pos = 53+(TeamSide=2)*214,207.5
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 192+sin(GameTime*0.2)*64,64-sin(GameTime*0.2)*64

[State 0, Explod Bar BAXX DNA Bracket]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 949
ID = 10000
pos = 87.5+(TeamSide=2)*145,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BAXX DNA Bar 1-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 0 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=1.0),64*(Root,Map(BaxxSon)<1.0)
[State 0, Explod Bar BAXX DNA Column 1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 0 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * sin((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=1.0),64*(Root,Map(BaxxSon)<1.0)
[State 0, Explod Bar BAXX DNA Bar 1-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 0 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*0)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=1.0),64*(Root,Map(BaxxSon)<1.0)

[State 0, Explod Bar BAXX DNA Bar 2-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 1 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=2.0),64*(Root,Map(BaxxSon)<2.0)
[State 0, Explod Bar BAXX DNA Column 2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 1 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * -sin((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=2.0),64*(Root,Map(BaxxSon)<2.0)
[State 0, Explod Bar BAXX DNA Bar 2-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 1 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*1)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=2.0),64*(Root,Map(BaxxSon)<2.0)

[State 0, Explod Bar BAXX DNA Bar 3-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 2 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=3.0),64*(Root,Map(BaxxSon)<3.0)
[State 0, Explod Bar BAXX DNA Column 3]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 2 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * sin((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=3.0),64*(Root,Map(BaxxSon)<3.0)
[State 0, Explod Bar BAXX DNA Bar 3-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 2 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*2)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=3.0),64*(Root,Map(BaxxSon)<3.0)

[State 0, Explod Bar BAXX DNA Bar 4-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 3 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=4.0),64*(Root,Map(BaxxSon)<4.0)
[State 0, Explod Bar BAXX DNA Column 4]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 3 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * -sin((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=4.0),64*(Root,Map(BaxxSon)<4.0)
[State 0, Explod Bar BAXX DNA Bar 4-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 3 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*3)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=4.0),64*(Root,Map(BaxxSon)<4.0)

[State 0, Explod Bar BAXX DNA Bar 5-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 4 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=5.0),64*(Root,Map(BaxxSon)<5.0)
[State 0, Explod Bar BAXX DNA Column 5]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 4 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * sin((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=5.0),64*(Root,Map(BaxxSon)<5.0)
[State 0, Explod Bar BAXX DNA Bar 5-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 4 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*4)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=5.0),64*(Root,Map(BaxxSon)<5.0)

[State 0, Explod Bar BAXX DNA Bar 6-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 5 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=6.0),64*(Root,Map(BaxxSon)<6.0)
[State 0, Explod Bar BAXX DNA Column 6]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 5 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * -sin((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=6.0),64*(Root,Map(BaxxSon)<6.0)
[State 0, Explod Bar BAXX DNA Bar 6-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 5 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*5)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=6.0),64*(Root,Map(BaxxSon)<6.0)

[State 0, Explod Bar BAXX DNA Bar 7-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 6 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=7.0),64*(Root,Map(BaxxSon)<7.0)
[State 0, Explod Bar BAXX DNA Column 7]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 6 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * sin((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=7.0),64*(Root,Map(BaxxSon)<7.0)
[State 0, Explod Bar BAXX DNA Bar 7-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 6 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*6)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=7.0),64*(Root,Map(BaxxSon)<7.0)

[State 0, Explod Bar BAXX DNA Bar 8-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 7 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=8.0),64*(Root,Map(BaxxSon)<8.0)
[State 0, Explod Bar BAXX DNA Column 8]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 7 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * -sin((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=8.0),64*(Root,Map(BaxxSon)<8.0)
[State 0, Explod Bar BAXX DNA Bar 8-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 7 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*7)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=8.0),64*(Root,Map(BaxxSon)<8.0)

[State 0, Explod Bar BAXX DNA Bar 9-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 8 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=9.0),64*(Root,Map(BaxxSon)<9.0)
[State 0, Explod Bar BAXX DNA Column 9]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 8 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * sin((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=9.0),64*(Root,Map(BaxxSon)<9.0)
[State 0, Explod Bar BAXX DNA Bar 9-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 8 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*8)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=9.0),64*(Root,Map(BaxxSon)<9.0)

[State 0, Explod Bar BAXX DNA Bar 10-1]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 + abs(ceil(cos((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1)-0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 9 * (7-14*(TeamSide=2)),206.5 + 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=10.0),64*(Root,Map(BaxxSon)<10.0)
[State 0, Explod Bar BAXX DNA Column 10]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4905
ID = 10000
pos = 56+(TeamSide=2)*208 + 9 * (7-14*(TeamSide=2)),206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5 * -sin((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1)
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=10.0),64*(Root,Map(BaxxSon)<10.0)
[State 0, Explod Bar BAXX DNA Bar 10-2]
type = Explod
triggerall = Parent,Name = "BAXX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4901 - abs(floor(cos((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1)+0.5))
ID = 10000
pos = 56+(TeamSide=2)*208 + 9 * (7-14*(TeamSide=2)),206.5 - 6 * sin((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1) * (1-2*(cos((Map(BaxxSpin)+Map(BaxxTwist)*9)*0.1)>0))
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+224*(Root,Map(BaxxSon)>=10.0),64*(Root,Map(BaxxSon)<10.0)

[State 0, Explod Bar BAXK Vial 1 Fill Back]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4951
ID = 10000
pos = 40+(TeamSide=2)*240,214.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64,224
[State 0, Explod Bar BAXK Vial 1 Bar1]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 0
anim = 4952
ID = 10000
pos = 40+(TeamSide=2)*240,214.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin))),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=0.5),32-32*(Parent,Map(BaxtSpin)>=0.5)
[State 0, Explod Bar BAXK Vial 1 Bar2]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 0.5
anim = 4952
ID = 10000
pos = 54+(TeamSide=2)*212,214.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin)-0.5)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=1.0),32-32*(Parent,Map(BaxtSpin)>=1.0)
[State 0, Explod Bar BAXK Vial 1 OL]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4950
ID = 10000
pos = 40+(TeamSide=2)*240,214.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*(Parent,Map(BaxtSpin)>0.0),192-192*(Parent,Map(BaxtSpin)>0.0)

[State 0, Explod Bar BAXK Vial 2 Fill Back]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4951
ID = 10000
pos = 44+(TeamSide=2)*232,206
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64,224
[State 0, Explod Bar BAXK Vial 2 Bar1]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 1.0
anim = 4953
ID = 10000
pos = 44+(TeamSide=2)*232,206
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin)-1.0)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=1.5),32-32*(Parent,Map(BaxtSpin)>=1.5)
[State 0, Explod Bar BAXK Vial 2 Bar2]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 1.5
anim = 4953
ID = 10000
pos = 58+(TeamSide=2)*204,206
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin)-1.5)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=2.0),32-32*(Parent,Map(BaxtSpin)>=2.0)
[State 0, Explod Bar BAXK Vial 2 OL]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4950
ID = 10000
pos = 44+(TeamSide=2)*232,206
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*(Parent,Map(BaxtSpin)>1.0),192-192*(Parent,Map(BaxtSpin)>1.0)

[State 0, Explod Bar BAXK Vial 3 Fill Back]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4951
ID = 10000
pos = 48+(TeamSide=2)*224,197.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32+32*(Parent,Map(BaxtSpin)>2.0),256-32*(Parent,Map(BaxtSpin)>2.0)
[State 0, Explod Bar BAXK Vial 3 Bar1]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 2.0
anim = 4954
ID = 10000
pos = 48+(TeamSide=2)*224,197.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin)-2.0)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=2.5),32-32*(Parent,Map(BaxtSpin)>=2.5)
[State 0, Explod Bar BAXK Vial 3 Bar2]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BaxtSpin) > 2.5
anim = 4954
ID = 10000
pos = 62+(TeamSide=2)*196,197.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = max(0,min(0.5,Parent,Map(BaxtSpin)-2.5)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+160*(Parent,Map(BaxtSpin)>=3.0),32-32*(Parent,Map(BaxtSpin)>=3.0)
[State 0, Explod Bar BAXK Vial 3 OL]
type = Explod
triggerall = Parent,Name = "BAXK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4950
ID = 10000
pos = 48+(TeamSide=2)*224,197.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*(Parent,Map(BaxtSpin)>2.0),192-192*(Parent,Map(BaxtSpin)>2.0)

[State 0, Explod Bar Teri Unrelenting A]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 990 + (floor((Parent,Var(40) % 10) * 1) != 0)
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting O]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 992 + (floor((Parent,Var(40) % 100) * 0.1) != 0)
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting H]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 994 + (floor((Parent,Var(40) % 1000) * 0.01) != 0)
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Teri Unrelenting Gauge Back]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 997
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting Gauge Spin]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41)
anim = 999
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.125,0.125;0.5,0.5
ontop = 1
ownpal = 1
angle = floor(180+Parent,Var(41)*0.6)
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting Gauge Half Full]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41)
anim = 998 + (Parent,Var(41)>300)
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.125,0.125;0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting Gauge I Hate AngleDraw]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41) = [1,150]
anim = 998
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.125,0.125;0.5,0.5
ontop = 1
ownpal = 1
angle = 270
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting Gauge Over]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 996
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Teri Unrelenting Gauge Flash]
type = Explod
triggerall = Parent,Name = "TERI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TeriStack)
anim = 989
ID = 10000
pos = 58+(TeamSide=2)*204,206.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 9
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = addalpha
alpha = 32 * Parent,Map(TeriStack),256 - 32 * Parent,Map(TeriStack)
ignorehitpause = 1

[State 0, Explod Bar Terk Feral L]
type = Explod
triggerall = Parent,Name = "TERX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + Parent,Var(43)
ID = 10000
pos = 60+(TeamSide=2)*200,215.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Terk Tallies 1]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 1
anim = 969 + floor(min(10,Parent,Var(42))*0.5)
ID = 10000
pos = 36+(TeamSide=2)*248,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 2]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 11
anim = 969 + floor(min(10,Parent,Var(42)-10)*0.5)
ID = 10000
pos = 46+(TeamSide=2)*228,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 3]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 21
anim = 969 + floor(min(10,Parent,Var(42)-20)*0.5)
ID = 10000
pos = 56+(TeamSide=2)*208,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 4]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 31
anim = 969 + floor(min(10,Parent,Var(42)-30)*0.5)
ID = 10000
pos = 66+(TeamSide=2)*188,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 5]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 41
anim = 969 + floor(min(10,Parent,Var(42)-40)*0.5)
ID = 10000
pos = 76+(TeamSide=2)*168,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 6]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 51
anim = 969 + floor(min(10,Parent,Var(42)-50)*0.5)
ID = 10000
pos = 86+(TeamSide=2)*148,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 7]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 61
anim = 969 + floor(min(10,Parent,Var(42)-60)*0.5)
ID = 10000
pos = 96+(TeamSide=2)*128,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 8]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 71
anim = 969 + floor(min(10,Parent,Var(42)-70)*0.5)
ID = 10000
pos = 106+(TeamSide=2)*108,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 9]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 81
anim = 969 + floor(min(10,Parent,Var(42)-80)*0.5)
ID = 10000
pos = 116+(TeamSide=2)*88,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Terk Tallies 10]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > 91
anim = 969 + floor(min(10,Parent,Var(42)-90)*0.5)
ID = 10000
pos = 126+(TeamSide=2)*68,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar TERK Demon Back]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TerkDemon)
anim = 975
ID = 10000
pos = 46.5+(TeamSide=2)*226,216.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = sub
ignorehitpause = 1
[State 0, Explod Bar TERK Demon Front]
type = Explod
triggerall = Parent,Name = "TERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TerkDemon)
anim = 976
ID = 10000
pos = 46.5+(TeamSide=2)*226,216.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5*(Parent,Map(TerkDemon)*0.00166),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, MapSet]
type = MapSet
triggerall = Parent,Name = "CICX"
trigger1 = RoundState = 2
map = "CicxMoist"
value = Map(CicxMoist) + (Parent,Map(CicxMoist) - Map(CicxMoist)) * 0.1

[State 0, Explod Bar Ci-Ci L Moisture Gauge BG]
type = Explod
triggerall = Parent,Name = "CICX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Map(CicxMoist)
anim = 929
ID = 10000
pos = 75.5+(TeamSide=2)*169,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.19 + 0.525 * Map(CicxMoist),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 192,128
[State 0, Explod Bar Ci-Ci L Moisture Bar]
type = Explod
triggerall = Parent,Name = "CICX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Map(CicxMoist)
anim = 928
ID = 10000
pos = 77.5+(TeamSide=2)*165,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Map(CicxMoist),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256,64
[State 0, Explod Bar Ci-Ci S Moisture Gauge BG]
type = Explod
triggerall = Parent,Name = "CICK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(CickMoist)
anim = 929
ID = 10000
pos = 75.5+(TeamSide=2)*169,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.19 + 0.525 * Parent,Map(CickMoist),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128+64*(Parent,Map(CickMoist)>=3),64+64*(Parent,Map(CickMoist)>=3)
[State 0, Explod Bar Ci-Ci S Moisture Bar]
type = Explod
triggerall = Parent,Name = "CICK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(CickMoist)
anim = 928
ID = 10000
pos = 77.5+(TeamSide=2)*165,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Parent,Map(CickMoist),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128+128*(Parent,Map(CickMoist)>=3),64*(Parent,Map(CickMoist)>=3)
[State 0, Explod Bar Ci-Ci Moisture Gauge]
type = Explod
triggerall = Parent,Name = "CICX" || Parent,Name = "CICK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 927 + 70 * (Parent,Name="CICK")
ID = 10000
pos = 77.5+(TeamSide=2)*165,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Bern Trait Bar Outline]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
;trigger1 = Parent,Map(BernTimer)
anim = 930
ID = 10000
pos = 48+(TeamSide=2)*224,204.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Trait Bar]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
;trigger1 = Parent,Map(BernTimer)
anim = 943
ID = 10000
pos = 48+(TeamSide=2)*224,204.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.001*(Parent,Map(BernTimer)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Trait Face]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
;trigger1 = Parent,Map(BernTimer)
anim = 944
ID = 10000
pos = 44+(TeamSide=2)*232,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256-128*!Parent,Map(BernTimer),0

[State 0, Explod Bar Bern Jimmy Cooldown Outline]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41) = (0,400)
anim = 930
ID = 10000
pos = 112+(TeamSide=2)*96,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Jimmy Cooldown Bar]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41) = (0,400)
anim = 933
ID = 10000
pos = 112+(TeamSide=2)*96,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5*0.0025*(400-Parent,Var(41)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Jimmy Cooldown Face]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41) > -32
anim = 931 + (GameTime%12 <= 5 && Parent,Var(41)>400)
ID = 10000
pos = 112+(TeamSide=2)*96,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256-128*Parent,NumHelper(910),0
[State 0, Explod Bar Bern Jimmy OK!]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(41) = (-32,0] && Abs(Parent,Var(41))%8 <= 3
anim = 937 + (TeamSide=2)
ID = 10000
pos = 112+(TeamSide=2)*96,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Bern Lee Cooldown Outline]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) = (0,320)
anim = 930
ID = 10000
pos = 80+(TeamSide=2)*160,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Lee Cooldown Bar]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) = (0,320]
anim = 936
ID = 10000
pos = 80+(TeamSide=2)*160,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5*0.003125*(320-Parent,Var(42)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Lee Cooldown Face]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) > -32
anim = 934 + (GameTime%12 <= 5 && Parent,Var(42)>320)
ID = 10000
pos = 80+(TeamSide=2)*160,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256-128*Parent,NumHelper(920),0
[State 0, Explod Bar Bern Lee OK!]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(42) = (-32,0] && Abs(Parent,Var(42))%8 <= 3
anim = 937 + (TeamSide=2)
ID = 10000
pos = 80+(TeamSide=2)*160,211.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Bern Pocket B]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(43) > 0
anim = 1090
ID = 10000
pos = 60+(TeamSide=2)*200,213.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Pocket Item]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(43) > 0
anim = 1092 + floor(Parent,Var(43)*0.01)
ID = 10000
pos = 60+(TeamSide=2)*200,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Bern Pocket F]
type = Explod
triggerall = Parent,Name = "BERN"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Var(43) > 0
anim = 1091
ID = 10000
pos = 60+(TeamSide=2)*200,213.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128,128

[State 0, Explod Bar Bern Tobacco]
type = Explod
triggerall = Parent,Name = "BERX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 940 + !(Parent,Var(44)=0)
ID = 10000
pos = 44+(TeamSide=2)*232,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = addalpha
alpha = 128*(1+1*!(Parent,Var(44)=0)),0
ignorehitpause = 1

[State 0, Explod Bar BERK Dice1]
type = Explod
triggerall = Parent,Name = "BERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + Parent,Map(BerkDice1) * (!Parent,Map(BerkRoll1)) + (1 + random%6) * (!!Parent,Map(BerkRoll1))
ID = 10000
pos = 82+(TeamSide=2)*156 + (-2 + random%5) * (Parent,Map(BerkRoll1)>4),206 + (-1 + random%3) * (Parent,Map(BerkRoll1)>4)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BERK Dice2]
type = Explod
triggerall = Parent,Name = "BERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + Parent,Map(BerkDice2) * (!Parent,Map(BerkRoll2)) + (1 + random%6) * (!!Parent,Map(BerkRoll2))
ID = 10000
pos = 100+(TeamSide=2)*120 + (-2 + random%5) * (Parent,Map(BerkRoll2)>4),206 + (-1 + random%3) * (Parent,Map(BerkRoll2)>4)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar BERK ChipB]
type = Explod
triggerall = Parent,Name = "BERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BerkChips)
anim = 989
ID = 10000
pos = 56+(TeamSide=2)*208,206
postype = left
bindtime = 666
facing = 1
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BERK ChipNum X.]
type = Explod
triggerall = Parent,Name = "BERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BerkChips)>9
anim = 990 + floor(Parent,Map(BerkChips)*0.1)%10
ID = 10000
pos = 52+(TeamSide=2)*208,211
postype = left
bindtime = 666
facing = 1
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar BERK ChipNum .X]
type = Explod
triggerall = Parent,Name = "BERK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(BerkChips)
anim = 990 + Parent,Map(BerkChips)%10
ID = 10000
pos = 60+(TeamSide=2)*208 - 4 * (Parent,Map(BerkChips)<10),211
postype = left
bindtime = 666
facing = 1
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Jane Candle 1 Length]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = ifelse(Parent,Var(42)>Parent,Var(40),Parent,Var(42)=[0,200),Parent,Var(40)=[0,200))
anim = 930
ID = 10000
pos = 47+(TeamSide=2)*226,221.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5 - 0.5 * ifelse(Parent,Var(42)>Parent,Var(40),Parent,Var(42)*0.005,Parent,Var(40)*0.005)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jane Candle 1 Cap]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 931 + (1 + ((GameTime + TeamSide + Parent,Life) * 0.35)%4) * ((Parent,Var(41)>0||Parent,Var(40)>=200)&&Parent,Var(40)>Parent,Var(42))
ID = 10000
pos = 47+(TeamSide=2)*226,221.5 - 18 + 18 * min(ifelse(Parent,Var(42)>Parent,Var(40),Parent,Var(42)*0.005,Parent,Var(40)*0.005),1)
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Jane Candle 2 Length]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = ifelse(Parent,Var(42)>Parent,Var(40),Parent,Var(42)=[0,400),Parent,Var(40)=[0,400))
anim = 930
ID = 10000
pos = 57+(TeamSide=2)*206,221.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5 - 0.5 * ifelse(Parent,Var(42)>Parent,Var(40),(Max(Parent,Var(42)-200,0))*0.005,(Max(Parent,Var(40)-200,0))*0.005)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jane Candle 2 Cap]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 931 + (1 + ((GameTime + TeamSide + Parent,Life) * 0.40)%4) * ((Parent,Var(41)>0||Parent,Var(40)>=400)&&Parent,Var(40)>=200&&Parent,Var(40)>Parent,Var(42))
ID = 10000
pos = 57+(TeamSide=2)*206,221.5 - 18 + 18 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42)-200)*0.005,(Parent,Var(40)-200)*0.005),1),0)
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Jane Candle 3 Length]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = ifelse(Parent,Var(42)>Parent,Var(40),Parent,Var(42)=[0,600),Parent,Var(40)=[0,600))
anim = 930
ID = 10000
pos = 67+(TeamSide=2)*186,221.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5 - 0.5 * ifelse(Parent,Var(42)>Parent,Var(40),(Max(Parent,Var(42)-400,0))*0.005,(Max(Parent,Var(40)-400,0))*0.005)
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jane Candle 3 Cap]
type = Explod
triggerall = Parent,Name = "JANE"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 931 + (1 + ((GameTime + TeamSide + Parent,Life) * 0.45)%4) * (Parent,Var(41)>0&&Parent,Var(40)>=400&&Parent,Var(40)>Parent,Var(42))
ID = 10000
pos = 67+(TeamSide=2)*186,221.5 - 18 + 18 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42)-400)*0.005,(Parent,Var(40)-400)*0.005),1),0)
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar Jane Temp BG]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 979
ID = 10000
pos = 46.5+(TeamSide=2)*205,218
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jane Temp XOO]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = 98 + Parent,Var(41) * 0.5 >= 100
anim = 980 + floor(((98 + Parent,Var(41) * 0.5) % 1000) * 0.01)
ID = 10000
pos = 46.5+(TeamSide=2)*205 + 1,218 - 9
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,128 + EnemyNear,Var(23)*3*(Parent,Var(41)>0)),max(0,128-EnemyNear,Var(23)*3*(Parent,Var(41)>0))
[State 0, Explod Bar Jane Temp OXO]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + floor(((98 + Parent,Var(41) * 0.5) % 100) * 0.1)
ID = 10000
pos = 46.5+(TeamSide=2)*205 + 7,218 - 9
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,128 + EnemyNear,Var(23)*3*(Parent,Var(41)>0)),max(0,128-EnemyNear,Var(23)*3*(Parent,Var(41)>0))
[State 0, Explod Bar Jane Temp OOX]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980 + floor(((98 + Parent,Var(41) * 0.5) % 10) * 1)
ID = 10000
pos = 46.5+(TeamSide=2)*205 + 13,218 - 9
postype = left
bindtime = 666
facing = 1
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,128 + EnemyNear,Var(23)*3*(Parent,Var(41)>0)),max(0,128-EnemyNear,Var(23)*3*(Parent,Var(41)>0))

[State 0, Map Bar Janx Info]
type = MapSet
trigger1 = Root,Name = "JANX"
trigger1 = RoundState = 2
trigger1 = !Root,Var(44)
map = "TempJanxHud"
value = Map(TempJanxHud) + (min(4,Root,Var(43)) - Map(TempJanxHud)) * 0.075
[State 0, Map Bar Janx Info]
type = MapSet
trigger1 = Root,Name = "JANX"
trigger1 = RoundState = 2
trigger1 = Root,Var(44)
map = "TempJanxHud"
value = (600 - Root,Var(44)) * 0.00667

[State 0, Explod Bar Janx Gauge B]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 974
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 32,224
[State 0, Explod Bar Janx Gauge Bar]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 975 + max(0,min(3,Parent,Var(43)-1))
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Map(TempJanxHud),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = ifelse(Parent,Var(44)<=0,256,240 + 32 * Sin(GameTime*0.33)),0
[State 0, Explod Bar Janx Gauge F]
type = Explod
triggerall = Parent,Name = "JANX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 970 + max(0,min(3,Parent,Var(43)-1))
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = ifelse(Parent,Var(44)<=0,256,240 + 32 * Sin(GameTime*0.33)),0
[State 0, Explod Bar Janx Gauge F Flash]
type = Explod
triggerall = Parent,Name = "JANX"
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = RoundState = 2
triggerall = Parent,Var(43) >= 3
trigger1 = !Parent,Var(44)
trigger1 = (GameTime)%(12 - (Map(TempJanxHud)-3)*4) >= (8 - (Map(TempJanxHud)-3)*3)
trigger2 = !!Parent,Var(44)
trigger2 = (GameTime)%(12 - (Map(TempJanxHud)-3)*4) >= (8 - (Map(TempJanxHud)-3)*3)
anim = 974
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64 + 128 * (Parent,Var(43)>=4),192 - 128 * (Parent,Var(43)>=4)

[State 0, Explod Bar Jank Gauge B]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 991
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 48,208
[State 0, Explod Bar Jank Gauge Bar1]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 992
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 - 0.5 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42)-450)*0.006667,(Parent,Var(40)-450)*0.006667),1),0),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jank Gauge Bar2]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 993
ID = 10000
pos = 94+(TeamSide=2)*132,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 - 0.5 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42)-300)*0.006667,(Parent,Var(40)-300)*0.006667),1),0),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jank Gauge Bar3]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 994
ID = 10000
pos = 106+(TeamSide=2)*108,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 - 0.5 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42)-150)*0.006667,(Parent,Var(40)-150)*0.006667),1),0),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jank Gauge Bar4]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 995
ID = 10000
pos = 118+(TeamSide=2)*84,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 - 0.5 * max(min(ifelse(Parent,Var(42)>Parent,Var(40),(Parent,Var(42))*0.006667,(Parent,Var(40))*0.006667),1),0),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar Jank Gauge F]
type = Explod
triggerall = Parent,Name = "JANK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 990
ID = 10000
pos = 82+(TeamSide=2)*156,212
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 7
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar GOLI BarB]
type = Explod
triggerall = Parent,Name = "GOLI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 950
ID = 10000
pos = 56+(TeamSide=2)*208,220.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 192 + 64 * Parent,Map(CStatic) * 0.001,0
[State 0, Explod Bar GOLI Light1B]
type = Explod
triggerall = Parent,Name = "GOLI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 952
ID = 10000
pos = 56+(TeamSide=2)*208,220.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64 + 96 * Parent,Map(CStatic) * 0.001 + (Parent,Map(CStatic) * 0.025) * (GameTime%4),0
[State 0, Explod Bar GOLI Light1F]
type = Explod
triggerall = Parent,Name = "GOLI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(CStatic)>=1000
anim = 953
ID = 10000
pos = 56+(TeamSide=2)*208,220.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256-24*(GameTime%4),24*(GameTime%4)

[State 0, MapSet]
type = MapAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = RoundState = 2
trigger1 = Parent,Name = "GOLI"
map = "GoliMeterPos"
value = (Parent,Map(CStatic) - Map(GoliMeterPos)) * 0.1

[State 0, Explod Bar GOLI BarF]
type = Explod
triggerall = Parent,Name = "GOLI"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 951
ID = 10000
pos = 56+(TeamSide=2)*208,220.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
angle = 55 - 105 * (Map(GoliMeterPos) * 0.001)

[State 0, Explod Bar GOLK BarB]
type = Explod
triggerall = Parent,Name = "GOLK"
triggerall = !(EnemyNear,Name = "GOLK" && TeamSide != 1)
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 954
ID = 10000
pos = 160,216
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, MapSet]
type = MapAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = RoundState = 2
trigger1 = Parent,Name = "GOLK"
map = "GolkGauge1"
value = (Parent,Map(GolkRing) - Map(GolkGauge1)) * 0.1
[State 0, MapSet]
type = MapAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = RoundState = 2
trigger1 = Parent,Name = "GOLK"
map = "GolkGauge2"
value = (Parent,BackEdgeDist - Map(GolkGauge2)) * 0.1
[State 0, MapSet]
type = MapAdd
triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = RoundState = 2
trigger1 = Parent,Name = "GOLK"
map = "GolkGauge3"
value = (EnemyNear,BackEdgeDist - Map(GolkGauge3)) * 0.1

[State 0, Explod Bar GOLK IconEnemy]
type = Explod
triggerall = Parent,Var(20) > 0
triggerall = EnemyNear,Var(20) > 0
triggerall = RoundState = 2
trigger1 = Parent,Name = "GOLK" && EnemyNear,Name != "GOLK" ;&& EnemyNear,Name != "GOLX" && EnemyNear,Name != "GOLI"
anim = 959
ID = 10000
pos = 160 + 12 * (1 - (TeamSide=2)*2) + Map(GolkGauge1) * 20 * (1 - (TeamSide=2)*2) - Map(GolkGauge3) * 0.05 * (1 - (TeamSide=2)*2),216
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 8 * (GameTime%12) * (Parent,Map(GolkRing)>0.100) - 8 * (GameTime%6) * (Parent,Map(GolkRing)>0.175),0
[State 0, Explod Bar GOLK IconGoli]
type = Explod
triggerall = Parent,Name = "GOLK"; || (Parent,Name = "GOLI" || Parent,Name = "GOLX") && EnemyNear,Name = "GOLK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 958
ID = 10000
pos = 160 + (-12 + Map(GolkGauge1) * 20 + Map(GolkGauge2) * 0.05) * (1 - (TeamSide=2)*2),216
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 - 8 * (GameTime%12) * (Parent,Map(GolkRing)<-0.125) - 8 * (GameTime%6) * (Parent,Map(GolkRing)<-0.2),0

[State 0, Explod Bar GOLK RageB]
type = Explod
triggerall = Parent,Name = "GOLK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GolkRage)
anim = 960
ID = 10000
pos = 72+(TeamSide=2)*176,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = sub
[State 0, Explod Bar GOLK RageF]
type = Explod
triggerall = Parent,Name = "GOLK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GolkRage)
anim = 961
ID = 10000
pos = 72+(TeamSide=2)*176,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.005*Parent,Map(GolkRage),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar NECX IconB]
type = Explod
triggerall = Parent,Name = "NECX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 989
ID = 10000
pos = 60+(TeamSide=2)*200,212.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128 + 128 * (Parent,Map(NecxCountdown)>0),0

[State 0, Explod Bar NECX Digit .X]
type = Explod
triggerall = Parent,Name = "NECX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(NecxCountdown)
anim = 990 + (Min(99,Parent,Map(NecxCountdown))%10)
ID = 10000
pos = 56+(TeamSide=2)*200 + 4 * (Parent,Map(NecxCountdown)>9),211.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar NECX Digit .X]
type = Explod
triggerall = Parent,Name = "NECX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(NecxCountdown) > 9
anim = 990 + (floor(Min(99,Parent,Map(NecxCountdown))*0.1)%10)
ID = 10000
pos = 52+(TeamSide=2)*200,211.5
postype = left
bindtime = 666
facing = 1;1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar NECX IconB]
type = Explod
triggerall = Parent,Name = "NECX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(NecxChoir)
anim = 980
ID = 10000
pos = 72+(TeamSide=2)*176,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = sub
[State 0, Explod Bar NECX IconB]
type = Explod
triggerall = Parent,Name = "NECX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(NecxChoir)
anim = 981
ID = 10000
pos = 72+(TeamSide=2)*176,210.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.005*Parent,Map(NecxChoir),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, MapSet]
type = MapAdd
;triggerall = !Parent,Var(54) && !EnemyNear,Var(54)
trigger1 = RoundState = 2
trigger1 = Parent,Name = "NECK"
map = "NeckGauge"
value = (Parent,Map(NeckDoll) - Map(NeckGauge)) * 0.2 + 0.01

[State 0, Explod Bar NECK Back]
type = Explod
triggerall = Parent,Name = "NECK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 988
ID = 10000
pos = 70.5+(TeamSide=2)*179,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = sub
ignorehitpause = 1
[State 0, Explod Bar NECK Bar]
type = Explod
triggerall = Parent,Name = "NECK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Map(NeckGauge)>0.0
anim = 985
ID = 10000
pos = 70.5+(TeamSide=2)*179,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.0625 * Map(NeckGauge),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar NECK Symbol]
type = Explod
triggerall = Parent,Name = "NECK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(NeckDollBig)
anim = 972 + floor(sin(GameTime*0.15) * 2.25 + 0.5)
ID = 10000
pos = 70.5+(TeamSide=2)*179,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 8
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar NECK OL]
type = Explod
triggerall = Parent,Name = "NECK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 986
ID = 10000
pos = 70.5+(TeamSide=2)*179,209.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = sub
ignorehitpause = 1

[State 0, Explod Bar LUCY Icon]
type = Explod
triggerall = Parent,Name = "LUCY"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 997 + Parent,Map(LucyAsmosOn)
ID = 10000
pos = 59+(TeamSide=2)*202,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = addalpha
alpha = 256-128*(Parent,Map(AsmosBusy)),0
ignorehitpause = 1

[State 0, Explod Bar LUCX Icon]
type = Explod
triggerall = Parent,Name = "LUCX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(LucxCopy)
anim = F7999 + Parent,Map(LucxCopy)
ID = 10000
pos = 59+(TeamSide=2)*202,214.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 1,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar LUCX Icon]
type = Explod
triggerall = Parent,Name = "LUCX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 997 + (!Parent,Map(LucxTimer)) + (Parent,Map(LucxCopy)&&!Parent,Map(LucxTimer))
ID = 10000
pos = 59+(TeamSide=2)*202,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
trans = addalpha
alpha = 256-64*(!Parent,Map(LucyAsmosOn) + !Parent,Map(LucxCopy)),0
ignorehitpause = 1

[State 0, Explod Bar LUCK Gem Blue]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = cond(Root,NumHelper(4900),Root,Helper(4900),Ctrl,0)
anim = 940
ID = 10000
pos = 80+(TeamSide=2)*160,203.5 - 4 * max(0,Cos((GameTime + 64) * 0.1))*!!(Root,Map(LuckGems)&1)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*!!(Root,Map(LuckGems)&1),0
[State 0, Explod Bar LUCK Gem Blue Glow]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = !!(Root,Map(LuckGems)&1)
trigger1 = cond(Root,NumHelper(4900),Root,Helper(4900),Ctrl,0)
anim = 941
ID = 10000
pos = 80+(TeamSide=2)*160,203.5 - 4 * max(0,Cos((GameTime + 64) * 0.1))*!!(Root,Map(LuckGems)&1)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 * max(0,Cos((GameTime + 64) * 0.1))*!!(Root,Map(LuckGems)&1),256 - 128 * max(0,Cos((GameTime + 64) * 0.1))*!!(Root,Map(LuckGems)&1)
[State 0, Explod Bar LUCK Gem Green]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = cond(Root,NumHelper(4901),Root,Helper(4901),Ctrl,0)
anim = 942
ID = 10000
pos = 96+(TeamSide=2)*128,203.5 - 4 * max(0,Cos((GameTime + 48) * 0.1))*!!(Root,Map(LuckGems)&2)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*!!(Root,Map(LuckGems)&2),0
[State 0, Explod Bar LUCK Gem Green Glow]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = !!(Root,Map(LuckGems)&2)
trigger1 = cond(Root,NumHelper(4901),Root,Helper(4901),Ctrl,0)
anim = 943
ID = 10000
pos = 96+(TeamSide=2)*128,203.5 - 4 * max(0,Cos((GameTime + 48) * 0.1))*!!(Root,Map(LuckGems)&2)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 * max(0,Cos((GameTime + 48) * 0.1))*!!(Root,Map(LuckGems)&2),256 - 128 * max(0,Cos((GameTime + 48) * 0.1))*!!(Root,Map(LuckGems)&2)
[State 0, Explod Bar LUCK Gem Yellow]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = cond(Root,NumHelper(4902),Root,Helper(4902),Ctrl,0)
anim = 944
ID = 10000
pos = 112+(TeamSide=2)*96,203.5 - 4 * max(0,Cos((GameTime + 32) * 0.1))*!!(Root,Map(LuckGems)&4)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*!!(Root,Map(LuckGems)&4),0
[State 0, Explod Bar LUCK Gem Yellow Glow]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = !!(Root,Map(LuckGems)&4)
trigger1 = cond(Root,NumHelper(4902),Root,Helper(4902),Ctrl,0)
anim = 945
ID = 10000
pos = 112+(TeamSide=2)*96,203.5 - 4 * max(0,Cos((GameTime + 32) * 0.1))*!!(Root,Map(LuckGems)&4)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 * max(0,Cos((GameTime + 32) * 0.1))*!!(Root,Map(LuckGems)&4),256 - 128 * max(0,Cos((GameTime + 32) * 0.1))*!!(Root,Map(LuckGems)&4)
[State 0, Explod Bar LUCK Gem Red]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = cond(Root,NumHelper(4903),Root,Helper(4903),Ctrl,0)
anim = 946
ID = 10000
pos = 128+(TeamSide=2)*64,203.5 - 4 * max(0,Cos((GameTime + 16) * 0.1))*!!(Root,Map(LuckGems)&8)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*!!(Root,Map(LuckGems)&8),0
[State 0, Explod Bar LUCK Gem Red Glow]
type = Explod
triggerall = Parent,Name = "LUCK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = !!(Root,Map(LuckGems)&8)
trigger1 = cond(Root,NumHelper(4903),Root,Helper(4903),Ctrl,0)
anim = 947
ID = 10000
pos = 128+(TeamSide=2)*64,203.5 - 4 * max(0,Cos((GameTime + 16) * 0.1))*!!(Root,Map(LuckGems)&8)
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 256 * max(0,Cos((GameTime + 16) * 0.1))*!!(Root,Map(LuckGems)&8),256 - 128 * max(0,Cos((GameTime + 16) * 0.1))*!!(Root,Map(LuckGems)&8)

[State 0, Explod Bar GABB IconB]
type = Explod
triggerall = Parent,Name = "GABB"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4000
ID = 10000
pos = 65+(TeamSide=2)*190,219.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = sub
[State 0, Explod Bar GABB Icon1st]
type = Explod
triggerall = Parent,Name = "GABB"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GabbMask)>=1
anim = 4001 + min(31,floor(Parent,Map(GabbMask)-1))
ID = 10000
pos = 65+(TeamSide=2)*190,219.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+192*(Parent,Map(GabbMask)>=32),0
[State 0, Explod Bar GABB Icon2nd]
type = Explod
triggerall = Parent,Name = "GABB"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GabbMask) >= 33
anim = 4033 + min(31,floor(Parent,Map(GabbMask)-33))
ID = 10000
pos = 65.5+(TeamSide=2)*189,219.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 96+192*(Parent,Map(GabbMask)>=64),0

[State 0, Map Card 1 Face]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Map(GabxCard1) != Map(GabxCard1)
trigger1 = Map(GabxCard1Flip) = [-0.13,0.13]
map = "GabxCard1"
value = Parent,Map(GabxCard1)
[State 0, Map Card 2 Face]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Map(GabxCard2) != Map(GabxCard2)
trigger1 = Map(GabxCard2Flip) = [-0.13,0.13]
map = "GabxCard2"
value = Parent,Map(GabxCard2)
[State 0, Map Card 3 Face]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Map(GabxCard3) != Map(GabxCard3)
trigger1 = Map(GabxCard3Flip) = [-0.13,0.13]
map = "GabxCard3"
value = Parent,Map(GabxCard3)

[State 0, Map Card 1 Turn]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Map(GabxCard1Tilt) > -1 && !Parent,Map(GabxCard1)
trigger2 = Map(GabxCard1Tilt) < 1 && !!Parent,Map(GabxCard1)
map = "GabxCard1Tilt"
value = max(-1,min(1,Map(GabxCard1Tilt) + 0.26 * (1 - 2 * (!Parent,Map(GabxCard1)))))
[State 0, Map Card 2 Turn]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Map(GabxCard2Tilt) > -1 && !Parent,Map(GabxCard2)
trigger2 = Map(GabxCard2Tilt) < 1 && !!Parent,Map(GabxCard2)
map = "GabxCard2Tilt"
value = max(-1,min(1,Map(GabxCard2Tilt) + 0.26 * (1 - 2 * (!Parent,Map(GabxCard2)))))
[State 0, Map Card 3 Turn]
type = MapSet
triggerall = Parent,Name = "GABX"
trigger1 = Map(GabxCard3Tilt) > -1 && !Parent,Map(GabxCard3)
trigger2 = Map(GabxCard3Tilt) < 1 && !!Parent,Map(GabxCard3)
map = "GabxCard3Tilt"
value = max(-1,min(1,Map(GabxCard3Tilt) + 0.26 * (1 - 2 * (!Parent,Map(GabxCard3)))))

[State 0, Explod Bar GABX Card 1]
type = Explod
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4070 + Map(GabxCard1)*(Map(GabxCard1Tilt)>0)
ID = 10000
pos = 125+(TeamSide=2)*70,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Abs(Map(GabxCard1Tilt)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar GABX Card 2]
type = Explod
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4070 + Map(GabxCard2)*(Map(GabxCard2Tilt)>0)
ID = 10000
pos = 105+(TeamSide=2)*110,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Abs(Map(GabxCard2Tilt)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar GABX Card 3]
type = Explod
triggerall = Parent,Name = "GABX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 4070 + Map(GabxCard3)*(Map(GabxCard3Tilt)>0)
ID = 10000
pos = 85+(TeamSide=2)*150,205.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5 * Abs(Map(GabxCard3Tilt)),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Map Fade1]
type = MapSet
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkFade) < 1 && Parent,Map(GabkFacing) = 1
trigger2 = Parent,Map(GabkMono) != 0
trigger2 = Map(GabkFade) < 0
map = "GabkFade"
value = min(1 * (Parent,Map(GabkMono)=0),Map(GabkFade)+0.2)
[State 0, Map Fade2]
type = MapSet
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkFade) > -1 && Parent,Map(GabkFacing) = -1
trigger2 = Parent,Map(GabkMono) != 0
trigger2 = Map(GabkFade) > 0
map = "GabkFade"
value = max(-1 * (Parent,Map(GabkMono)=0),Map(GabkFade)-0.2)

[State 0, Map Spin Up]
type = MapAdd
triggerall = Parent,Name = "GABK"
trigger1 = Parent,StateNo = 2500
trigger1 = Parent,Time = [40,70]
trigger2 = Parent,StateNo = 2520
trigger2 = Parent,Time = [10,50]
trigger3 = Parent,StateNo = 2550
trigger3 = Parent,Time = [0,40]
trigger4 = Parent,Map(GabkMono) = 0
trigger4 = Map(GabkFade) > -1 && Parent,Map(GabkFacing) = -1
trigger5 = Parent,Map(GabkMono) = 0
trigger5 = Map(GabkFade) < 1 && Parent,Map(GabkFacing) = 1
trigger6 = Parent,StateNo = 2700
trigger6 = Parent,Time = [0,40]
map = "GabkSpinSpeed"
value = 20 + 10 * (Parent,StateNo<2000)

[State 0, Map Speed Average]
type = MapSet
triggerall = Parent,Name = "GABK"
trigger1 = 1
map = "GabkSpinSpeed"
value = (1 * (Parent,Map(GabkMono) != 0) + Map(GabkSpinSpeed)) * (0.5 + 0.25 * (Map(GabkSpinSpeed)>8))

[State 0, Map Spin]
type = MapSet
trigger1 = Parent,Name = "GABK"
map = "GabkSpin"
value = Map(GabkSpin) + Map(GabkSpinSpeed)

[State 0, Map Spin Reset]
type = MapSet
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkSpinSpeed) > 24
map = "GabkSpin"
value = -360 + ((Map(GabkSpin) + 360) % 360)
[State 0, Map Spin Reset]
type = MapSet
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkSpinSpeed) <= 24
map = "GabkSpin"
value = floor((Map(GabkSpin)) * 0.75)
[State 0, MapSet]
type = MapSet
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkSpinSpeed) <= 1
map = "GabkSpinSpeed"
value = 0
[State 0, MapSet]
type = MapSet
trigger1 = Parent,Map(GabkMono) = 0
trigger1 = Map(GabkSpinSpeed) <= 1
trigger1 = Abs(Map(GabkSpin)) <= 1
map = "GabkSpin"
value = 0

[State 0, Explod Bar GABK PIPS R OL]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 975
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
angle = 0;360 - Map(GabkSpin) + 180 * (Map(GabkFade)<0)
[State 0, Explod Bar GABK PIPS R]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GabkHarvey) && Parent,Map(GabkMono) != -1 || Parent,Map(GabkDent) && Parent,Map(GabkMono) = -1
anim = 975 + Parent,Map(GabkHarvey) * (Parent,Map(GabkMono)!=-1) + (5 + Parent,Map(GabkDent)) * (Parent,Map(GabkMono)=-1)
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
angle = 0;360 - Map(GabkSpin) + 180 * (Map(GabkFade)<0)
[State 0, Explod Bar GABK PIPS L OL]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 975
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
angle = 180;180 - Map(GabkSpin) + 180 * (Map(GabkFade)<0)
[State 0, Explod Bar GABK PIPS L]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(GabkDent) && Parent,Map(GabkMono) != 1 || Parent,Map(GabkHarvey) && Parent,Map(GabkMono) = 1
anim = 980 + Parent,Map(GabkDent) * (Parent,Map(GabkMono)!=1) + (-5 + Parent,Map(GabkHarvey)) * (Parent,Map(GabkMono)=1)
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
angle = 180;360 - Map(GabkSpin) + 180 * (Map(GabkFade)<0)

[State 0, Explod Bar GABK Bottom]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 971 + 2 * (Parent,Map(GabkMono)=-1)
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,256+256*Map(GabkFade)),0
angle = 360 - Map(GabkSpin); + 180 * (Map(GabkFade)<0)
[State 0, Explod Bar GABK Top]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 972 + 2 * (Parent,Map(GabkMono)=1)
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = min(256,256-256*Map(GabkFade)),0
angle = 360 - Map(GabkSpin); + 180 * (Map(GabkFade)<0)
[State 0, Explod Bar GABK OL]
type = Explod
triggerall = Parent,Name = "GABK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 970
ID = 10000
pos = 56+(TeamSide=2)*208,208
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.25,0.25
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Bar TYRA EX B]
type = Explod
triggerall = Parent,Name = "TYRA"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TyraEXStack) < 3
anim = 970 + Parent,Map(TyraEXStack)
ID = 10000
pos = 52.5+(TeamSide=2)*215,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 48,0
[State 0, Explod Bar TYRA EX 2]
type = Explod
triggerall = Parent,Name = "TYRA"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Parent,Map(TyraEXStack) > 0
anim = 972 + Parent,Map(TyraEXStack)
ID = 10000
pos = 52.5+(TeamSide=2)*215,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 128 + 128 * (Parent,Map(TyraEXStack)=3),0

[State 0, Explod Bar TYRX DOOM Bar]
type = Explod
triggerall = Parent,Name = "TYRX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 981 + floor((GameTime%10)*0.5)
ID = 10000
pos = 69+(TeamSide=2)*182,213.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = min(0.5,Parent,Map(TyrxDoomTimer)*0.0001),0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar TYRX DOOM Outline]
type = Explod
triggerall = Parent,Name = "TYRX"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 980
ID = 10000
pos = 69+(TeamSide=2)*182,213.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = ifelse(!!Parent,Map(TyrxDoom),256,floor(abs(sin(gametime*Parent,Map(TyrxDoomRate)*0.01)*min(192,Parent,Map(TyrxDoomRate)*19.2)))),0

[State 0, Explod Bar TYRK]
type = Explod
triggerall = Parent,Name = "TYRK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
anim = 975
ID = 10000
pos = 52.5+(TeamSide=2)*215,220.5
postype = left
bindtime = 666
facing = 1 - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 48 + 208 * (!!Parent,Map(TyrkWarCry)),0
[State 0, Explod Bar TYRK ChargeNo H]
type = Explod
triggerall = Parent,Name = "TYRK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,StateNo = 1400 || Root,StateNo = 1500 || Root,StateNo = 1550
trigger1 = Root,Time = 1
anim = 989 + Root,Map(TyrkHori)
ID = 10000
pos = 52.5+(TeamSide=2)*215,198
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Bar TYRK ChargeNo V]
type = Explod
triggerall = Parent,Name = "TYRK"
trigger1 = Parent,Var(20) > 0
trigger1 = EnemyNear,Var(20) > 0
trigger1 = RoundState = 2
trigger1 = Root,StateNo = 1600 || Root,StateNo = 1700 || Root,StateNo = 1710
trigger1 = Root,Time = 1
anim = 989 + Root,Map(TyrkVert)
ID = 10000
pos = 52.5+(TeamSide=2)*215,198
postype = left
bindtime = 666
facing = 1; - (TeamSide=2)*2
sprpriority = 6
supermovetime = 666
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; Training Menu
[Statedef 10000]
type = A
movetype = I
physics = N
ctrl = 0
anim = 666
velset = 0,0
sprpriority = 9

[State 0, VarSet]
type = VarSet
trigger1 = !Time 
v = 5
value = 0
[State 0, VarSet]
type = VarSet
trigger1 = Root,command = "down"
v = 5
value = (Var(5)+1) % 9
[State 0, VarSet]
type = VarSet
trigger1 = Root,command = "up"
v = 5
value = (Var(5)+8) % 9

[State 0, Snd Open]
type = PlaySnd
trigger1 = !Time
value = F5,61
abspan = 0
[State 0, Snd Move]
type = PlaySnd
trigger1 = Root,command = "up"
trigger2 = Root,command = "down"
value = F0,5
abspan = 0
channel = 1
[State 0, Snd Move]
type = PlaySnd
trigger1 = Root,command = "back" && !(Time%2)
trigger2 = Root,command = "fwd" && !(Time%2)
value = F2,0
abspan = 0
channel = 1

[State 0, MapSet Option 0 Increase]
type = RootMapSet
triggerall = Var(5) = 0
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt1"
value = (Root,Map(TrainingOpt1)+1) % 3
[State 0, MapSet Option 0 Decrease]
type = RootMapSet
triggerall = Var(5) = 0
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt1"
value = (Root,Map(TrainingOpt1)+2) % 3

[State 0, MapSet Option 1 Increase]
type = RootMapSet
triggerall = Var(5) = 1
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt2"
value = (Root,Map(TrainingOpt2)+1) % 4
[State 0, MapSet Option 1 Decrease]
type = RootMapSet
triggerall = Var(5) = 1
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt2"
value = (Root,Map(TrainingOpt2)+3) % 4

[State 0, MapSet Option 2 Increase]
type = RootMapSet
triggerall = Var(5) = 2
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt3"
value = (Root,Map(TrainingOpt3)+1) % 3
[State 0, MapSet Option 2 Decrease]
type = RootMapSet
triggerall = Var(5) = 2
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt3"
value = (Root,Map(TrainingOpt3)+2) % 3

[State 0, MapSet Option 3 Increase]
type = RootMapSet
triggerall = Var(5) = 3
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt9"
value = (Root,Map(TrainingOpt9)+1) % 9
[State 0, MapSet Option 3 Decrease]
type = RootMapSet
triggerall = Var(5) = 3
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt9"
value = (Root,Map(TrainingOpt9)+8) % 9

[State 0, MapSet Option 4 Increase]
type = RootMapSet
triggerall = Var(5) = 4
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt4"
value = (Root,Map(TrainingOpt4)+1) % 4
[State 0, MapSet Option 4 Decrease]
type = RootMapSet
triggerall = Var(5) = 4
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt4"
value = (Root,Map(TrainingOpt4)+3) % 4

[State 0, MapSet Option 5 Increase]
type = RootMapSet
triggerall = Var(5) = 5
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt5"
value = (Root,Map(TrainingOpt5)+1) % 2
[State 0, MapSet Option 5 Decrease]
type = RootMapSet
triggerall = Var(5) = 5
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt5"
value = (Root,Map(TrainingOpt5)+1) % 2

[State 0, MapSet Option 6 Increase]
type = RootMapSet
triggerall = Var(5) = 6
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt6"
value = (Root,Map(TrainingOpt6)+1) % 2
[State 0, MapSet Option 6 Decrease]
type = RootMapSet
triggerall = Var(5) = 6
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt6"
value = (Root,Map(TrainingOpt6)+1) % 2

[State 0, MapSet Option 7 Increase]
type = RootMapSet
triggerall = Var(5) = 7
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt7"
value = (Root,Map(TrainingOpt7)+1) % 2
[State 0, MapSet Option 7 Decrease]
type = RootMapSet
triggerall = Var(5) = 7
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt7"
value = (Root,Map(TrainingOpt7)+1) % 2

[State 0, MapSet Option 8 Increase]
type = RootMapSet
triggerall = Var(5) = 8
trigger1 = Root,command = "fwd" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "back" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt8"
value = (Root,Map(TrainingOpt8)+1) % 2
[State 0, MapSet Option 8 Decrease]
type = RootMapSet
triggerall = Var(5) = 8
trigger1 = Root,command = "back" && Root,Facing = 1 && !(Time%2)
trigger2 = Root,command = "fwd" && Root,Facing = -1 && !(Time%2)
map = "TrainingOpt8"
value = (Root,Map(TrainingOpt8)+1) % 2

[State 0, ChangeState]
type = ChangeState
trigger1 = Root,StateNo = 165
value = 0
ctrl = 1
redirectid = Root,ID
[State 0, ChangeState]
type = ChangeState
trigger1 = Time > 16
trigger1 = Root,map(b) || Root,command = "start"
value = 10001

[State 0, SuperPause]
type = SuperPause
trigger1 = Time
trigger1 = Root,Var(8) = 0 && EnemyNear,Var(8) = 0
time = 2
anim = -1
sound = -1
pos = 0,0
movetime = 2
darken = 0

;[State 0, RemoveExplod]
;type = RemoveExplod
;trigger1 = 1
;id = 10000
[State 0, Explod BG]
type = Explod
trigger1 = 1
anim = F4540
id = 10000
pos = 160,124
postype = back
removetime = 1
supermovetime = -1
scale = min(20,Time*2),min(18,Time*4)
sprpriority = 8
ontop = 1
ownpal = 1

[State 0, Explod Title]
type = Explod
trigger1 = 1
anim = F4545
pos = 160,120
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1

[State 0, Explod Option 0 - 0]
type = Explod
trigger1 = 1
anim = F4550
pos = 100,88
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=0),0;,64*(Var(5)!=0)
[State 0, Explod Option 0 - 1]
type = Explod
trigger1 = 1
anim = F4551 + Root,Map(TrainingOpt1)
pos = 170,88
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=0),0;,64*(Var(5)!=0)

[State 0, Explod Option 1 - 0]
type = Explod
trigger1 = 1
anim = F4555
pos = 100,100
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=1),0;,64*(Var(5)!=1)
[State 0, Explod Option 1 - 1]
type = Explod
trigger1 = 1
anim = F4556 + Root,Map(TrainingOpt2)
pos = 170,100
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=1),0;,64*(Var(5)!=1)

[State 0, Explod Option 2 - 0]
type = Explod
trigger1 = 1
anim = F4560
pos = 100,112
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=2),0;,64*(Var(5)!=2)
[State 0, Explod Option 2 - 1]
type = Explod
trigger1 = 1
anim = F4561 + Root,Map(TrainingOpt3)
pos = 170,112
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=2),0;,64*(Var(5)!=2)

[State 0, Explod Option 3 - 0]
type = Explod
trigger1 = 1
anim = F4590
pos = 100,124
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=3),0;,64*(Var(5)!=2)
[State 0, Explod Option 3 - 1]
type = Explod
trigger1 = 1
anim = F4591 + Root,Map(TrainingOpt9)
pos = 170,124
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=3),0;,64*(Var(5)!=2)

[State 0, Explod Option 4 - 0]
type = Explod
trigger1 = 1
anim = F4565
pos = 100,136
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=4),0;,64*(Var(5)!=3)
[State 0, Explod Option 4 - 1]
type = Explod
trigger1 = 1
anim = F4566 + Root,Map(TrainingOpt4)
pos = 170,136
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=4),0;,64*(Var(5)!=3)

[State 0, Explod Option 5 - 0]
type = Explod
trigger1 = 1
anim = F4570
pos = 100,148
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=5),0;,64*(Var(5)!=4)
[State 0, Explod Option 5 - 1]
type = Explod
trigger1 = 1
anim = F4571 + Root,Map(TrainingOpt5)
pos = 170,148
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=5),0;,64*(Var(5)!=4)

[State 0, Explod Option 6 - 0]
type = Explod
trigger1 = 1
anim = F4575
pos = 100,160
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=6),0;,64*(Var(5)!=5)
[State 0, Explod Option 6 - 1]
type = Explod
trigger1 = 1
anim = F4571 + Root,Map(TrainingOpt6)
pos = 170,160
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=6),0;,64*(Var(5)!=5)

[State 0, Explod Option 7 - 0]
type = Explod
trigger1 = 1
anim = F4580
pos = 100,172
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=7),0;,64*(Var(5)!=6)
[State 0, Explod Option 7 - 1]
type = Explod
trigger1 = 1
anim = F4571 + Root,Map(TrainingOpt7)
pos = 170,172
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=7),0;,64*(Var(5)!=6)

[State 0, Explod Option 8 - 0]
type = Explod
trigger1 = 1
anim = F4585
pos = 100,184
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=8),0;,64*(Var(5)!=7)
[State 0, Explod Option 8 - 1]
type = Explod
trigger1 = 1
anim = F4571 + Root,Map(TrainingOpt8)
pos = 170,184
postype = back
removetime = 1
sprpriority = 9
ontop = 1
scale = 0.5 * min(1,Time*0.125),0.5
supermovetime = -1
trans = addalpha
alpha = 96+(128+32*Sin(GameTime*0.2))*(Var(5)=8),0;,64*(Var(5)!=7)

;---------------------------------------------------------------------------
; Training Menu Exit
[Statedef 10001]
type = A

[State 0, Snd Close]
type = PlaySnd
trigger1 = !Time
value = F3,1
abspan = 0

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F4540
pos = 160,120
postype = back
removetime = 1
supermovetime = -1
scale = max(0,min(20,40 - Time*6)),max(0,16 - Time*3)
sprpriority = 8
ontop = 1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 12

;---------------------------------------------------------------------------
; Training Inputs
[Statedef 11000]
type = A
movetype = I
physics = N
ctrl = 0
anim = 666
velset = 0,0
sprpriority = 9

; 1 - Dir2
; 2 - Dir4
; 4 - Dir6
; 8 - Dir8
; 16 - X
; 32 - A
; 64 - Y
; 128 - B

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "raw"
value = 1 * (Root,map(p_Dn)>=1) + 2 * ((Root,map(p_Bk)>=1)&&Root,facing=1||(Root,map(p_Fd)>=1)&&Root,facing=-1) + 4 * ((Root,map(p_Fd)>=1)&&Root,facing=1||(Root,map(p_Bk)>=1)&&Root,facing=-1) + 8 * (Root,map(p_Up)>=1) + 16 * (!!Root,map(x)) + 32 * (!!Root,map(a)) + 64 * (!!Root,map(y)) + 128 * (!!Root,map(b))
[State 0, MapSet]
type = MapSet
triggerall = map(input) != map(raw)
trigger1 = map(raw) >= 16 && map(input) < 16
trigger2 = map(raw) < 16 && map(input) >= 16
trigger2 = map(raw)%16 != map(input)%16
trigger2 = map(raw)%16 != 0
;trigger2 = floor(map(raw)*0.0625) != floor(map(input)*0.0625)
trigger3 = map(raw) < 16 && map(input) < 16
trigger4 = map(raw) >= 16 && map(input) >= 16
trigger5 = map(raw) = 0
map = "input"
value = map(raw)

;=====================
; LINE TRANSFER
;=====================

[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 13
value = Var(12)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 12
value = Var(11)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 11
value = Var(10)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 10
value = Var(9)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 9
value = Var(7)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 7
value = Var(6)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 6
value = Var(5)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 5
value = Var(4)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 4
value = Var(3)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 3
value = Var(2)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 2
value = Var(1)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
trigger1 = map(input) != 0
v = 1
value = map(input)
[State 0, VarSet]
type = VarSet
trigger1 = Var(50) != map(input)
v = 50
value = map(input)

;=====================
; LINE 1
;=====================

[State 0, Explod 1 Dir]
type = Explod
trigger1 = Var(1)
anim = F6004 - 3 * floor((Var(1)%2)*1.0) - floor((Var(1)%4)*0.5) + floor((Var(1)%8)*0.25) + 3 * floor((Var(1)%16)*0.125)
pos = 264,196
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 1]
type = Explod
trigger1 = floor((Var(1)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),196
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 2]
type = Explod
trigger1 = floor((Var(1)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(1)%32)*0.0625)),196
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 3]
type = Explod
trigger1 = floor((Var(1)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(1)%32)*0.0625) + floor((Var(1)%64)*0.03125)),196
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 4]
type = Explod
trigger1 = floor((Var(1)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(1)%32)*0.0625) + floor((Var(1)%64)*0.03125) + floor((Var(1)%128)*0.015625)),196
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 2
;=====================

[State 0, Explod 2 Dir]
type = Explod
trigger1 = Var(2)
anim = F6004 - 3 * floor((Var(2)%2)*1.0) - floor((Var(2)%4)*0.5) + floor((Var(2)%8)*0.25) + 3 * floor((Var(2)%16)*0.125)
pos = 264,182
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 1]
type = Explod
trigger1 = floor((Var(2)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),182
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 2]
type = Explod
trigger1 = floor((Var(2)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(2)%32)*0.0625)),182
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 3]
type = Explod
trigger1 = floor((Var(2)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(2)%32)*0.0625) + floor((Var(2)%64)*0.03125)),182
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 4]
type = Explod
trigger1 = floor((Var(2)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(2)%32)*0.0625) + floor((Var(2)%64)*0.03125) + floor((Var(2)%128)*0.015625)),182
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 3
;=====================

[State 0, Explod 1 Dir]
type = Explod
trigger1 = Var(3)
anim = F6004 - 3 * floor((Var(3)%2)*1.0) - floor((Var(3)%4)*0.5) + floor((Var(3)%8)*0.25) + 3 * floor((Var(3)%16)*0.125)
pos = 264,168
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 1]
type = Explod
trigger1 = floor((Var(3)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),168
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 2]
type = Explod
trigger1 = floor((Var(3)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(3)%32)*0.0625)),168
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 3]
type = Explod
trigger1 = floor((Var(3)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(3)%32)*0.0625) + floor((Var(3)%64)*0.03125)),168
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 1 Button 4]
type = Explod
trigger1 = floor((Var(3)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(3)%32)*0.0625) + floor((Var(3)%64)*0.03125) + floor((Var(3)%128)*0.015625)),168
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 4
;=====================

[State 0, Explod 2 Dir]
type = Explod
trigger1 = Var(4)
anim = F6004 - 3 * floor((Var(4)%2)*1.0) - floor((Var(4)%4)*0.5) + floor((Var(4)%8)*0.25) + 3 * floor((Var(4)%16)*0.125)
pos = 264,154
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 1]
type = Explod
trigger1 = floor((Var(4)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),154
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 2]
type = Explod
trigger1 = floor((Var(4)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(4)%32)*0.0625)),154
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 3]
type = Explod
trigger1 = floor((Var(4)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(4)%32)*0.0625) + floor((Var(4)%64)*0.03125)),154
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 2 Button 4]
type = Explod
trigger1 = floor((Var(4)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(4)%32)*0.0625) + floor((Var(4)%64)*0.03125) + floor((Var(4)%128)*0.015625)),154
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 5
;=====================

[State 0, Explod 5 Dir]
type = Explod
trigger1 = Var(5)
anim = F6004 - 3 * floor((Var(5)%2)*1.0) - floor((Var(5)%4)*0.5) + floor((Var(5)%8)*0.25) + 3 * floor((Var(5)%16)*0.125)
pos = 264,140
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 1]
type = Explod
trigger1 = floor((Var(5)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),140
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 2]
type = Explod
trigger1 = floor((Var(5)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(5)%32)*0.0625)),140
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 3]
type = Explod
trigger1 = floor((Var(5)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(5)%32)*0.0625) + floor((Var(5)%64)*0.03125)),140
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 4]
type = Explod
trigger1 = floor((Var(5)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(5)%32)*0.0625) + floor((Var(5)%64)*0.03125) + floor((Var(5)%128)*0.015625)),140
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 6
;=====================

[State 0, Explod 6 Dir]
type = Explod
trigger1 = Var(6)
anim = F6004 - 3 * floor((Var(6)%2)*1.0) - floor((Var(6)%4)*0.5) + floor((Var(6)%8)*0.25) + 3 * floor((Var(6)%16)*0.125)
pos = 264,126
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 1]
type = Explod
trigger1 = floor((Var(6)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),126
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 2]
type = Explod
trigger1 = floor((Var(6)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(6)%32)*0.0625)),126
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 3]
type = Explod
trigger1 = floor((Var(6)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(6)%32)*0.0625) + floor((Var(6)%64)*0.03125)),126
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 4]
type = Explod
trigger1 = floor((Var(6)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(6)%32)*0.0625) + floor((Var(6)%64)*0.03125) + floor((Var(6)%128)*0.015625)),126
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 7
;=====================

[State 0, Explod 7 Dir]
type = Explod
trigger1 = Var(7)
anim = F6004 - 3 * floor((Var(7)%2)*1.0) - floor((Var(7)%4)*0.5) + floor((Var(7)%8)*0.25) + 3 * floor((Var(7)%16)*0.125)
pos = 264,112
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 1]
type = Explod
trigger1 = floor((Var(7)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),112
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 2]
type = Explod
trigger1 = floor((Var(7)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(7)%32)*0.0625)),112
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 3]
type = Explod
trigger1 = floor((Var(7)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(7)%32)*0.0625) + floor((Var(7)%64)*0.03125)),112
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 4]
type = Explod
trigger1 = floor((Var(7)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(7)%32)*0.0625) + floor((Var(7)%64)*0.03125) + floor((Var(7)%128)*0.015625)),112
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 8
;=====================

[State 0, Explod 8 Dir]
type = Explod
trigger1 = Var(9)
anim = F6004 - 3 * floor((Var(9)%2)*1.0) - floor((Var(9)%4)*0.5) + floor((Var(9)%8)*0.25) + 3 * floor((Var(9)%16)*0.125)
pos = 264,98
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 1]
type = Explod
trigger1 = floor((Var(9)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),98
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 2]
type = Explod
trigger1 = floor((Var(9)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(9)%32)*0.0625)),98
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 3]
type = Explod
trigger1 = floor((Var(9)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(9)%32)*0.0625) + floor((Var(9)%64)*0.03125)),98
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 4]
type = Explod
trigger1 = floor((Var(9)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(9)%32)*0.0625) + floor((Var(9)%64)*0.03125) + floor((Var(9)%128)*0.015625)),98
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 9
;=====================

[State 0, Explod 5 Dir]
type = Explod
trigger1 = Var(10)
anim = F6004 - 3 * floor((Var(10)%2)*1.0) - floor((Var(10)%4)*0.5) + floor((Var(10)%8)*0.25) + 3 * floor((Var(10)%16)*0.125)
pos = 264,84
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 1]
type = Explod
trigger1 = floor((Var(10)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),84
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 2]
type = Explod
trigger1 = floor((Var(10)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(10)%32)*0.0625)),84
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 3]
type = Explod
trigger1 = floor((Var(10)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(10)%32)*0.0625) + floor((Var(10)%64)*0.03125)),84
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 5 Button 4]
type = Explod
trigger1 = floor((Var(10)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(10)%32)*0.0625) + floor((Var(10)%64)*0.03125) + floor((Var(10)%128)*0.015625)),84
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 10
;=====================

[State 0, Explod 6 Dir]
type = Explod
trigger1 = Var(11)
anim = F6004 - 3 * floor((Var(11)%2)*1.0) - floor((Var(11)%4)*0.5) + floor((Var(11)%8)*0.25) + 3 * floor((Var(11)%16)*0.125)
pos = 264,70
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 1]
type = Explod
trigger1 = floor((Var(11)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),70
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 2]
type = Explod
trigger1 = floor((Var(11)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(11)%32)*0.0625)),70
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 3]
type = Explod
trigger1 = floor((Var(11)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(11)%32)*0.0625) + floor((Var(11)%64)*0.03125)),70
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 6 Button 4]
type = Explod
trigger1 = floor((Var(11)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(11)%32)*0.0625) + floor((Var(11)%64)*0.03125) + floor((Var(11)%128)*0.015625)),70
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 11
;=====================

[State 0, Explod 7 Dir]
type = Explod
trigger1 = Var(12)
anim = F6004 - 3 * floor((Var(12)%2)*1.0) - floor((Var(12)%4)*0.5) + floor((Var(12)%8)*0.25) + 3 * floor((Var(12)%16)*0.125)
pos = 264,56
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 1]
type = Explod
trigger1 = floor((Var(12)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),56
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 2]
type = Explod
trigger1 = floor((Var(12)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(12)%32)*0.0625)),56
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 3]
type = Explod
trigger1 = floor((Var(12)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(12)%32)*0.0625) + floor((Var(12)%64)*0.03125)),56
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 7 Button 4]
type = Explod
trigger1 = floor((Var(12)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(12)%32)*0.0625) + floor((Var(12)%64)*0.03125) + floor((Var(12)%128)*0.015625)),56
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

;=====================
; LINE 12
;=====================

[State 0, Explod 8 Dir]
type = Explod
trigger1 = Var(13)
anim = F6004 - 3 * floor((Var(13)%2)*1.0) - floor((Var(13)%4)*0.5) + floor((Var(13)%8)*0.25) + 3 * floor((Var(13)%16)*0.125)
pos = 264,42
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 1]
type = Explod
trigger1 = floor((Var(13)%32)*0.0625)
anim = F6009
pos = 264 + 12 * (1),42
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 2]
type = Explod
trigger1 = floor((Var(13)%64)*0.03125)
anim = F6010
pos = 264 + 12 * (1 + floor((Var(13)%32)*0.0625)),42
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 3]
type = Explod
trigger1 = floor((Var(13)%128)*0.015625)
anim = F6011
pos = 264 + 12 * (1 + floor((Var(13)%32)*0.0625) + floor((Var(13)%64)*0.03125)),42
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1
[State 0, Explod 8 Button 4]
type = Explod
trigger1 = floor((Var(13)%256)*0.0078125)
anim = F6012
pos = 264 + 12 * (1 + floor((Var(13)%32)*0.0625) + floor((Var(13)%64)*0.03125) + floor((Var(13)%128)*0.015625)),42
postype = left
bindtime = 1
removetime = 1
supermovetime = -1
scale = 0.5,0.5
sprpriority = 9
ontop = 1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = RoundState > 2

;---------------------------------------------------------------------------
; Training Damage Readout
[Statedef 15000]
type = A
ctrl = 0
anim = 666
velset = 0,-1 - ((NumHelper(15000)%10)*0.5)
movetype = I
physics = N
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = Parent,Map(TraiComboRead)
[State 0, MapSet]
type = ParentMapSet
trigger1 = !Time
map = "TraiDamageLast"
value = Var(5)
[State 0, VarSet Damage Reset]
type = ParentMapSet
trigger1 = !Time
map = "TraiDamageCheck"
value = Parent,Life

[State 0, PosAdd]
type = PosAdd
trigger1 = BackEdgeDist < 16
x = Abs(BackEdgeDist) + 16
[State 0, PosAdd]
type = PosAdd
trigger1 = FrontEdgeDist < 16
x = -Abs(FrontEdgeDist) - 16

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 256 - min(256,Time*16),256 - min(256,Time*32),256 - min(256,Time*32)
mul = 256,min(256,Time*16) - max(0,-1280 + Time*16),min(256,Time*16) - max(0,-1280 + Time*16)
color = min(256,Time*8)

[State 0, VelMul]
type = VelMul
trigger1 = 1
y = 0.95

[State 0, Explod Damage Counter ..X]
type = Explod
triggerall = !const(BC.HideHUD)
trigger1 = Var(5) > 0
anim = F4520 + (Var(5) % 10)
pos = 0 + (Var(5)>9)*4 + (Var(5)>99)*4,0
postype = p1
removetime = 1
sprpriority = 9
ontop = 1
supermovetime = 2
pausemovetime = 2
scale = 0.5,0.5
ignorehitpause = 1
[State 0, Explod Damage Counter .X.]
type = Explod
triggerall = !const(BC.HideHUD)
trigger1 = Var(5) > 9
anim = F4520 + floor((Var(5) % 100) * 0.1)
pos = -4 + (Var(5)>99)*4,0
postype = p1
removetime = 1
sprpriority = 9
ontop = 1
supermovetime = 2
pausemovetime = 2
scale = 0.5,0.5
ignorehitpause = 1
[State 0, Explod Damage Counter X..]
type = Explod
triggerall = !const(BC.HideHUD)
trigger1 = Var(5) > 99
anim = F4520 + floor((Var(5) % 1000) * 0.01)
pos = -8,0
postype = p1
removetime = 1
sprpriority = 9
ontop = 1
supermovetime = 2
pausemovetime = 2
scale = 0.5,0.5
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time >= 96
trigger2 = Root,NumHelper(10000) || EnemyNear,NumHelper(10000)

;---------------------------------------------------------------------------
; H - Burn FX
[Statedef 15370]
type    = A
movetype= I
physics = N
anim = 666
ctrl = 0
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = Root,Map(HitFXColor)
[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 6
value = Root,Map(HitFXType)

[State 0, Pal FX 0]
type = PalFX
triggerall = Var(6) = 1
trigger1 = Time%6 = 0 || !Time
time = 80
add = floor((Var(5)%16777216)*0.0000152587890625),floor((Var(5)%65536)*0.00390625),Var(5)%256
mul = floor((Var(5)%16777216)*0.0000152587890625*0.75),floor((Var(5)%65536)*0.00390625*0.75),floor((Var(5)%256)*0.75)
sinadd = floor((Var(5)%16777216)*0.0000152587890625*0.6),floor((Var(5)%65536)*0.00390625*0.55),floor((Var(5)%256)*0.5),6
color = 64
ignorehitpause = 1
[State 0, Pal FX 0]
type = PalFX
trigger1 = Var(6) = 3
trigger1 = Time%2 = 0
time = 80
add = max(0,min(128,256*(Sin(GameTime*0.15+0)))),max(0,min(128,256*(Sin(GameTime*0.15+40)))),max(0,min(128,256*(Sin(GameTime*0.15+80))))
mul = max(0,min(256,512*(Sin(GameTime*0.15+0)))),max(0,min(256,512*(Sin(GameTime*0.15+40)))),max(0,min(256,512*(Sin(GameTime*0.15+80))))
;sinadd = 0,0,0,6
color = 128
ignorehitpause = 1

[State 0, Explod FIRE]
type = Explod
trigger1 = Time < 32
trigger1 = Time%3 = 0
anim = F222 ;F200 + Var(5)
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.25) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0,-1
accel = 0,0.05
sprpriority = random%6
;ownpal = 1
[State 0, Explod SMOKE]
type = Explod
trigger1 = Time > 16
trigger1 = Time%5 = 1
anim = F201
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.5) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0,-2
accel = 0,0.05
sprpriority = random%6
ownpal = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 48
trigger2 = Time > 1
trigger2 = NumHelper(15370) > 1
trigger3 = Time > 1
trigger3 = Root,Map(HitFXTimer) = 0

;---------------------------------------------------------------------------
; H - Burnt FX
[Statedef 15371]
type    = A
movetype= I
physics = N
anim = 666
ctrl = 0
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
v = 5
value = Root,Map(HitFXColor)

[State 0, Pal FX 0]
type = PalFX
trigger1 = Time%4 = 0
time = 8
add = 0,0,0
mul = 48 + floor((Var(5)%16777216)*0.0000152587890625*0.25),48 + floor((Var(5)%65536)*0.00390625*0.25),48 + floor((Var(5)%256)*0.25)
sinadd = floor((Var(5)%16777216)*0.0000152587890625*0.25),floor((Var(5)%65536)*0.00390625*0.25),floor((Var(5)%256)*0.25),6
color = 64
ignorehitpause = 1
redirectid = Root,ID

[State 0, Explod SMOKE]
type = Explod
trigger1 = Time%5 = 1
anim = F201
pos = const(size.ground.front) - random%(const(size.ground.front) * 2),(const(size.mid.pos.y) * 0.5) - random%const(size.mid.pos.y)
postype = p1
facing = ifelse(Random<500,1,-1)
vel = 0,-2
accel = 0,0.05
sprpriority = random%6
ownpal = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 64
trigger2 = Root,Map(HitFXTimer) > 0 || Root,NumHelper(15371) > 1 && Time
trigger3 = Root,StateNo < 5000 || Root,StateNo = [5120,5300)

;---------------------------------------------------------------------------
[Statedef -1]
;=======================================================================
; SUperjump Buffer
;=======================================================================
[State -1, S.Jump]
Type = ChangeState
value = 55
triggerall = Ctrl || StateNo = 40 || StateNo = 100
triggerall = statetype != A
trigger1 = command = "DU" && !Var(15)
trigger2 = Var(17) = 55 && Var(15)


[Statedef -2]
;=======================================================================
; FULL GAME FUNTIMES: Special Moves Don't Juggle Decay
;=======================================================================
[State 0. MapSet]
type 		= MapSet
trigger1 	= stateno = [900, 3000)
map 		= "SetJuggle"
value 		= 1
ignorehitpause 	= 1
persistent 	= 1

[State 0. MapSet]
type 		= MapSet
trigger1 	= stateno != [900, 3000)
map 		= "SetJuggle"
value 		= 0
ignorehitpause 	= 1
persistent 	= 1

;=======================================================================
; FULL GAME FUNTIMES: YOURE FREE NOW!
;=======================================================================
[State 0, ctrlset]
type = ctrlset
triggerall = stateno = [100, 102] && name != "TERX"
trigger1 = time = 5
value = 1

[State 0, ctrlset]
type = changestate
triggerall = stateno = [600, 800)
trigger1 = !animtime
value = 50

;No Proximity Block.
[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

;=======================================================================
; FULL GAME FUNTIMES: IM CRAZINGGGG!!!
;=======================================================================
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1 && var(10)
v = 18
value = 1000
ignorehitpause = 0
[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1 && var(10)
v = 18
value = -1000
ignorehitpause = 0
redirectid = enemynear, id

[State 0, VarAdd]
type = VarAdd
triggerall = movetype != H && stateno != [110, 111]
trigger1 = vel x > 0
v = 18
value = vel x
ignorehitpause = 1
;persistent = 

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 18
value = (enemy,gethitvar(damage))*2
ignorehitpause = 1
persistent = 1



;=======================================================================
; FULL GAME FUNTIMES: IM AIRDASHINNNNG
;=======================================================================
; AirDash Fwd
[State -1, AirDash Fwd]
type = ChangeState
value = 110 + 1*(name = "TERI" || name = "TERX" || name = "TERK") + 5*(name = "CICI" || name = "CICX" ||  name = "CICK")
triggerall = ctrl && var(1)
triggerall = Vel Y >= -1 || Time >= 3
triggerall = !(StateNo = [110,115] && Time < 12)
triggerall = statetype = A && Var(1)
trigger1 = (command="FF" || map(b_66)) && !Var(15)
trigger2 = Var(17) = 110 && Var(15)

; AirDash Back
[State -1, AirDash Back]
type = ChangeState
value = 115 + 1*(name = "TERI" || name = "TERX" || name = "TERK" || name = "CICI" || name = "CICX" ||  name = "CICK")
triggerall = ctrl && var(1)
triggerall = Vel Y >= -1 || Time >= 3
triggerall = !(StateNo = [110,115] && Time < 12)
triggerall = statetype = A && Var(1)
trigger1 = (command="BB" || map(b_44)) && !Var(15)
trigger2 = Var(17) = 110 && Var(15)

[State - Airdash Hang]
type = mapset
trigger1 = stateno = 110 && time = 0
map = "ADM" ;AirDash Momentum Preserve
value = 10

[State 0, VelMul]
type = VelMul
triggerall = name != "CICI" && name != "CICK" && name != "CICX"
triggerall = name != "IKUE" && name != "IKUK" && name != "IKUX"
trigger1 = map(ADM) > 0
y = 0
ignorehitpause = 1

; AirDash Cancel
[State -1, AirDash Fwd]
type = ChangeState
value = 109
triggerall = !map(CCDisable)
triggerall = movecontact && var(18) >= 1000
triggerall = statetype = A
trigger1 = (command="FF" || map(b_66)) && !Var(15)
trigger2 = Var(17) = 109 && Var(15)

; AirDash Cancel Backward
[State -1, AirDash Backward]
type = ChangeState
value = 108
triggerall = !map(CCDisable)
triggerall = movecontact && var(18) >= 1000
triggerall = statetype = A
trigger1 = (command="BB" || map(b_44)) && !Var(15)
trigger2 = Var(17) = 109 && Var(15)

;Jump Cancelling
[State -1, JC]
type = ChangeState
value = 39
triggerall = movehit && stateno = [200,510]
triggerall = var(18) >= 1000
trigger1 = command ="holdup"

;======================================================================
; FULL GAME FUNTIMES: Juggle Decay Groundwork
;======================================================================

[State -2, Juggle State Check]
type = MapSet
trigger1 = movetype = H && statetype = A
trigger1 = !(stateno = [5320, 5392] || enemy, stateno = [3000,3005])
map = "JuggleStateCheck"
value = 1
ignorehitpause = 1
persistent = 1
[State -2, Juggle State Check]
type = MapSet
trigger1 = !(movetype = H && statetype = A) || stateno = [5320, 5392] || enemy, stateno = [3000,3005]
map = "JuggleStateCheck"
value = 0
ignorehitpause = 1
[State -2, Juggle Timer Tick]
type = MapAdd
trigger1 = map(JuggleStateCheck) && stateno != [900, 3000)
map = "JuggleTime"
value = 1
ignorehitpause = 1
[State -2, Juggle Timer Reset]
type = MapSet
trigger1 = !map(JuggleStateCheck) || stateno = [5320, 5392] || enemy, stateno = [3000,3005] || enemy, statetype = L
map = "JuggleTime"
value = 0
ignorehitpause = 1

[State -2, Juggle State Check]
type = MapSet
trigger1 = map(JuggleTime) < 60 
map = "JuggleMul"
value = 1.3
ignorehitpause = 1
persistent = 1
[State -2, Juggle State Check]
type = MapSet
trigger1 = map(JuggleTime)
map = "JuggleMul"
value = 1.3*(map(juggleTime) * 0.01)
ignorehitpause = 1
persistent = 1

;========================================================
; FULL GAME FUNTIMES: DASH JUMP BUFFER
;========================================================

[State 0, Dampening S X]
type = VarSet
trigger1 = Time = 1
trigger1 = PrevStateNo = 5080
fv = 8
value = FVar(8)*(const(BC.ScalingH1) + const(BC.ScalingH2) * ifelse(FVar(8)<1,1-FVar(8),0))
redirectid = EnemyNear,ID

;========================================================
; TESTING: PALETTE CYCLE
;========================================================

[State 0, RemapPal]
type = VarSet
triggerall = StageVar(info.name) = "Testing Zone"
triggerall = command = "holdx" && command = "holdy" && command = "holda" && command = "holdb"
trigger1 = command = "fwd" || command = "back"
trigger1 = Time%4 = 0
var(59) = (((var(59)+22*(map(p_Bk)>0))%24)+1)

[State 0, RemapPal]
type = RemapPal
triggerall = StageVar(info.name) = "Testing Zone"
triggerall = command = "holdx" && command = "holdy" && command = "holda" && command = "holdb"
trigger1 = command = "fwd" || command = "back"
trigger1 = Time%4 = 0
source = 1,1
dest = 1,var(59)

;========================================================
; FULL GAME FUNTIMES: DASH JUMP BUFFER
;========================================================

[State 0, Map Dash Jump Buffer Stop]
type = MapSet
trigger1 = Map(DashJumpBuffer) > 0
trigger1 = map(p_Bk)
map = "DashJumpBuffer"
value = 0
[State 0, Map Dash Jump Buffer Tick]
type = MapAdd
trigger1 = Map(DashJumpBuffer) > 0
map = "DashJumpBuffer"
value = -1
[State 0, Map Dash Jump Buffer]
type = MapSet
trigger1 = stateno = [100,102]
map = "DashJumpBuffer"
value = 4

;========================================================
; FULL GAME FUNTIMES: TRAINING
;========================================================

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = Map(IsTraining)
trigger1 = StageVar(info.name) != "Testing Zone"
flag = noko
flag2 = NoKoVelocity
flag3 = timerfreeze

[State 0, Map Training Setting 1]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt1"
value = 0
[State 0, Map Training Setting 2]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt2"
value = 0
[State 0, Map Training Setting 3]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt3"
value = 0
[State 0, Map Training Setting 4]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt4"
value = 1
[State 0, Map Training Setting 5]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt5"
value = (StageVar(info.name)!="Testing Zone")
[State 0, Map Training Setting 6]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt6"
value = 1
[State 0, Map Training Setting 7]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt7"
value = 1
[State 0, Map Training Setting 8]
type = MapSet
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = RoundState < 2
map = "TrainingOpt8"
value = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING MENU
;========================================================

[State 0, Helper]
type = Helper
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = TeamSide = 1 && RoundState = 2
trigger1 = !NumHelper(10000)
trigger1 = command = "start"
trigger1 = !(command = "holdfwd" || command = "holdback" || command = "holddown" || command = "holdup")
name = "Training Menu"
ID = 10000
stateno = 10000
postype = left
facing = 1
ownpal = 1
supermovetime = -1
ignorehitpause = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING IDLE
;========================================================

[State 0, AssertSpecial]
type = AssertInput
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = TeamSide = 2 && EnemyNear,Map(TrainingOpt1) = 1
trigger1 = ctrl
flag = D
[State 0, AssertSpecial]
type = AssertInput
trigger1 = Map(IsTraining) || EnemyNear,Map(IsTraining)
trigger1 = TeamSide = 2 && EnemyNear,Map(TrainingOpt1) = 2
trigger1 = ctrl && StateType = S
flag = U

;========================================================
; FULL GAME FUNTIMES: TRAINING DAMAGE COUNTER
;========================================================

[State 0, Instant Heal]
type = LifeAdd
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 2 && EnemyNear,Map(TrainingOpt5) = 1
trigger1 = Map(TraiComboNew)
trigger1 = EnemyNear,Var(51)
trigger1 = Life < LifeMax
value = LifeMax - Map(TraiDamageCheck); - EnemyNear,Var(12)*(StateNo!=[5000,6000))
[State 0, Red Health Fix]
type = VarSet
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 2 && EnemyNear,Map(TrainingOpt5) = 1
trigger1 = Map(TraiComboNew)
trigger1 = EnemyNear,Var(51)
var(21) = LifeMax
[State 0, Purple Health Fix]
type = VarSet
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 2 && EnemyNear,Map(TrainingOpt5) = 1
trigger1 = Map(TraiComboNew)
trigger1 = EnemyNear,Var(51)
var(22) = Life + (LifeMax - Life) * const(BC.GetHitPLife)

[State 0, Var Training Damage Count]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = Map(TraiDamageCheck) > Life
trigger2 = Map(TraiComboNew) && EnemyNear,Var(51)
map = "TraiComboDamage"
value = min(9999,ifelse(Map(TraiComboNew),ifelse(EnemyNear,Map(TrainingOpt5)!=1,Map(TraiDamageCheck) - Life,LifeMax - Life),Map(TraiComboDamage) + (Map(TraiDamageCheck) - Life)))
[State 0, Var Training Damage Readout]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = Map(TraiDamageCheck) > Life
map = "TraiComboRead"
value = min(999,Map(TraiDamageCheck) - Life)

[State 0, Helper]
type = Helper
triggerall = Map(IsTraining)
trigger1 = Map(TraiDamageCheck) > Life
name = "DANGAGE"
stateno = 15000
id = 15000
pos = -32+(GameTime+NumHelper(15000))%64 + (P2Dist X)*0.5,-24
postype = p1
facing = facing
ownpal = 1
supermovetime = 666
pausemovetime = 666
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = Map(IsTraining)
trigger1 = Map(TraiDamageCheck) > Life
v = 3
value = 64
[State 0, VarSet Damage Reset]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = Map(TraiDamageCheck) != Life
map = "TraiDamageCheck"
value = floor(Life)
ignorehitpause = 1

[State 0, Explod Damage]
type = Explod
trigger1 = Var(20)>0
trigger1 = Map(IsTraining)
anim = F4503
pos = 54,48
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Damage Counter ...X]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiComboDamage) > 0
anim = F4510 + (Map(TraiComboDamage) % 10)
pos = 134,48
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Damage Counter ..X.]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiComboDamage) > 9
anim = F4510 + floor((Map(TraiComboDamage) % 100) * 0.1)
pos = 127,48
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Damage Counter .X..]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiComboDamage) > 99
anim = F4510 + floor((Map(TraiComboDamage) % 1000) * 0.01)
pos = 120,48
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Damage Counter X...]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiComboDamage) > 999
anim = F4510 + floor((Map(TraiComboDamage) % 10000) * 0.001)
pos = 113,48
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Var Training Combo Reset]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = !Map(TraiComboNew) && !EnemyNear,Var(51)
trigger2 = !!Map(TraiComboNew) && !!EnemyNear,Var(51)
map = "TraiComboNew"
value = (!EnemyNear,Var(51))

;========================================================
; FULL GAME FUNTIMES: TRAINING STARTUP TIME
;========================================================

[State 0, MapSet]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = !Map(SUTReset)
trigger1 = EnemyNear,Ctrl = 1
map = "SUTReset"
value = 1
[State 0, Var Training Startup Reset]
type = MapSet
triggerall = Map(IsTraining)
triggerall = EnemyNear,StateNo = [200,5000)
triggerall = EnemyNear,MoveType = A
triggerall = MoveType != H
trigger1 = Map(SUTReset)
trigger2 = EnemyNear,Var(51) = 0
trigger2 = Time = 1 && PrevStateNo = [5000,5200)
map = "TraiSUT"
value = 1
ignorehitpause = 1
[State 0, Var Training Startup Add]
type = MapAdd
triggerall = Map(IsTraining)
trigger1 = EnemyNear,StateNo = [200,5000)
trigger1 = EnemyNear,MoveType = A
trigger1 = !EnemyNear,MoveContact && MoveType != H
map = "TraiSUT"
value = 1
ignorehitpause = 1
[State 0, MapSet]
type = MapSet
triggerall = Map(IsTraining)
trigger1 = Map(SUTReset)
trigger1 = EnemyNear,StateNo = [200,5000)
trigger1 = EnemyNear,MoveType = A
trigger1 = MoveType != H
map = "SUTReset"
value = 0

[State 0, Explod SUT]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
anim = F4504
pos = 54,58
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod Startup Counter .X]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiSUT) > 0
anim = F4510 + ((Map(TraiSUT)-1) % 10)
pos = 134,58
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Startup Counter X.]
type = Explod
triggerall = Var(20)>0
triggerall = Map(IsTraining)
trigger1 = Map(TraiSUT) > 9
anim = F4510 + floor(((Map(TraiSUT)-1) % 100) * 0.1)
pos = 127,58
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING ADVANTAGE COUNTER
;========================================================

[State 0, Map Adv Reset 1]
type = MapSet
triggerall = Map(AdvActive) = 0 || Map(AdvActive) != EnemyNear,StateNo || EnemyNear,Var(8) = 1
trigger1 = EnemyNear,MoveType = A || !EnemyNear,Ctrl; && EnemyNear,StateNo != [0,120)
trigger1 = MoveType = H || !Ctrl; && StateNo != [0,120)
trigger2 = EnemyNear,Var(8) = 1 || MoveType = H && Time = 1
map = "AdvMe"
value = 1
ignorehitpause = 1
[State 0, Map Adv Reset 2]
type = MapSet
triggerall = Map(AdvActive) = 0 || Map(AdvActive) != EnemyNear,StateNo || EnemyNear,Var(8) = 1
trigger1 = EnemyNear,MoveType = A || !EnemyNear,Ctrl; && EnemyNear,StateNo != [0,120)
trigger1 = MoveType = H || !Ctrl; && StateNo != [0,120)
trigger2 = EnemyNear,Var(8) = 1 || MoveType = H && Time = 1
map = "AdvYou"
value = 0
ignorehitpause = 1
[State 0, Map Adv Start Count]
type = MapSet
triggerall = Map(AdvActive) = 0 || Map(AdvActive) != EnemyNear,StateNo || EnemyNear,Var(8) = 1
trigger1 = EnemyNear,MoveType = A || !EnemyNear,Ctrl; && EnemyNear,StateNo != [0,120)
trigger1 = MoveType = H || !Ctrl; && StateNo != [0,120)
trigger2 = EnemyNear,Var(8) = 1 || MoveType = H && Time = 1
map = "AdvActive"
value = EnemyNear,StateNo
ignorehitpause = 1

[State 0, Map Adv Lose]
type = MapAdd
triggerall = Map(AdvActive) != 0
trigger1 = !EnemyNear,Ctrl; && EnemyNear,StateNo != [0,120)
trigger1 = Ctrl; || StateNo = [0,120)
map = "AdvMe"
value = 1
[State 0, Map Adv Gain]
type = MapAdd
triggerall = Map(AdvActive) != 0
trigger1 = EnemyNear,Ctrl; || EnemyNear,StateNo = [0,120); || EnemyNear,StateNo != Map(AdvActive)
trigger1 = !Ctrl ;&& StateNo != [0,120)
map = "AdvYou"
value = 1

[State 0, Map Adv Stop Count]
type = MapSet
triggerall = Map(AdvActive) != 0
trigger1 = EnemyNear,Ctrl; || EnemyNear,StateNo != Map(AdvActive)
trigger1 = Ctrl 
map = "AdvActive"
value = 0

[State 0, Explod Adv]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
;trigger1 = map(AdvActive) = 0 || !(Map(AdvYou) = 0 && Map(AdvMe) = 1)
anim = F4500
pos = 54,68
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*(map(AdvActive)=0||!(Map(AdvYou)=0&&Map(AdvMe)=1)),192*!(map(AdvActive)=0||!(Map(AdvYou)=0&&Map(AdvMe)=1))

[State 0, Explod Adv Counter ..X]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = map(AdvActive) = 0 || !(Map(AdvYou) = 0 && Map(AdvMe) = 1)
anim = F4510 + (Abs(Map(AdvYou) - Map(AdvMe)) % 10) + 10 * (Abs(Map(AdvYou) - Map(AdvMe)) > 3)
pos = 134,68
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Adv Counter .X.]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = map(AdvActive) = 0 || !(Map(AdvYou) = 0 && Map(AdvMe) = 1)
anim = F4510 + floor(Abs((Map(AdvYou) - Map(AdvMe)) % 100) * 0.1) + 10 * (Abs(Map(AdvYou) - Map(AdvMe)) > 3)
pos = 127,68
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Adv Counter X..]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = map(AdvActive) = 0 || !(Map(AdvYou) = 0 && Map(AdvMe) = 1)
anim = F4530 + ((Map(AdvYou) - Map(AdvMe)) < 0)
pos = 120,68
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING CATCH TIME
;========================================================

[State 0, VarSet]
type = MapSet
trigger1 = Map(FallCatchAct) = 0
trigger1 = MoveType = H && StateType = A
trigger1 = EnemyNear,Ctrl
map = "FallCatchAct"
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = MapSet
triggerall = Map(FallCatchAct) != 0
trigger1 = Ctrl
trigger2 = StateNo = [5100,5130) || StateNo = 5080 || StateNo = 5200 || StateNo = 5210
trigger3 = EnemyNear,MoveHit = 1
map = "FallCatchAct"
value = 0
ignorehitpause = 1
[State 0, MapSet]
type = MapSet
trigger1 = EnemyNear,MoveHit = 1
trigger2 = MoveType = H && !EnemyNear,Ctrl && StateNo < 5000
map = "FallCatchTime"
value = -2
ignorehitpause = 1
[State 0, MapSet]
type = MapAdd
trigger1 = Map(FallCatchAct) != 0
map = "FallCatchTime"
value = 1

[State 0, Explod FCT]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
anim = F4501
pos = 54,78
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
trans = addalpha
alpha = 64+192*(Map(FallCatchTime)>0),192*(Map(FallCatchTime)<=0)

[State 0, Explod Fall Catch Counter .X]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = Map(FallCatchTime) > 0
anim = F4510 + ((Map(FallCatchTime)) % 10) + 10 * (Map(FallCatchTime) > 3)
pos = 134,78
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod Fall Catch Counter X.]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = Map(FallCatchTime) > 9
anim = F4510 + floor(((Map(FallCatchTime)) % 100) * 0.1) + 10 * (Map(FallCatchTime) > 3)
pos = 127,78
postype = left
removetime = 1
sprpriority = 9
scale = 0.5,0.5
ontop = 1
ownpal = 1
ignorehitpause = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING INFO LINE
;========================================================

[State 0, Explod Info]
type = Explod
triggerall = Var(20)>0
trigger1 = Map(IsTraining)
trigger1 = !numexplod(4535)
anim = F4535
id = 4535
pos = 6,6;54,88
postype = left
removetime = -2
sprpriority = 9
scale = 0.25,0.25
ontop = 1
ownpal = 1
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Var(20)<=0
trigger1 = Map(IsTraining)
trigger1 = numexplod(4535)
id = 4535
ignorehitpause = 1

;========================================================
; FULL GAME FUNTIMES: TRAINING BLOCKING
;========================================================

[State 0, MapSet]
type = MapSet
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 2
trigger1 = EnemyNear,Map(TrainingOpt2) = 2
map = "Training1Hit"
value = max(0,min(48,Map(Training1Hit)-1 + 32 * (StateNo=[120,160)||StateNo=[5000,6000)||MoveType=H)))
ignorehitpause = 1

[State 0, AI Guard]
Type = AssertSpecial
flag = autoguard
trigger1 = EnemyNear,Map(TrainingOpt2) = 1 || EnemyNear,Map(TrainingOpt2) = 3 
trigger2 = EnemyNear,Map(TrainingOpt2) = 2
trigger2 = Map(Training1Hit) > 0

;========================================================
; FULL GAME FUNTIMES: TRAINING REGEN
;========================================================

[State 0, VarSet Cooldown Timer Reset]
type = VarSet
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
;triggerall = TeamSide = 1 && Map(TrainingOpt5) = 1 || TeamSide = 2 && EnemyNear,Map(TrainingOpt5) = 1
triggerall = Var(3) < 16
trigger1 = MoveType = H && StateNo != [5120,5130)
trigger2 = RoundState != 2
trigger3 = EnemyNear,MoveType = A || EnemyNear,StateNo = [3000,3100)
v = 3
value = 16
[State 0, VarAdd Cooldown Timer]
type = VarAdd
trigger1 = RoundState = 2
trigger1 = MoveType != H && !Var(51) && !EnemyNear,Var(51)
trigger1 = Var(3) > 0
v = 3
value = -1

[State 0, LifeAdd]
type = LifeAdd
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 1 && Map(TrainingOpt5) = 1 || TeamSide = 2 && EnemyNear,Map(TrainingOpt5) = 1
trigger1 = Var(3) <= 0
trigger1 = MoveType != H && EnemyNear,MoveType != H
value = 50
[State 0, PowerAdd]
type = PowerAdd
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 1 && Map(TrainingOpt6) = 1 || TeamSide = 2 && EnemyNear,Map(TrainingOpt6) = 1
trigger1 = Var(3) <= 0
trigger1 = MoveType != H && EnemyNear,MoveType != H
trigger1 = StateNo < 2000 && EnemyNear,StateNo < 2000
value = 200
[State 0, GaugeAdd]
type = VarAdd
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 1 && Map(TrainingOpt7) = 1 || TeamSide = 2 && EnemyNear,Map(TrainingOpt7) = 1
trigger1 = Var(3) <= 0
trigger1 = MoveType != H && EnemyNear,MoveType != H
v = 18
value = 200
[State 0, GaurdAdd]
type = VarAdd
triggerall = Map(IsTraining) || EnemyNear,Map(IsTraining)
triggerall = TeamSide = 1 && Map(TrainingOpt8) = 1 || TeamSide = 2 && EnemyNear,Map(TrainingOpt8) = 1
trigger1 = Var(3) <= 0
trigger1 = MoveType != H && EnemyNear,MoveType != H
v = 25
value = 20

;========================================================
; FULL GAME FUNTIMES: TRAINING REACT
;========================================================

[State 0, MapSet]
type = MapSet
triggerall = !!EnemyNear,Map(TrainingOpt9) && Map(IsTraining)
triggerall = !Map(TrainReact)
trigger1 = StateNo = [150,160)
trigger2 = StateNo = [5000,6000)
trigger3 = StateNo = [200,3000) && MoveType = H
map = "TrainReact"
value = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = EnemyNear,Map(TrainingOpt9) = [1,8] && Map(IsTraining)
trigger1 = Map(TrainReact)
trigger1 = Ctrl || StateNo = [120,140]
value = ifelse(EnemyNear,Map(TrainingOpt9)=1,40,ifelse(EnemyNear,Map(TrainingOpt9)=2,105,ifelse(EnemyNear,Map(TrainingOpt9)=3,200,ifelse(EnemyNear,Map(TrainingOpt9)=4,400,ifelse(EnemyNear,Map(TrainingOpt9)=5,500,ifelse(EnemyNear,Map(TrainingOpt9)=6,510,ifelse(EnemyNear,Map(TrainingOpt9)=7,800,ifelse(EnemyNear,Map(TrainingOpt9)=8,3000,0))))))))
[State 0, MapSet]
type = MapSet
trigger1 = !!EnemyNear,Map(TrainingOpt9) && Map(IsTraining)
trigger1 = Map(TrainReact)
trigger1 = StateNo = [200,1000) || StateNo = [40,50] || StateNo = [100,110) || StateNo = [3000,3140)
trigger1 = MoveType != H
map = "TrainReact"
value = 0
ignorehitpause = 1

;=======================================================================
; FULL GAME FUNTIMES: THANKS MUGEN. THANKS.
;=======================================================================

[State 0, Map CC Disable Timer]
type = MapSet
trigger1 = MoveType != H || StateNo = [120,160)
map = "CCDisable"
value = max(0,Map(CCDisable)-1)
[State 0, Map Disable CC Have I Told You I Don't Like MUGEN? It's true. I don't like it.]
type = MapSet
trigger1 = MoveType = H && StateNo != [120,160)
map = "CCDisable"
value = 1
[State 0, Map Disable]
type = MapSet
trigger1 = StateNo = [2000,3000) && Var(54)
trigger1 = !EnemyNear,Ctrl
map = "CCDisable"
value = 4
redirectid = EnemyNear,ID

;========================================================
; SYSVAR 4 - RESET HITCOUNT / DIRE
;========================================================

[State 0, Var Reset HitCount]
type = VarSet
trigger1 = EnemyNear,sysvar(4) = 1
trigger1 = !(EnemyNear,Time = 0)
v = 51
value = 0
[State 0, Var Reset Dire]
type = VarSet
trigger1 = EnemyNear,sysvar(4) = 1
trigger1 = !(EnemyNear,Time = 0)
v = 11
value = 0
[State 0, Var Reset HitCount Timer]
type = VarAdd
trigger1 = sysvar(4)
sysvar(4) = -1

;========================================================
; VAR 10, 11 - DIRE COUNTER ACTIVATION
;========================================================

[State 0, PalFX]
type = PalFX
trigger1 = Map(DireAct) > 0
time = 4
add = 255,255,255
ignorehitpause = 1
redirectid = enemynear,id
[State 0, Map Dire Pal Timer]
type = MapAdd
trigger1 = Map(DirePal) > 0
map = "DirePal"
value = -1
ignorehitpause = 1
[State 0, Map Dire Pal Timer]
type = MapSet
trigger1 = Map(DireAct) > 0
map = "DirePal"
value = 5
ignorehitpause = 1
[State 0, PalFX]
type = PalFX
trigger1 = Map(DirePal) = 1
time = 4
add = 128,0,32
mul = 255,64,128
color = 0
ignorehitpause = 1
redirectid = enemynear,id

[State 0, Var Dire Stacks Set]
type = VarSet
trigger1 = Map(DireAct) = [1,2]
var(11) = floor(Map(DireAct))
ignorehitpause = 1
[State 0, Var Dire Stacks Set]
type = VarSet
trigger1 = Map(DireAct) >= 200
var(11) = 1 + (Var(11)<=0||Var(11)>2||Var(10)=2)
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget
triggerall = Target,MoveType = H && (Target,StateNo = [5000,5100))
trigger1 = Map(DireAct) >= 200
value = Map(DireAct)
ignorehitpause = 1
[State 0, Var Dire Lucid Gain]
type = VarAdd
triggerall = Name != "REAP"
trigger1 = Map(DireAct) > 0
var(18) = 334
ignorehitpause = 1
[State 0, Map Dire Activate Reset]
type = MapSet
trigger1 = Map(DireAct) > 0
map = "DireAct"
value = 0
ignorehitpause = 1

;=======================================================================
; FULL GAME FUNTIMES: GET THAT HUD OUTTA HERE
;=======================================================================

[State 0, VarSet]
type = VarSet
trigger1 = !!const(BC.HideHUD)
trigger2 = Map(IsTraining) && EnemyNear,Map(IsTraining)
trigger3 = Name = "TRAI" && EnemyNear,Name = "TRAI"
v = 20
value = -128
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Map(IsTraining) && EnemyNear,Map(IsTraining)
trigger2 = Name = "TRAI" && EnemyNear,Name = "TRAI"
flag = nobardisplay
flag2 = invisible

;=======================================================================
; FULL GAME FUNTIMES: IOH
;=======================================================================

[State 0, NotHitBy]
type = NotHitBy
trigger1 = EnemyNear,StateNo = [600,800) && EnemyNear,Vel Y < EnemyNear,const(velocity.jump.y) * 0.33
trigger1 = Ctrl && StateType = C && StateNo < 200
value = ,NA
time = 1

;=======================================================================
; FULL GAME FUNTIMES: DIRECTIONAL BUFFERING? MORE LIKE BUFF-FUCKIN-SHIT!
;=======================================================================

; i removed all this code. its dead now. theres no more directional buffering

;=====================================================================================
; FULL GAME FUNTIMES: CLICKITY CLACK AROUND THE TRACK ITS LOTS AND LOTS OF *BUFFERING*
;=====================================================================================

[State 0, Map LP Buffer Reduce]
type = MapAdd
trigger1 = Map(b_x) > 1 || map(b_x) = 1 && !Var(8)
map = "b_x"
value = -1
ignorehitpause = 1
[State 0, Map SP Buffer Reduce]
type = MapAdd
trigger1 = Map(b_y) > 1 || map(b_y) = 1 && !Var(8)
map = "b_y"
value = -1
ignorehitpause = 1
[State 0, Map LK Buffer Reduce]
type = MapAdd
trigger1 = Map(b_a) > 1 || map(b_a) = 1 && !Var(8)
map = "b_a"
value = -1
ignorehitpause = 1
[State 0, Map SK Buffer Reduce]
type = MapAdd
trigger1 = Map(b_b) > 1 || map(b_b) = 1 && !Var(8)
map = "b_b"
value = -1
ignorehitpause = 1
[State 0, Map 2P Buffer Reduce]
type = MapAdd
trigger1 = Map(b_xy) > 0
map = "b_xy"
value = -1
ignorehitpause = 1
[State 0, Map 2K Buffer Reduce]
type = MapAdd
trigger1 = Map(b_ab) > 0
map = "b_ab"
value = -1
ignorehitpause = 1
[State 0, Map 2L Buffer Reduce]
type = MapAdd
trigger1 = Map(b_xa) > 0
map = "b_xa"
value = -1
ignorehitpause = 1
[State 0, Map 2S Buffer Reduce]
type = MapAdd
trigger1 = Map(b_yb) > 0
map = "b_yb"
value = -1
ignorehitpause = 1
[State 0, Map BB Buffer Reduce]
type = MapAdd
trigger1 = Map(b_44) > 0
map = "b_44"
value = -1
ignorehitpause = 1
[State 0, Map FF Buffer Reduce]
type = MapAdd
trigger1 = Map(b_66) > 0
map = "b_66"
value = -1
ignorehitpause = 1

[State 0, Map LP Buffer Reduce]
type = MapSet
trigger1 = Map(b_x)
trigger1 = MoveType = A
map = "b_x"
value = min(Map(b_x),2)
ignorehitpause = 1
[State 0, Map SP Buffer Reduce]
type = MapSet
trigger1 = Map(b_y)
trigger1 = MoveType = A
map = "b_y"
value = min(Map(b_y),2)
ignorehitpause = 1
[State 0, Map LK Buffer Reduce]
type = MapSet
trigger1 = Map(b_a)
trigger1 = MoveType = A
map = "b_a"
value = min(Map(b_a),2)
ignorehitpause = 1
[State 0, Map SK Buffer Reduce]
type = MapSet
trigger1 = Map(b_b)
trigger1 = MoveType = A
map = "b_b"
value = min(Map(b_b),2)
ignorehitpause = 1
[State 0, Map 2P Buffer Reduce]
type = MapSet
trigger1 = Map(b_xy)
trigger1 = MoveType = A
map = "b_xy"
value = min(Map(b_xy),2)
ignorehitpause = 1
[State 0, Map 2K Buffer Reduce]
type = MapSet
trigger1 = Map(b_ab)
trigger1 = MoveType = A
map = "b_ab"
value = min(Map(b_ab),2)
ignorehitpause = 1
[State 0, Map 2L Buffer Reduce]
type = MapSet
trigger1 = Map(b_xa)
trigger1 = MoveType = A
map = "b_xa"
value = min(Map(b_xa),2)
ignorehitpause = 1
[State 0, Map 2S Buffer Reduce]
type = MapSet
trigger1 = Map(b_yb)
trigger1 = MoveType = A
map = "b_yb"
value = min(Map(b_yb),2)
ignorehitpause = 1
[State 0, Map BB Buffer Reduce]
type = MapSet
trigger1 = Map(b_44)
trigger1 = StateNo = [100,120)
map = "b_44"
value = min(Map(b_44),2)
ignorehitpause = 1
[State 0, Map FF Buffer Reduce]
type = MapSet
trigger1 = Map(b_66)
trigger1 = StateNo = [100,120)
map = "b_66"
value = min(Map(b_66),2)
ignorehitpause = 1

[State 0, LP Buffer Start]
type = MapSet
trigger1 = Map(x) && !Map(b_x)
map = "b_x"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, SP Buffer Start]
type = MapSet
trigger1 = Map(y) && !Map(b_y)
map = "b_y"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, LK Buffer Start]
type = MapSet
trigger1 = Map(a) && !Map(b_a)
map = "b_a"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, SK Buffer Start]
type = MapSet
trigger1 = Map(b) && !Map(b_b)
map = "b_b"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1

[State 0, 2P Buffer Start]
type = MapSet
trigger1 = Map(xy) && !Map(b_xy)
map = "b_xy"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, 2K Buffer Start]
type = MapSet
trigger1 = Map(ab) && !Map(b_ab)
map = "b_ab"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, 2L Buffer Start]
type = MapSet
trigger1 = Map(xa) && !Map(b_xa)
map = "b_xa"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, 2S Buffer Start]
type = MapSet
trigger1 = Map(yb) && !Map(b_yb)
map = "b_yb"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1

[State 0, BB Buffer Start]
type = MapSet
trigger1 = command="BB" && !Map(b_44)
map = "b_44"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1
[State 0, FF Buffer Start]
type = MapSet
trigger1 = command="FF" && !Map(b_66)
map = "b_66"
value = ifelse(MoveType=H||StateNo=[5000,6000),const(BC.Buffer),3)
ignorehitpause = 1

;=================================
; FULL GAME FUNTIMES: CORNER WIDTH
;=================================

[State -2, CORNER COWBOY] ; Thanks T
type = Width
trigger1 = EnemyNear,BackEdgeDist <= 2
trigger1 = !(Name="BAXK"&&StateNo=[920,931])
edge = 15,0

;===========================================
; FULL GAME FUNTIMES: AIR COMMAND TURN CHECK
;===========================================

[State 0, VarSet]
type = MapSet
trigger1 = Map(TurnCheck) = 0
map = "TurnCheck"
value = 1
[State 0, VarSet]
type = MapSet
trigger1 = map(Buffer_Snk) = 0
map = "Buffer_Snk"
value = 1

;=====================================
; FULL GAME FUNTIMES: P2BODYDIST SUCKS
;=====================================

[State 0, MapSet]
type = MapSet
trigger1 = 1
map = "P2Proxy"
value = P2Dist X - const(size.ground.front) - enemynear,const(size.ground.front)
ignorehitpause = 1

;===========================================
; FULL GAME FUNTIMES: LIGHT CHAINS, ALRIGHT?
;===========================================

[State 0, MapSet]
type = MapSet
trigger1 = Map(LightChain) < 2
trigger1 = Ctrl || StateNo != [200,800)
map = "LightChain"
value = 2
ignorehitpause = 1

;=================================
; FULL GAME FUNTIMES: SPEED
;=================================

[State 0, MapSet]
type = MapSet
trigger1 = RoundState <= 1
trigger1 = Map(SpeedMod) != 1
map = "SpeedMod"
value = 1

;========================================================
; FULL GAME FUNTIMES: SCALING BUG FIX
;========================================================

[State 0, VarSet]
type = VarSet
trigger1 = fvar(8) < 1
trigger1 = EnemyNear,HitOver
trigger1 = EnemyNear,PrevStateNo = 5001 || EnemyNear,PrevStateNo = 5011
fvar(8) = 1
[State 0, VarSet]
type = VarSet
trigger1 = fvar(10) < 1
trigger1 = EnemyNear,HitOver
trigger1 = EnemyNear,PrevStateNo = 5001 || EnemyNear,PrevStateNo = 5011
fvar(10) = 1

;===========================================
; FULL GAME FUNTIMES: WINQUOTE NUMBER
;===========================================

[State 0, Var WinQuote AJIT]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "AJIT" || Name = "AJIX" || Name = "AJIK"
map = "WinQuoteNum"
value = 10
[State 0, Var WinQuote TSUG]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "TSUG" || Name = "TSUX"
map = "WinQuoteNum"
value = 11
[State 0, Var WinQuote TSUK]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "TSUK"
map = "WinQuoteNum"
value = 12
[State 0, Var WinQuote SHER]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "SHER" || Name = "SHEX"
map = "WinQuoteNum"
value = 13
[State 0, Var WinQuote SHEX]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "SHEK"
map = "WinQuoteNum"
value = 14
[State 0, Var WinQuote WALL]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "WALL" || Name = "WALX" || Name = "WALK"
map = "WinQuoteNum"
value = 15
[State 0, Var WinQuote REAP]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "REAP" || Name = "REAX"
map = "WinQuoteNum"
value = 16
[State 0, Var WinQuote REAK]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "REAK"
map = "WinQuoteNum"
value = 17
[State 0, Var WinQuote JUST]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "JUST" || Name = "JUSX"
map = "WinQuoteNum"
value = 18
[State 0, Var WinQuote JUSK]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "JUSK"
map = "WinQuoteNum"
value = 19
[State 0, Var WinQuote BOUN]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "BOUN" || Name = "BOUX" || Name = "BOUK"
map = "WinQuoteNum"
value = 20
[State 0, Var WinQuote BAXT]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "BAXT" || Name = "BAXX" || Name = "BAXK"
map = "WinQuoteNum"
value = 21
[State 0, Var WinQuote CICI]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "CICI" || Name = "CICX" || Name = "CICK"
map = "WinQuoteNum"
value = 22
[State 0, Var WinQuote GOLI]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "GOLI" || Name = "GOLX" || Name = "GOLK"
map = "WinQuoteNum"
value = 23
[State 0, Var WinQuote NECC]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "NECC" || Name = "NECX" || Name = "NECK"
map = "WinQuoteNum"
value = 24
[State 0, Var WinQuote EMIC]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "EMIC" || Name = "EMIX" || Name = "EMIK"
map = "WinQuoteNum"
value = 25
[State 0, Var WinQuote LUCY]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "LUCY" || Name = "LUCX" || Name = "LUCK"
map = "WinQuoteNum"
value = 26
[State 0, Var WinQuote GABB]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "GABB" || Name = "GABX" || Name = "GABK"
map = "WinQuoteNum"
value = 27
[State 0, Var WinQuote ISAB]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "ISAB" || Name = "ISAX" || Name = "ISAK"
map = "WinQuoteNum"
value = 28
[State 0, Var WinQuote TYRA]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
map = "WinQuoteNum"
value = 29
[State 0, Var WinQuote IKUE]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "IKUE" || Name = "IKUX" || Name = "IKUK"
map = "WinQuoteNum"
value = 30
[State 0, Var WinQuote TERI]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "TERI" || Name = "TERX" || Name = "TERK"
map = "WinQuoteNum"
value = 31
[State 0, Var WinQuote BERN]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "BERN" || Name = "BERX" || Name = "BERK"
map = "WinQuoteNum"
value = 32
[State 0, Var WinQuote JANE]
type = MapSet
triggerall = Map(WinQuoteNum) < 10
trigger1 = Name = "JANE" || Name = "JANX" || Name = "JANK"
map = "WinQuoteNum"
value = 33

;============================
; FULL GAME FUNTIMES: NOGUARD
;============================

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noairguard
ignorehitpause = 1

;==================================
; FULL GAME FUNTIMES: OTG LIMITER
;==================================

[State 0, Map OTG Limiter Reset]
type = MapSet
trigger1 = Map(WakeUpInvul) = 1
trigger2 = Ctrl && StateNo < 5000 && MoveType != H
map = "OTGs"
value = 0
ignorehitpause = 1

;==================================
; FULL GAME FUNTIMES: WAKE UP INVUL
;==================================

[State 0, NotHitBy]
type = NotHitBy
triggerall = Map(WakeUpInvul) > 1
trigger1 = ctrl
trigger2 = StateNo < 5000 && MoveType != H
value = ,NT,ST,HT
time = 1
[State 0, NotHitBy]
type = NotHitBy
triggerall = Map(WakeUpInvul) > 3
trigger1 = ctrl
trigger2 = StateNo < 5000 && MoveType != H
value = SCA
time = 1
[State 0, MapSet]
type = MapAdd
triggerall = Map(WakeUpInvul) > 0
trigger1 = ctrl
trigger2 = StateNo < 5000 && MoveType != H
map = "WakeUpInvul"
value = -1

;===================================
; FULL GAME FUNTIMES: CUTSCENES
;===================================

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Map(Cutscene) > 8
flag = noFG
flag2 = nobardisplay
[State 0, Map Cutscene Timer]
type = MapAdd
trigger1 = Map(Cutscene) > 0
map = "Cutscene"
value = -1


;====================================
; FULL GAME FUNTIMES: FALL OF ATENISM
;====================================

[State 0, Explod Boundary Fall of Atenism]
type = Explod
trigger1 = EnemyNear,Name = "BOUN"
trigger1 = EnemyNear,StateNo = 905
trigger1 = EnemyNear,Anim = [905,906] && EnemyNear,AnimElem = 3,5
trigger1 = !Var(58)
anim = 7075
pos = 0,-32 + Const(size.head.pos.y)
postype = p1
facing = facing
bindtime = 666
scale = 1,1
sprpriority = 1
ownpal = 1
[State 0, Explod Boundary Fall of Atenism]
type = Explod
trigger1 = EnemyNear,Name = "BOUN"
trigger1 = EnemyNear,StateNo = 905
trigger1 = EnemyNear,Anim = [905,906] && EnemyNear,AnimElem = 3,5
trigger1 = Var(58)
anim = F7074 + Var(58)
pos = 0,-32 + Const(size.head.pos.y)
postype = p1
facing = facing
bindtime = 666
scale = 1,1
sprpriority = 1
ownpal = 1

;====================================
; FULL GAME FUNTIMES: HIT FX
;====================================

[State 0, MapSet]
type = MapSet
trigger1 = !!Map(HitFX)
map = "HitFXColor"
value = EnemyNear,Map(FXColor)
[State 0, MapSet]
type = MapSet
triggerall = !!Map(HitFX)
trigger1 = Name = "JANX" && StateNo = [4000,4002]
trigger2 = Name = "GOLK" && StateNo = [2500,2540]
map = "HitFXColor"
value = Map(FXColor)
[State 0, MapSet]
type = MapSet
trigger1 = !!Map(HitFX)
map = "HitFXType"
value = Map(HitFX)
[State 0, Helper]
type = Helper
trigger1 = Map(HitFX) = 1
trigger2 = Map(HitFX) = 3
name = "YOU OPEN FIRE"
ID = 15370
stateno = 15370
postype = p1
ownpal = 1
[State 0, Helper]
type = Helper
trigger1 = !NumHelper(5397)
trigger1 = Map(HitFX) = 4
name = "COLD AS ICE"
ID = 5397
stateno = 5397
postype = p1
ownpal = 1
[State 0, MapSet]
type = MapSet
trigger1 = !!Map(HitFX)
map = "HitFXTimer"
value = ifelse(Map(HitFX)=2,666,67)
[State 0, Helper]
type = Helper
trigger1 = Map(HitFXTimer) = 666
trigger1 = HitShakeOver
trigger1 = !NumHelper(15371)
name = "Burnout Paradise"
ID = 15371
stateno = 15371
postype = p1
ownpal = 1
[State 0, MapSet]
type = MapSet
trigger1 = !!Map(HitFX)
map = "HitFXTimer"
value = ifelse(Map(HitFX)=2,666,67)
[State 0, MapSet]
type = MapSet
triggerall = Map(HitFXTimer)
trigger1 = MoveType != H && StateNo < 5000
trigger1 = !(Name = "JANX" && StateNo = [4000,4002])
trigger2 = Map(HitFXTimer) = 666
trigger2 = HitShakeOver
map = "HitFXTimer"
value = 0

[State 0, MapSet]
type = MapSet
trigger1 = Map(HitFXTimer) = (0,666)
map = "HitFXTimer"
value = max(0,Map(HitFXTimer) - 1 - 666 * (StateNo=[5120,5210]))
ignorehitpause = 1

[State 0, Pal FX Fire]
type = PalFX
triggerall = MoveType = H
triggerall = StateNo != [120,160)
triggerall = !!Map(HitFXColor) && Map(HitFXTimer) = (0,666)
triggerall = Map(HitFXType) = 1
trigger1 = Map(HitFXTimer)%3 = 0
time = 6
add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.5),floor((Map(HitFXColor)%65536)*0.00390625*0.5),floor((Map(HitFXColor)%256)*0.5)
mul = 64 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.75),64 + floor((Map(HitFXColor)%65536)*0.00390625*0.75),64 + floor((Map(HitFXColor)%256)*0.75)
sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.3),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.2),6
color = 64
ignorehitpause = 1
[State 0, Pal FX Elec]
type = PalFX
triggerall = MoveType = H
triggerall = StateNo != [120,160)
triggerall = !!Map(HitFXColor) && Map(HitFXTimer) = 666
trigger1 = GameTime%2 = 0 && GameTime%8 != 2
trigger2 = Map(HitFX) = 2
time = 6
add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.25),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.25)
mul = 64 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.75),64 + floor((Map(HitFXColor)%65536)*0.00390625*0.75),64 + floor((Map(HitFXColor)%256)*0.75)
sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.5),floor((Map(HitFXColor)%65536)*0.00390625*0.5),floor((Map(HitFXColor)%256)*0.5),6
color = 0
ignorehitpause = 1
[State 0, Pal FX Rainbow]
type = PalFX
triggerall = MoveType = H
triggerall = StateNo != [120,160)
triggerall = Map(HitFXTimer) = (0,666)
triggerall = Map(HitFXType) = 3
trigger1 = 1
time = 6
add = 0.5*max(0,min(256,512*(Sin(GameTime*0.15+0)))),0.5*max(0,min(256,512*(Sin(GameTime*0.15+42)))),0.5*max(0,min(256,512*(Sin(GameTime*0.15+84))))
mul = 64 + 0.5*max(0,min(256,512*(Sin(GameTime*0.15+0)))),64 + 0.5*max(0,min(256,512*(Sin(GameTime*0.15+42)))),64 + 0.5*max(0,min(256,512*(Sin(GameTime*0.15+84))))
;sinadd = 0,0,0,6
color = 64
ignorehitpause = 1
[State 0, Pal FX Ice]
type = PalFX
trigger1 = MoveType = H
trigger1 = StateNo != [120,160)
trigger1 = !!Map(HitFXColor) && Map(HitFXTimer) = (0,666)
trigger1 = Map(HitFXType) = 4
trigger1 = Map(HitFXTimer)%8 = 0
trigger1 = StateNo != [5395,5396]
time = 16
;add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.5),floor((Map(HitFXColor)%65536)*0.00390625*0.5),floor((Map(HitFXColor)%256)*0.5)
mul = 96 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.5),96 + floor((Map(HitFXColor)%65536)*0.00390625*0.5),96 + floor((Map(HitFXColor)%256)*0.5)
sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.3),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.2),32
color = 256
ignorehitpause = 1

[State 0, Pal FX Ice]
type = PalFX
trigger1 = NumExplod(5630)
time = 2
add = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.25),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.25)
mul = 96 + floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.75),96 + floor((Map(HitFXColor)%65536)*0.00390625*0.75),96 + floor((Map(HitFXColor)%256)*0.75)
;sinadd = floor((Map(HitFXColor)%16777216)*0.0000152587890625*0.3),floor((Map(HitFXColor)%65536)*0.00390625*0.25),floor((Map(HitFXColor)%256)*0.2),1
color = 32
ignorehitpause = 1

[State 5000, 2]
type = ChangeAnim
triggerall = !!Map(HitFXColor) && Map(HitFXTimer) = 666
trigger1 = !HitShakeOver
value = 5362 + (GameTime%4>=2)
ignorehitpause = 1
[State 0, Explod Elec]
type = Explod
triggerall = !!Map(HitFXColor) && Map(HitFXTimer) = 666
trigger1 = !HitShakeOver
anim = 5360 + (GameTime%4>=2)
ID = 3000
postype = p1
bindtime = 666
removetime = 1
sprpriority = 1
ownpal = !(GameTime%3)
ignorehitpause = 1
[State 0, Offset Elec]
type = Offset
triggerall = !!Map(HitFXColor) && Map(HitFXTimer) = 666
trigger1 = !HitShakeOver
x = -2+random%5
y = -1+random%3
ignorehitpause = 1

[State 0, Snd Burn Baby!]
type = PlaySnd
trigger1 = Map(HitFX) = 1
trigger2 = Map(HitFX) = 3
value = F1,10
channel = 1
[State 0, Snd ZapZap]
type = PlaySnd
trigger1 = Map(HitFX) = 2
value = F1,11
channel = 1

[State 0, MapSet]
type = MapSet
trigger1 = !!Map(HitFX)
map = "HitFX"
value = 0

;========================================================
; FULL GAME FUNTIMES: POWER SCALING
;========================================================

[State 0, Map Scaling PowerGet Hit]
type = MapSet
trigger1 = RoundState = 2
map = "ScaledPowerGetHit"
value = (0.34 + 0.66 * FVar(8)) * const(BC.PowerGetHit) * FVar(15)
ignorehitpause = 1
[State 0, Map Scaling PowerGive Hit]
type = MapSet
trigger1 = RoundState = 2
map = "ScaledPowerGiveHit"
value = (0.5 + 0.5 * FVar(8)) * const(BC.PowerGiveHit)
ignorehitpause = 1

;========================================================
; VAR 1 - AIR ACTION
;========================================================

[State 0, VarSet]
type = VarSet
trigger1 = !Var(1)
trigger1 = StateType != A
v = 1
value = 1

;========================================================
; VAR 9 - ENVSHAKE
;========================================================

[State 0, EnvShake]
type = EnvShake
trigger1 = Var(9) > 1
time = 2
freq = 120
ampl = -1 + ((Var(9) > 8) * -8) + ((Var(9) <= 8) * -Var(9))
phase = 120+(GameTime%2*120)
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = Var(9) > 0
trigger1 = Var(9) > 2
trigger2 = Var(9) = 1 || Var(9) = 2
trigger2 = GameTime%2 = 0
v = 9
value = -1
ignorehitpause = 1

;========================================================
; VAR 10, 11 - COUNTER CHECK
;========================================================

[State 0, Var Dire Counter Stack On]
type = VarSet
triggerall = MoveHit && !MoveReversed
triggerall = EnemyNear,MoveType = H
triggerall = StateNo = [200,800); && StateNo%10 = 0
trigger1 = Var(8) = 1 && Var(10) = 2
v = 11
value = 2
ignorehitpause = 1

;============================
; VAR 13, 14 - COUNTER PAUSETIME
;============================

[State 0, VarSet PauseTime Reset]
type = VarSet
trigger1 = MoveType = A
trigger1 = !MoveHit
v = 13
value = 4 * (Var(10)=[1,3])

;========================================================
; VAR 15 - AI LEVEL
;========================================================

[State 0, Var AI Level Set]
type = VarSet
trigger1 = Var(15) = 0
trigger1 = AILevel
trigger1 = RoundState <= 2
v = 15
value = ceil(75 + min(3,RoundNo) * 25 + AILevel ** 4 * 0.25)
[State 0, Var AI Level Turn Off]
type = VarSet
triggerall = Var(15) != 0
trigger1 = AILevel = 0
trigger2 = RoundState > 2
v = 15
value = 0

;[State 0, Explod TEMP NUMBERS]
;type = Explod
;trigger1 = Var(15)
;anim = F4520 + (Var(17))%10
;pos = 64 + 192 * (teamside=2),192
;postype = left
;removetime = 1
;sprpriority = 9
;ontop = 1
;ownpal = 1
;scale = 0.5,0.5
;ignorehitpause = 1
;[State 0, Explod TEMP NUMBERS]
;type = Explod
;trigger1 = Var(15)
;;trigger1 = 0 != (floor(Var(17)*0.1)%10)
;anim = F4520 + (floor(Var(17)*0.1)%10)
;pos = 56 + 192 * (teamside=2),192
;postype = left
;removetime = 1
;sprpriority = 9
;ontop = 1
;ownpal = 1
;scale = 0.5,0.5
;ignorehitpause = 1
;[State 0, Explod TEMP NUMBERS]
;type = Explod
;trigger1 = Var(15)
;;trigger1 = 0 != (floor(Var(17)*0.01)%10)
;anim = F4520 + (floor(Var(17)*0.01)%10)
;pos = 48 + 192 * (teamside=2),192
;postype = left
;removetime = 1
;sprpriority = 9
;ontop = 1
;ownpal = 1
;scale = 0.5,0.5
;ignorehitpause = 1
;[State 0, Explod TEMP NUMBERS]
;type = Explod
;trigger1 = Var(15)
;;trigger1 = 0 != (floor(Var(17)*0.001)%10)
;anim = F4520 + (floor(Var(17)*0.001)%10)
;pos = 40 + 192 * (teamside=2),192
;postype = left
;removetime = 1
;sprpriority = 9
;ontop = 1
;ownpal = 1
;scale = 0.5,0.5
;ignorehitpause = 1

[State 0, MapSet]
type = MapSet
trigger1 = Var(15) && RoundState < 2
trigger1 = !Map(AIIdealRange)
map = "AIIdealRange"
value = 32 + 16 * (Name="BOUN"||Name="BOUX"||Name="BOUK") + 32 * (Name="JANE"||Name="JANX"||Name="JANK") + 48 * (Name="WALL"||Name="WALX"||Name="WALK"||Name="BAXT"||Name="BAXX") + 96 * (Name="REAP"||Name="REAX")

;========================================================
; VAR 17 - AI DECISION MAKING
;========================================================

[State 0, Var Remember Me?]
type = VarSet
trigger1 = Var(14) != Var(17)
trigger1 = Var(17) > 0
v = 14
value = Var(17)

[State 0, Var AI Decide Something]
type = VarSet
triggerall = Var(15) && !Var(17)
triggerall = random < Var(15)
triggerall = RoundState = 2
triggerall = !((Name="AJIT"||Name="AJIX")&&Anim=311&&AnimElemNo(0)<8)
triggerall = !(Name="AJIK"&&Anim=215&&AnimElemNo(0)<11)
triggerall = !((Name="SHER"||Name="SHEX"||Name="SHEK")&&Anim=311&&AnimElemNo(0)<5)
triggerall = !((Name="REAP"||Name="REAX")&&Anim=225&&AnimElemNo(0)<14)
triggerall = !((Name="BOUN"||Name="BOUX"||Name="BOUK")&&Anim=410&&AnimElemNo(0)<7)
triggerall = !((Name="GOLI"||Name="GOLX"||Name="GOLK")&&Anim=205&&AnimElemNo(0)<17)
triggerall = !((Name="GABB"||Name="GABX"||Name="GABK")&&Anim=[310,311]&&AnimElemNo(0)<9)
trigger1 = !(Gametime % ceil((1200 - min(Var(15),1000))*0.001))
trigger2 = Var(8) = 1
v = 17
value = -1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = Var(17) = [200,3000)
trigger1 = (EnemyNear,StateNo = [5100,5210]) && !(EnemyNear,AnimTime >= -3)
trigger2 = (EnemyNear,StateNo = 5120 || EnemyNear,StateNo = 5200) && EnemyNear,AnimTime < -3
trigger3 = EnemyNear,MoveType = H && (EnemyNear,StateNo = [200,999) || EnemyNear,StateNo = [1000,3000))
trigger4 = MoveType = I || StateNo = [1000,3000)
v = 17
value = 0
[State 0, VarSet]
type = VarSet
trigger1 = Var(17) = 100 && Map(P2Proxy) <= map(AIIdealRange) * 1.5 && EnemyNear,MoveType != H
trigger2 = Var(17) = 100 && Map(P2Proxy) <= map(AIIdealRange) * 1
trigger3 = Var(17) = 40 && StateType = A
v = 17
value = 0

[State 0, Var You Can't Grab Right Now]
type = VarSet
triggerall = Var(15)
triggerall = MoveGuarded
trigger1 = Var(17) = 800
v = 17
value = 1700
[State 0, Var Shuffle Long Range Options]
type = VarSet
triggerall = Var(15)
triggerall = P2BodyDist X > 96
trigger1 = Var(17) = 20 && StateNo != 20
trigger2 = Var(17) = 100 && StateNo != [100,105]
trigger3 = Var(17) = 900
trigger4 = Var(17) = 1000
trigger5 = Var(17) = 1400
v = 17
value = (20)*(GameTime%5=0) + (100)*(GameTime%5=1) + (900)*(GameTime%5=2) + (1000)*(GameTime%5=3) + (1400)*(GameTime%5=4)
[State 0, Var Shuffle Mix Options]
type = VarSet
triggerall = Var(15)
triggerall = MoveContact
trigger1 = Var(17) = 510
trigger2 = Var(17) = 1700
v = 17
value = (510)*!(GameTime%4) + (1700)*!!(GameTime%4)

[State 0, Var AI Run In]
type = VarSet
triggerall = Var(15)
triggerall = random < Var(15)*2
trigger1 = Var(17) = -1
trigger1 = Map(P2Proxy) >= map(AIIdealRange) * 1.5
trigger2 = Var(17) = 200 && Map(P2Proxy) > 48
v = 17
value = 100

[State 0, Var AI Defense]
type = VarSet
triggerall = Var(15); && Var(17) = -1
triggerall = random < Var(15)
triggerall = StateType != A
trigger1 = Ctrl && EnemyNear,MoveType = A
trigger2 = StateNo = [5000,6000) || StateNo = [1000,3000) && MoveType = H
trigger3 = StateNo = [120,160) && EnemyNear,MoveType = A
v = 17
value = 120
[State 0, Var AI Back Dash]
type = VarSet
triggerall = Var(15) && Var(17) = -1
triggerall = Var(10) < 2
trigger1 = random < Var(15) * 2
trigger1 = Ctrl && Map(WakeUpInvul) && EnemyNear,MoveType = A
trigger2 = random < Var(15) * 0.25
trigger2 = Map(P2Proxy) + 32 <= 16 + map(AIIdealRange) * 0.5
trigger2 = EnemyNear,MoveType != H
trigger2 = !(EnemyNear,StateNo = [200,3000) && EnemyNear,MoveType = I)
v = 17
value = 105

[State 0, Var AI Jab]
type = VarSet
triggerall = Var(15) && Var(17) = -1
triggerall = Map(LightChain)
triggerall = random < Var(15) * 1.1
trigger1 = Map(P2Proxy) <= 32 + map(AIIdealRange) * 0.25
trigger1 = Pos Y + const(size.mid.pos.y) < EnemyNear,Pos Y * 2
trigger1 = !(EnemyNear,StateNo = [5100,5210] || EnemyNear,StateType != L) || (EnemyNear,StateNo = 5120 || EnemyNear,StateNo = 5200) && EnemyNear,AnimTime >= -3
trigger2 = StateNo = 200 || StateNo = 300 || StateNo = 400 || StateNo = 500
trigger3 = StateNo = [150,160) && EnemyNear,MoveType = I
trigger4 = StateNo = [100,102] && Map(P2Proxy) <= 24 + map(AIIdealRange) * 0.1
trigger5 = EnemyNear,MoveType = H && EnemyNear,StateNo = [5000,5100) && Map(P2Proxy) <= 48 + map(AIIdealRange) * 0.25
v = 17
value = 200

[State 0, Var AI Block Mix]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15)
trigger1 = MoveGuarded && StateNo = [200,800)
v = 17
value = 1700

[State 0, Var AI Grounded Extending Special]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15)
trigger1 = Var(14) = 205 && MoveHit
trigger1 = EnemyNear,StateType != A
trigger2 = random < Var(15)
trigger2 = StateType = A && EnemyNear,StateType = A
trigger2 = StateNo = 610 || StateNo = 710
trigger2 = MoveHit
v = 17
value = 1600

[State 0, Var AI Midrange Approach]
type = VarSet
triggerall = Var(15)
trigger1 = Var(17) = -1 || Var(17) = 100
trigger1 = random < Var(15) * 0.25
trigger1 = Map(P2Proxy) = [map(AIIdealRange)*0.5,map(AIIdealRange)*3]
v = 17
value = 1400

[State 0, Var AI Reversal Special]
type = VarSet
triggerall = Var(15)
trigger1 = Var(17) = -1
trigger1 = random < Var(15) * 0.25
trigger1 = Map(P2Proxy) <= 32 + map(AIIdealRange) * 0.1
trigger1 = EnemyNear,MoveType = A && Map(WakeUpInvul)
trigger2 = Var(17) = 120
trigger2 = random < Var(15) * 0.125
trigger2 = Map(P2Proxy) <= 32 + map(AIIdealRange) * 0.1
trigger2 = EnemyNear,MoveType = A && Ctrl
v = 17
value = 1300

[State 0, Var AI Combo Ender Special]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15)
trigger1 = Var(14) = 205 && MoveHit
trigger1 = EnemyNear,StateType = A
trigger2 = random < Var(15) * 0.125
trigger2 = Var(14) = [205,210] && MoveHit
v = 17
value = 1200

[State 0, Var AI AntiAir Special]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15) * 0.5
trigger1 = Map(P2Proxy) <= 32 + map(AIIdealRange) * 0.1
trigger1 = EnemyNear,Pos Y + EnemyNear,Vel Y = [-16,-64]
v = 17
value = 1100

[State 0, Var AI Zoner Special]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15)
trigger1 = Map(P2Proxy) >= 64 + map(AIIdealRange) * 0.25
v = 17
value = 1000

[State 0, Var AI Setup]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15) * 0.5
trigger1 = Map(P2Proxy) >= 64 + map(AIIdealRange) * 0.25
trigger2 = random < Var(15)
trigger2 = EnemyNear,StateNo = [5100,5110]
v = 17
value = 900

[State 0, Var AI Walk Up Grab]
type = VarSet
triggerall = Var(15) && Var(17) = -1 || Var(17) = 1700
trigger1 = random < Var(15) * 0.5
trigger1 = Map(P2Proxy) <= 48
trigger1 = EnemyNear,MoveType = I
;trigger2 = random < Var(15) * 2
;trigger2 = EnemyNear,StateNo = [120,160)
v = 17
value = 800

[State 0, Var AI AntiAir Button]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15) * 0.25
trigger1 = Map(P2Proxy) <= 32 + map(AIIdealRange) * 0.1
trigger1 = EnemyNear,Pos Y + EnemyNear,Vel Y = [-32,-64]
v = 17
value = 410

[State 0, Var AI Sweep Button]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15) * 0.125
trigger1 = Map(P2Proxy) = [map(AIIdealRange)-8,map(AIIdealRange)+8]
trigger1 = EnemyNear,StateType != A && EnemyNear,MoveType != H
trigger2 = EnemyNear,StateNo = 5109 && EnemyNear,Time > 8
trigger2 = random < Var(15)
trigger2 = Map(P2Proxy) <= 48 + map(AIIdealRange) * 0.2
v = 17
value = 510

[State 0, Var AI Quick Command Normal]
type = VarSet
triggerall = Var(15) && Var(17) = -1
trigger1 = random < Var(15)
trigger1 = !(StateNo = 200 || StateNo = 300 || StateNo = 400 || StateNo = 500)
trigger1 = StateNo = [200,600) && MoveContact
trigger1 = Var(14) != 205
v = 17
value = 205

[State 0, Var AI Heavy]
type = VarSet
triggerall = Var(15) && (Var(17) = -1 || Var(17) = 200 && MoveContact)
trigger1 = random < Var(15) * 0.35
trigger1 = Map(P2Proxy) = [64,64 + map(AIIdealRange) * 0.75]
trigger2 = !Map(LightChain) || StateType = A || Name = "WALL" || Name = "WALX" || Name = "WALK" || Name = "ISAB" || Name = "ISAX" || Name = "ISAK" || Name = "TYRA" || Name = "TYRX" || Name = "TYRK"
trigger2 = random < Var(15)
trigger2 = StateNo = 200 || StateNo = 300 || StateNo = 400 || StateNo = 500 || StateNo = 600 || StateNo = 700
v = 17
value = 210

[State 0, Var AI Jump In]
type = VarSet
triggerall = Var(15) && Var(17) = -1
triggerall = random < Var(15)*2
trigger1 = P2Dist Y < -64
v = 17
value = 40
[State 0, Var AI Run In]
type = VarSet
triggerall = Var(15)
triggerall = random < Var(15)*2
trigger1 = Var(17) = 200 && Map(P2Proxy) > 48 + map(AIIdealRange) * 0.25
v = 17
value = 100

[State 0, Var AI Reset]
type = VarSet
triggerall = Var(15) && Var(17) > 0
trigger1 = Var(17) != 120 && MoveType = H
trigger2 = Var(17) = [200,800) && StateNo = [200,800) && !MoveContact
trigger3 = Var(17) = 120 && EnemyNear,MoveType != A
trigger4 = Var(17) = 105 && StateNo = [105,107]
v = 17
value = 0

[State 0, AssertSpecial]
type = AssertInput
trigger1 = Var(15) && Var(17) = 120
flag = L
[State 0, AssertSpecial]
type = AssertInput
trigger1 = Var(15)
trigger1 = Var(17) = 20 || Var(17) = 800
flag = R
[State 0, AssertSpecial]
type = AssertInput
trigger1 = Var(15) && Var(17) = 120
trigger1 = enemynear,hitdefattr = C,AA,AP
flag = D

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Var(15) && Var(17) != 40 && Random < Var(15) * 0.9
flag = nojump

;============================
; VAR 22 - POTENTIAL LIFE
;============================

[State 0, VarSet P.Life Heal]
type = LifeAdd
triggerall = !Var(54) && !EnemyNear,Var(54)
triggerall = RoundState = 2
triggerall = MoveType != H
trigger1 = Var(22) > Life
trigger1 = Var(23) <= 0
trigger1 = GameTime%3 = 0
value = 1
absolute = 1
ignorehitpause = 1

;============================
; VAR 25 - GUARD METER
;============================

[State 0, Var Guard Meter Default]
type = VarSet
trigger1 = RoundState = 0 && Var(25) != 1000
v = 25
value = 1000
[State 0, MapSet]
type = MapSet
triggerall = Map(HeartbreakerReady) != 1
trigger1 = RoundState = 0
trigger2 = Var(25) >= 995
map = "HeartbreakerReady"
value = 1

;============================
; VAR 30 - AFTERIMAGE
;============================

[State 0, Helper]
type = Helper
trigger1 = Var(30)
trigger1 = !NumHelper(2990)
trigger1 = !(Name="LUCK"&&NumHelper(990))
name = "AfterImage1"
ID = 2990
stateno = 2990
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 66666
pausemovetime = 66666
[State 0, Helper]
type = Helper
trigger1 = Var(30)
trigger1 = !NumHelper(2991)
trigger1 = !(Name="LUCK"&&NumHelper(990))
name = "AfterImage2"
ID = 2991
stateno = 2991
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 66666
pausemovetime = 66666

[State 0, Var SuperTrail Turn Off]
type = VarSet
triggerall = Var(30)
triggerall = Name != "AJIX" && Name != "TSUG" && Name != "TSUX" && Name != "TSUK" && Name != "IKUK" && Name != "BOUK" && Name != "BAXT" && Name != "TERI" && Name != "TERK" && Name != "JANX" && Name != "GOLK" && Name != "NECX" && Name != "TYRX"
trigger1 = Var(30) > 1
trigger1 = StateNo != [2000,3000)
trigger2 = MoveType = H
trigger3 = Var(30) = 1 && !Var(11)
trigger4 = Name="LUCK" && NumHelper(990)
v = 30
value = 0

;============================
; VAR 33, 34, 35 - VOICE
;============================

[State 0, VarSet]
type = VarRangeSet
trigger1 = RoundState = 0
trigger1 = Var(33) >= 0 || Var(34) >= 0
first = 33
last = 34
value = -1

[State 0, Snd Voice]
type = PlaySnd
triggerall = Life > 0
triggerall = Var(58) != 3
triggerall = !(Var(33)<5000&&StateNo=[5000,6000])
trigger1 = Var(33) != -1
trigger1 = Var(34) != -1
value = S 10000+Var(33),Var(34)
channel = ifelse(Var(33)=5000&&RoundState=2,8,0)
freqmul = 0.975 + 0.05 * (Random*0.001); + (2 + random%5) * 0.1 * (-1+2*(random%2))
volumescale = const(BC.VoiceVolume)
ignorehitpause = 1

[State 0, Snd Voice Kahl Pain]
type = PlaySnd
triggerall = Life > 0
triggerall = Var(58) = 3
trigger1 = Var(33) = [5000,6000) || Var(33) = 170
trigger1 = Var(34) != -1
value = F 15000,random%10
freqmul = 0.9 + 0.2 * (Random*0.001)
channel = 8
ignorehitpause = 1
[State 0, Snd Voice Kahl Generic Shout]
type = PlaySnd
triggerall = Var(58) = 3
trigger1 = Var(33) = [200,3000) || Var(33) = 160
trigger1 = Var(34) != -1
value = F 10200,random%10
freqmul = 0.9 + 0.2 * (Random*0.001)
channel = 0
ignorehitpause = 1
[State 0, Snd Voice Kahl Taunt]
type = PlaySnd
triggerall = Var(58) = 3
trigger1 = Var(33) = (160,170) || Var(33) = 5380
trigger1 = Var(34) != -1
value = F 10165,0
freqmul = 0.9 + 0.2 * (Random*0.001)
channel = 0
ignorehitpause = 1
[State 0, Snd Voice Kahl Craze Cancel]
type = PlaySnd
triggerall = Var(58) = 3
trigger1 = Var(33) = 3000
trigger1 = Var(34) != -1
value = F 13000,random%4
freqmul = 0.9 + 0.2 * (Random*0.001)
channel = 0
ignorehitpause = 1
[State 0, Snd Voice Kahl Win]
type = PlaySnd
triggerall = Var(58) = 3
trigger1 = Var(33) = [180,190)
trigger1 = Var(34) != -1
value = F 10180,random%4
freqmul = 0.9 + 0.2 * (Random*0.001)
channel = 0
ignorehitpause = 1

[State 0, Var Voice Time]
type = VarSet
trigger1 = Var(33) != -1
trigger1 = Var(34) != -1
v = 35
value = 600 + (MoveType != H) * 600
ignorehitpause = 1
[State 0, Var Voice Reset]
type = VarRangeSet
trigger1 = Var(33) != -1
trigger1 = Var(34) != -1
value = -1
first = 33
last = 34
ignorehitpause = 1
[State 0, Var Voice Timer]
type = VarAdd
triggerall = Name != "TRAI"
trigger1 = Var(35) > 0
v = 35
value = max(var(35)*-1,-10)
ignorehitpause = 1

;========================================================
; VAR 51, 52, 53 - COMBO COUNTER
;========================================================

[State 0, Var Combo Timer Countdown]
type = VarAdd
trigger1 = Var(52) >= 64
trigger2 = Var(52) > 0 && Var(51) = 0
trigger3 = Var(52) > 0 && EnemyNear,StateType = L
v = 52
value = -1 - (RoundState>2)
ignorehitpause = 1

[State 0, Var Combo Count]
type = VarAdd
trigger1 = MoveHit
trigger1 = Var(8) = 1
trigger1 = HitDefAttr != sca,at
trigger1 = EnemyNear,StateNo != 5310 && StateNo != 160
trigger1 = RoundState = 2
v = 51
value = 1
ignorehitpause = 1
[State 0, Var Combo Timer Hit]
type = VarSet
trigger1 = Var(51) != Var(53)
trigger1 = Var(51) >= 1
v = 52
value = 128
ignorehitpause = 1

[State 0, Var Combo Readout]
type = VarSet
trigger1 = Var(52) >= 127
v = 53
value = Var(51)
ignorehitpause = 1

[State 0, Var Combo Reset]
type = VarSet
triggerall = Var(51) > 0
trigger1 = enemynear,stateno = [0,5000)
trigger1 = enemynear,movetype != H
trigger2 = enemynear,stateno = [120,160)
trigger3 = enemynear,stateno = 5120 || enemynear,stateno = [5081,5082]
trigger4 = enemynear,stateno = [5200,5210]
v = 51
value = 0
ignorehitpause = 1

;========================================================
; VAR 54 - SUPER PAUSE NOTIFIER
;========================================================

[State 0, Var SuperPause Reduce]
type = VarAdd
trigger1 = Var(54) > 0
v = 54
value = -1

;===========================================
; FULL GAME FUNTIMES: ARCADE DIALOGUE
;===========================================

[State 0, Map Dialogue Off]
type = MapSet
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0
trigger1 = GameMode != "arcade"
trigger2 = TeamSide != 1
map = "ArcadeDialogue"
value = 0
[State 0, Map Dialogue On]
type = MapSet
triggerall = !Map(ArcadeDialogue)
triggerall = RoundState = 0
triggerall = GameMode = "arcade"
triggerall = TeamSide = 1
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"||enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
trigger2 = name="AJIT"||name="AJIX"||name="AJIK"
trigger2 = enemy,name="TSUG"||enemy,name="TSUX"||enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
trigger3 = name="TSUG"||name="TSUX"
trigger3 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"||enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
trigger4 = name="TSUK"
trigger4 = enemy,name="TSUG"||enemy,name="TSUX"||enemy,name="REAK"||enemy,name="TERI"||enemy,name="TERX"||enemy,name="TERK"
trigger5 = name="SHER"||name="SHEX"
trigger5 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"||enemy,name="TSUG"||enemy,name="TSUX"||enemy,name="SHEK"
trigger6 = name="SHEK"
trigger6 = enemy,name="SHER"||enemy,name="SHEX"||enemy,name="JUSK"
trigger7 = name="WALL"||name="WALX"||name="WALK"
trigger7 = enemy,name="JUST"||enemy,name="JUSX"||enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
trigger8 = name="REAP"||name="REAX"
trigger8 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"||enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
trigger9 = name="REAK"
trigger9 = enemy,name="REAP"||enemy,name="REAX"||enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
trigger10 = name="JUST"||name="JUSX"
trigger10 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"||enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"
trigger11 = name="JUSK"
trigger11 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"||enemy,name="SHEK"
trigger12 = name="BOUN"||name="BOUX"||name="BOUK"
trigger12 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"||enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
trigger13 = name="BAXT"||name="BAXX"||name="BAXK"
trigger13 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"||enemy,name="REAP"||enemy,name="REAX"
trigger14 = name="CICI"||name="CICX"||name="CICK"
trigger14 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"||enemy,name="REAP"||enemy,name="REAX"
trigger15 = name="GOLI"||name="GOLX"||name="GOLK"
trigger15 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"||enemy,name="TSUG"||enemy,name="TSUX"
trigger16 = name="NECC"||name="NECX"||name="NECK"
trigger16 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"||enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
trigger17 = name="EMIC"||name="EMIX"||name="EMIK"
trigger17 = enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"||enemy,name="TSUG"||enemy,name="TSUX"
trigger18 = name="LUCY"||name="LUCX"||name="LUCK"
trigger18 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"||enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
trigger19 = name="GABB"||name="GABX"||name="GABK"
trigger19 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
trigger20 = name="ISAB"||name="ISAX"||name="ISAK"
trigger20 = enemy,name="EMIC"||enemy,name="EMIX"||enemy,name="EMIK"||enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
trigger21 = name="TYRA"||name="TYRX"||name="TYRK"
trigger21 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"||enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"||enemy,name="REAK"
trigger22 = name="IKUE"||name="IKUX"||name="IKUK"
trigger22 = enemy,name="TERI"||enemy,name="TERX"||enemy,name="TERK"||enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
trigger23 = name="TERI"||name="TERX"||name="TERK"
trigger23 = enemy,name="BERN"||enemy,name="BERX"||enemy,name="BERK"||enemy,name="TSUG"||enemy,name="TSUX"
trigger24 = name="BERN"||name="BERX"||name="BERK"
trigger24 = enemy,name="JANE"||enemy,name="JANX"||enemy,name="JANK"||enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
trigger25 = name="JANE"||name="JANX"||name="JANK"
trigger25 = enemy,name="IKUE"||enemy,name="IKUX"||enemy,name="IKUK"||enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
map = "ArcadeDialogue"
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = RoundState <= 1
trigger1 = StateNo = 0 && Time <= 8
trigger1 = Map(ArcadeDialogue)
flag = intro
[State 0, VarSet]
type = VarSet
trigger1 = Map(ArcadeDialogue)
trigger1 = RoundState >= 4 && Win && MatchOver
v = 20
value = -128

;===========================================
; FULL GAME FUNTIMES: ARCADE INTRO DIALOGUE
;===========================================
[State 191, Dialogue] ; Ajit > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>...I'VE BEEN EXPECTING YOU, AJIT SINHA. FOR LONGER THAN YOU THINK."
text2 = "<p1>...You. The dream I had predicted someone like you would show up. I thought if I acted soon enough, I could stop this before it had a chance to begin."
text3 = "<p2>'PREDICTED' DOES NOT MEAN 'DESTINY'. I'VE KNOWN ABOUT YOU SINCE THE DAWN OF MAN."
text4 = "<p2>THE LION HUNTS OF ASHURBANIPAL WAS MORE THAN GLORIFYING ASSYRIAN RULERS, IT WAS THE SIGN THAT WE WOULD BE DESTINED TO BATTLE FOR THIS PLANET!"
text5 = "<p1>...If there is anything I do know, even in a world where things just happen, I still have some power to make change!"
text6 = "<p2>OF COURSE. ALL CHANGE IS BASED IN CONFLICT, AND THAT IS MY PROMISE TO THIS WORLD - FOR THE BETTER OF THIS PLANET, ALL WILL BE RULED UNDER MY THRONE!"
text7 = "<p2>THE STRONG WILL STRIVE, THE WEAK SHALL PERISH! AS WITH ALL WORLDS IN THIS UNIVERSE!"
text8 = "<p1>There will be no prosperity from a world run by a mad tyrant! If the fate of the world is on my shoulders, then it is a weight I am willing to bear!"
text9 = "<p2>TYRANT... A FITTING TITLE..."
[State 191, Dialogue] ; Ajit > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Congratulations on winning the Battle Craze Tournament Series, Ajit Sinha."
text2 = "<p1>Thanks. Look, you may not believe me at first but-"
text3 = "<p2>The cash prize is yours, as well as the first place trophy."
text4 = "<p1>That's nice, but I need to speak. Something HORRIBLE is-"
text5 = "<p2>And as tradition, the champion's belt will be earned in one last showdown against the host."
text6 = "<p1>I KNOW. My mentor told me this! Isabella, you need to LISTEN-"
text7 = "<p2>And as the host, I, Isabella Marisa Gardet, will take on the challenger, fair and square, to end off another exciting year of Battle Craze!!"
text8 = "<p1>There's only one way she's gonna listen. But this will waste a lot of time. Dammit, I have no choice!"
[State 191, Dialogue] ; Ajit > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>So, it all comes down to this."
text2 = "<p2>I didn't think I'd be here in the finals, at least back when we were kids."
text3 = "<p1>We've come a long way, no matter how uncertain the future is."
text4 = "<p2>Yeah, and no other person I'd share that road with but you."
text5 = "<p1>Thanks, but you know why I'm also here."
text6 = "<p2>I didn't forget! But I didn't climb up the tournament ladder just to lose here!"
text7 = "<p1>I knew you'd say that. Put your dukes up one last time, and let's go!"

[State 191, Dialogue] ; Ajit > GABBY
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p1>Gah! You again?"
text2 = "<p2>Who else but GABBY?"
text3 = "<p1>This isn't right, something about you feels... tangible? What are you?"
text4 = "<p2>I just told you! I'm here on a mission to GET YOU. Mistress Cecropia won't have it any other way, and I'll do it by ANY MEANS NECESSARY."
text5 = "<p1>Cecropia? Your boss, I'm assuming? There is more to this than I thought... But regardless, you need to be stopped!"
text6 = "<p2>Aw, I thought we were getting along quite nicely?"
text7 = "<p1>You think waking up to whatever horror you do is 'nice'? It's been affecting my sleep, and I need to fix that now! Too much is at stake for me to succumb to sleep deprivation!"

[State 191, Dialogue] ; Tsug > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>DEEP IN YOUR HEART, YOU KNOW YOU DON'T HAVE THE POWER TO DEFEAT ME. YOU SHOULD HAVE STUCK BY YOUR FRIEND'S SIDE WHEN YOU HAD THE CHANCE!"
text2 = "<p1>All that I've trained for comes down to this. You think I'm going to throw in the towel to a kaiju reject like you?"
text3 = "<p2>MASKING YOUR DOUBT IS AN UNRELIABLE TACTIC. FEAR WILL ALWAYS FIND CONTROL IN THE SAFEST CHASMS OF YOUR MIND!"
text4 = "<p1>I've accepted my demons! Such fears never leave anyone, so we work with them, not against them! I'm going to use my demons on you!"
text5 = "<p2>I'D LIKE TO SEE YOU TRY, FOR I KNOW YOUR DEMONS ARE NOTHING BEFORE ME!"
[State 191, Dialogue] ; Tsug > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>You've managed to climb back from defeat and become the Battle Craze finalist. You have my utmost respect."
text2 = "<p1>Honestly, fighting in this tournament means a lot more to me than MMA. The experience, the people, the places... It's all wonderful."
text3 = "<p2>That is the blood of Battle Craze, to share the whole world's culture and martial arts in one place!"
text4 = "<p1>I thank you for it, but there is some unfinished business we need to take care of. Winning might not be important in the end, however, that belt would look great on me!"
text5 = "<p2>There's only one way you're wearing it. There's no time to waste!"
[State 191, Dialogue] ; Tsug > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="AJIT" || enemy,name="AJIX" || enemy,name="AJIK"
hidebars = 0
text1 = "<p1>It all comes down to this."
text2 = "<p2>I had a feeling that we would be the two finalists. Although, only one of us is gonna earn that champion title."
text3 = "<p1>There's a lot more on the line than just that. I have my pride at stake, I have to win to prove myself once again!"
text4 = "<p2>I know. I have my own trials to go through, which is why I'm not gonna hold back, even for a friend."
[State 191, Dialogue] ; Tsug > Goliath
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"
hidebars = 0
text1 = "<p1>A... giant beetle?"
text2 = "<p2>(THIS HUMAN HAS CAUGHT SIGHT OF ME. IT IS TIME FOR BATTLE!)"
text3 = "<p1>I've never fought ANYTHING like this before... c'mon Tsugumi. Keep it together, you can do this."
text4 = "<p2>(YES, MAKE THIS MORE PERSONAL! I'M GETTING PUMPED!)"

[State 191, Dialogue] ; Robo-Tsug > Tsug
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p2>Where do you think you're going? You have to explain that getup, it's the exact same as mine!"
text2 = "<p1>I DUNNO, MY SISTER GAVE IT TO ME AS A BIRTHDAY PRESENT."
text3 = "<p2>I call bull... that's the same reason why I got this outfit!"
text4 = "<p1>SMALL WORLD, HUH? AND LET ME GUESS, YOUR SISTER IS ALSO NAMED ROBO-HOTSUKI?"
text5 = "<p2>Just Hotsuki. This all can't be a coincidence... Are you built to replace me?"
text6 = "<p1>�I DON'T THINK SO. BOXING WASN'T EVEN MY CALLING, IT JUST INSTALLED INTO MY HARD DRIVE BY ACCIDENT, BEEP BEEP."
text7 = "<p2>And your fondness for chickens as well?"
text8 = "<p1>CHICKENS? I HATE CHICKENS."
text9 = "<p2>You�re evil... I'm going to shut you down for good!"
[State 191, Dialogue] ; Robo-Tsug > Emi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUK"
trigger1 = enemy,name="EMIC"||enemy,name="EMIX"||enemy,name="EMIK"
hidebars = 0
text1 = "<p2>Here I am! Emiko Hattori! On St-wait hold on... Tsugumi? What happened to you?"
text2 = "<p1>NO, NOT TSUGUMI. ROBO-TSUGUMI. BEEP BEEP."
text3 = "<p2>Oh geeze, my worst fears come to life... the robots are taking over"
text4 = "<p1>I'M NOT HERE TO TAKE OVER HUMANITY LIKE SOME KIND OF DICTATOR. I'M HERE TO BECOME THE BIGGEST POPSTAR THE SURFACE WORLD HAS EVER KNOWN!"
text5 = "<p2>You're not gonna fool me! Deadly AI must be stopped!"
text6 = "<p1>I KNOW WHAT NEEDS STOPPING, YOUR SHITTY MUSIC THAT'S WHAT."
text7 = "<p2>They're evolving faster than we can adapt! They're learning our preference in music!"
[State 191, Dialogue] ; Robo-Tsug > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>SO I HEARD THERE'S THIS BIG CASH PRIZE IF I WIN. YOU MIGHT AS WELL FORFEIT IT NOW, BEEP BEEP."
text2 = "<p2>But you didn't win this tournament yet? Hold on a second... aren't you that boxing girl? Or a fake?"
text3 = "<p1>IT'S A LONG AND COMPLICATED STORY THAT I DON'T WANNA BORE YOU WITH. C'MON, CUT ME SOME SLACK."
text4 = "<p2>Um, alright? Just know if you win, it'll be forfeit if you are impersonating her."
text5 = "<p1>DON'T CARE, BEEP BEEP."

[State 191, Dialogue] ; Robo-Tsug > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TSUK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>HEY, ROBO-AJIT TOLD ME THIS ALREADY HAPPENED, BEEP BEEP."
text2 = "<p2>...INTERESTING. A SPECIES DATING BACK TO THE DAWN OF MAN, AND YET, I DO NOT RECOGNIZE YOU IN THE SLIGHTEST."
text3 = "<p1>WELL, SOON YOU WILL KNOW MY NAME AND MY CLAIM TO FAME. I'M GOING ON AN ALL-OUT WAR TO GET THAT SPOTLIGHT!"
text4 = "<p2>HMPH, NO WONDER WHY I DON'T REMEMBER YOU. I FEEL NO PITY IN SNUFFING YOU AND YOUR KIN OUT!"

[State 191, Dialogue] ; Sherm > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p1>(I think I recognize this guy too. A newspaper article...? No, definitely an online one. The martial arts kid who can see into the future. Ask him for a match, but this time, introduce yourself first.)"
text2 = "<p1>Hey you! I-"
text3 = "<p2>You are Sherm Usagi, an up and coming martial artist and pro fighting game player, right?"
text4 = "<p1>So it is true, you CAN see into the future..."
text5 = "<p2>Sometimes, yes, but that I recall from Tsugumi. She told me about you earlier."
text6 = "<p1>Told you what?"
text7 = "<p2>You are very unorthodox, but somehow strong. I'm interested to see what you can do, up close and personal."
text8 = "<p1>Well, what are we waiting for? Let's rock!"
[State 191, Dialogue] ; Sherm > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>(I think I recognize this girl from somewhere... That's right! I saw her on TV a while back. I think she's famous. I should go up to her and ask for a match. Don't lose your cool, Sherm Usagi!)"
text2 = "<p2>You need something?"
text3 = "<p1>Uuuuuuh, you wanna fight?"
text4 = "<p2>You've been eyeing me this whole time just to ask me to kick your ass? Alright, fine!"
text5 = "<p1>Look, I'm trying to be more social! (Way to go, Sherm Usagi. Hey, I tried my best!)"
[State 191, Dialogue] ; Sherm > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>The tourney organizer. At least we meet!"
text2 = "<p2>I... don't think you even registered for this tournament. I never saw your name in the listings."
text3 = "<p1>It was last second, and I got dropped in the deadpool. But look at me now! I didn't drown in pools, and I made it all the way here fair and square, right?"
text4 = "<p2>Hmmmm, I'm going to have to take a look at the tournament registry again, but since you're here, I might as well spar with you. We're short on time, and we can't redo this whole perfomance."
text5 = "<p1>Well, what are we waiting for? I'm gonna prove myself as the king of fighters, right here, right now!"

[State 191, Dialogue] ; Sherm > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>I shoulda known there was gonna be some freaky supernaturals going on. This is why I do grassroot events mostly."
text2 = "<p2>YOU WERE THE ONE WHO MADE IT THIS FAR? WELL, THAT IS IMPRESSIVE BY HUMAN STANDARDS."
text3 = "<p1>Aww, you're making me blush...wait, human standards?"
text4 = "<p2>HUMANITY REFUSES TO ADMIT ITS NEED TO FIGHT. IT IS THE ONE THING HALTING THEM FROM TRUE GREATNESS AND PROSPERITY. THAT FIGHT STARTS NOW, BETWEEN AN EMPEROR AND... WHATEVER YOU ARE."
text5 = "<p1>I don't quite get what you're saying, but since you trashed this whole place, it shouldn't mean anything good! I'll show the world that I'm a real world warrior!"
text6 = "<p2>YOU REFUSE TO LISTEN? OR DO YOU FAIL TO USE YOUR BRAIN?"

[State 191, Dialogue] ; Evil Sherm > Sherm
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHEK"
trigger1 = enemy,name="SHER"||enemy,name="SHEX"
hidebars = 0
text1 = "<p2>Sup."
text2 = "<p1>Why are you still here? I thought I purged myself of such weakness long ago!"
text3 = "<p2>Like, a few days? Yeah, not happening. Look, I'm here telling you it's never too late to change for the better."
text4 = "<p1>I will not! Not since I have this power I wield! And why do you keep whispering to me! Yell, dammit!"
text5 = "<p2>I thought it'd calm you down, since you're me. But I guess I'll have to face myself to prove my point!"
text6 = "<p1>You have no points! You are but a circle to my pyramid!"
[State 191, Dialogue] ; Evil Sherm > tirania
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHEK"
trigger1 = enemy,name="JUSK"
hidebars = 0
text1 = "<p2>..."
text2 = "<p1>�...Hmph. You know evil, but you aren't TRUE evil."
text3 = "<p2>...Nah, I don't think so. I'm the purest kind of evil there is, true brutality and a lack of kindness! I trash wimps like you for kicks!"
text4 = "<p1>And yet, there is something you refuse to let go. I will TEAR whatever you latch onto from your facade and chew it to pieces!"
[State 191, Dialogue] ; Evil Sherm > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHEK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>How has security not gotten you out of here? Use of steroids and any other performance enhancing drug is against the rules!"
text2 = "<p1>There are no rules, or performance enhancing drugs in MESSATSU. "I can tear through Heaven and Earth with just the motion of my body!" Do you know who said that?"
text3 = "<p2>...How did you get this power? I thought Michael was rid of this evil influence?"
text4 = "<p1>A happy coincidence, as MESSATSU, or as you call it, the World Rending Fist, will always live on to those who embrace the evil of this world!"
text5 = "<p2>An unwavering resolve is enough to cut this darkness from your heart! You will regret echoing Michael like that, and slandering his name!"

[State 191, Dialogue] ; Evil Sherm > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="SHEK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>THIS IS THE SECOND TIME I'VE SEEN THE WORLD RENDING FIST IN ACTION. HOW CAN A FOOL LIKE YOURSELF LEARN THIS POWER?"
text2 = "<p1>Embracing MESSATSU! I will destroy you not to save the world, but so I can destroy it instead of you!"
text3 = "<p2>I PLANNED TO KEEP THIS PLANET ALIVE, I HAVE BIG PLANS FOR THOSE THAT LIVE HERE. DESTROYING WITHOUT PURPOSE IS AIMLESS, AND THAT IS WHY YOU WILL NOT LIVE TO SEE TOMORROW!"
text4 = "<p1>But ruling all others is aimless in its own right! If you get to the top, then what else is there to do?"
text5 = "<p2>ASK YOURSELF THAT AFTER YOU KILL EVERYONE, IDIOT."

[State 191, Dialogue] ; Wallace > justicia
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="JUST"||enemy,name="JUSX"
hidebars = 0
text1 = "<p1>The new age of wrestling dies here! I'm a little disheartened, but I commissioned a coffin just for the occasion!"
text2 = "<p2>Kinda a small coffin if you ask me. It's a little slim for a figure as bulky as yours!"
text3 = "<p1>Heh, if you think you're gonna stop me, you'd be DEAD wrong!"
text4 = "<p2>Don't knock it until we try it! Time to deliver my marigolds of justice to your front porch!"
[State 191, Dialogue] ; Wallace > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p1>Find anything, in your case?"
text2 = "<p2>I've been sidetracked. I haven't found much on the whereabouts of our 'old friend'. Mina's getting worried that this is all for naught."
text3 = "<p1>It's at least good to get out of the office sometimes."
text4 = "<p2>Such mantras are true, but since I'm in the mood thanks to this tournament, I wouldn't mind sparring with you Wally."
text5 = "<p1>Are you sure? I don't hold back, kid, and it's gonna hurt me more-"
text6 = "<p2>-than it hurts you, I know. But I'm more than capable of handling you. Let's go."
[State 191, Dialogue] ; Wallace > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Payment? You've been hired to kill me, haven't you?!"
text2 = "<p1>Yes, I have! I feel bad, since you're doing a very good job keeping this tournament in shape, unlike the other hosts!"
text3 = "<p2>You were probably there to kill them too! Anyone who DARES lay a hateful hand on my family deserves no mercy from me!"
text4 = "<p1>That's what I like to see, the hate in your eyes before you plummet to Hell!"

[State 191, Dialogue] ; Wallace > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>Hey, she was mine!"
text2 = "<p2>IF YOU TRULY WANT A CHALLENGE, THEN I AM HERE FOR THE FATE OF THIS PLANET!"
text3 = "<p1>Oooh. For once, my body tingles at this fight. I haven't felt this way since Gigant the Tower."
text4 = "<p2>I AM NOT UNLIKE ANY TOWER YOU'VE TOPPLED BEFORE. I'M THE WHOLE FORTRESS AND ITS UNIT!"
text5 = "<p1>Whatever you wanna call it, I'm getting excited! I can have one over Rudolph for once, since I'll be a god-slayer in a few minutes!"
text6 = "<p2>SUCH A TALENT WOULD BE WORTHY FOR MY BATTALION, IF YOU CAN EVEN LAY A SCRATCH ON ME! WILL YOU MAKE MY RANK, OR RETURN TO THE STAGNANT HELL FROM ONCE YOU CAME?"

[State 191, Dialogue] ; Reaper > Baxter
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"
hidebars = 0
text1 = "<p1>You've got some nerve showing your face around me."
text2 = "<p2>I'd say the same to you. Them blokes at BioCorps have been lookin' for your sodding arse along with mine! They'd boil the both of us down to nothin' if they find us!"
text3 = "<p1>I still carry the burden of existing, while you have blood on your hands. You have the larger target on your back."
text4 = "<p2>Hey! Don't think I don't have that same burden! You and I are more alike than you think, and I'm gonna prove it, here and now!"
[State 191, Dialogue] ; Reaper > Ci-Ci
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
hidebars = 0
text1 = "<p2>Well well well, the old dated model shows his face to try and get a second chance!"
text2 = "<p1>I'm not here to suck up to them. I need you to understand, there is more to us than that company!"
text3 = "<p2>Maybe you've seen some stuff that made you think differently, but BioCorps still has a point to prove in this world!"
text4 = "<p1>And what is that point? Their mission that you fight for?"
text5 = "<p2>..."
text6 = "<p1>I need you to stand down, we can talk this over."
text7 = "<p2>No, you're just trying to convince me to join you! Enough talk, I've had it!"
text8 = "<p1>You're gonna... Alright, I'll make you learn, one way or another."
[State 191, Dialogue] ; Reaper > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Glad to see you've made it to the finals. How have you been faring?"
text2 = "<p1>I've been starting to learn more about myself, where I've come from and what it means to stand for my own truths and ideals."
text3 = "<p2>I'm proud that you've come this far, but I'd like to test your newfound resolve. See if you truly hold these ideas dearly!"
text4 = "<p1>Nothing I can't handle. I'll give it more than 100 percent!"

[State 191, Dialogue] ; Reaper > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>The Devil's Triangle... You were being researched at the site in Greenland?"
text2 = "<p2>THEY THOUGHT THEY COULD TAP INTO MY GODLY POWER TO FUEL THEIR AMBITION. AS I'M FEELING, GENEROUS, I'LL LET YOU HAVE A TASTE TO PUT YOU ON YOUR ONE AND ONLY FATE!"
text3 = "<p1>No! I refuse to be a war machine! For BioCorps or for anyone! I'm the only one who can light the path of my destiny, and my future!"
text4 = "<p2>YOU CHOOSE A LIFE WITH NO VALOR. THERE IS SO MUCH TO BE EARNED, BEING A SOLDIER UNDER MY THRONE!"

[State 191, Dialogue] ; QREAPER > Ci-Ci
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAK"
trigger1 = enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
hidebars = 0
text1 = "<p1>Heh, QUASARS has their eye out on you, for some reason."
text2 = "<p2>QUASARS? Can't say I've heard of them, but if they've bootlegged those worn-out Reaper Units, then bootlegging me is a bigger offense!"
text3 = "<p1>I'd say. You have no worth in this world, to anyone or to me!"
text4 = "<p2>C'mon, don't pull my leg! Clearly, you're drunk on power, and I'm here to wash it all out for you!"
[State 191, Dialogue] ; QREAPER > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p2>...you're not from the site in the Gibraltar Seas. You must be a replica."
text2 = "<p1>I'm going to become the original in a minute. Finally, I can end all my pain when I feel your last breath escape your strangled throat!"
text3 = "<p2>Look, I know it isn't easy to accept this kind of existence, but-"
text4 = "<p1>Dammit, SHUT UP! Sympathy is a weakness, which I'm going to tear out of my mainframe! I will show you no mercy, even if you think of me as your kin!"
text5 = "<p2>It doesn't have to be like this!"
text6 = "<p1>I... don't have a choice!"
[State 191, Dialogue] ; QREAPER > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>You're not the Reaper I know... What are you?"
text2 = "<p1>My creators are not important, but what is... is the fact that I am the one who will crush you to dust!"
text3 = "<p2>You have to explain yourself! Or else I will cut you down!"
text4 = "<p1>I don't have to say squat! I'm going to beat you to a pulp, and I'm going to savor the admiration of all of these people as they kneel before me!"

[State 191, Dialogue] ; QREAPER > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="REAK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>You pretentious little bug! Don't steal my kill!"
text2 = "<p2>HMPH, I AM NOT INTERESTED IN WHAT YOU HAVE TO OFFER, BUT I MUST KNOW ABOUT QUASARS. THEY SEEM... FAMILIAR TO ME."
text3 = "<p1>Like I said to Izzy, I don't have to say squat! If I must kill you to rule this world, then so be it!"
text4 = "<p2>YOU? HAHAHA! YOU SIMPLY CANNOT HANDLE IT! YOU ARE DROWNED IN YOUR OWN DREAMS, A MASK TO HIDE YOUR PAIN!"
text5 = "<p1>This pain makes me stronger! QUASARS saw me as trash, and I want to prove them wrong!"
text6 = "<p2>BUT THAT IS WHAT YOU ARE. AFTER I'M DONE WITH YOU, YOU WILL TELL ME MORE ABOUT YOUR MAKER!"

[State 191, Dialogue] ; justicia >  Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>I am the beacon of justice that shines to eradicate evil! As long as there's a tomorrow, I will always be there to protect the innocent against the guilty!"
text2 = "<p2>Justice this, justice that, it's all nonsense. There is no one who is truly just, simply the weak and the strong!"
text3 = "<p1>Then in your eyes, I will defend those who can't defend themselves against the perpetrators who abuse their power!"
text4 = "<p2>Well then, I'll make you wish you had turned heel years ago!"
[State 191, Dialogue] ; justicia > Boundary
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"
hidebars = 0
text1 = "<p2>Your heroic visage better not be a front. I know very well how the world of wrestling works."
text2 = "<p1>I took Brilho do Sol's mantle for a reason. I want to inspire everyone that they can be their own hero. I want to help in the only way I know how, by shining ever brighter even when the going gets tough!"
text3 = "<p2>I appreciate the speech, but you gotta act on your feelings for them to mean anything. Show me how badly a grapple would hurt against someone who isn't faking it."
text4 = "<p1>If you say so!"
[State 191, Dialogue] ; justicia > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>So, are you really retiring after Battle Craze? I'm going to miss seeing you, being an inspiration to everyone."
text2 = "<p1>I really don't want to do it, truth be told. But I need to pressure my boss to cut me and the other wrestlers some slack. We gotta put on a good show. High enough ratings will catch their attention!"
text3 = "<p2>Whether or not you win or lose? The only way of knowing is just getting down to it!"
text4 = "<p1>Now you're talkin'! As the beacon of hope, la justicia will claim that belt!"

[State 191, Dialogue] ; justicia > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>As the face of kindness, hope and purveyor of righteousness, I fear no opponent! Not even a monster as menacing as you!"
text2 = "<p2>YOUR WORDS HOLD NO MEANING. FAR TOO LONG HAS HUMANITY PREACHED ABOUT KEEPING PEACE, BUT NOTHING HAS BEEN DONE TO UPHOLD IT. I TAKE ACTION NOW TO UNITE THE WORLD IN ONE LAST STRUGGLE!"
text3 = "<p1>I've won the Battle Craze Tournament, my words hold meaning stronger than your babble!"
text4 = "<p2>THEN PROVE IT. IN A SITUATION WHERE YOUR LIFE'S ON THE LINE, AND THE FATE OF THE WORLD IS ON YOUR SHOULDERS, WILL YOU FALTER?"

[State 191, Dialogue] ; tirania > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUSK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>..."
text2 = "<p2>Someone isn't talkative today, unless I'm confusing you for someone else. That other wrestler lady...?"
text3 = "<p1>Let's get this show on the road, your blood will spill today!"
text4 = "<p2>Yeah, you can't be that other wrestler. She wouldn't say something so raw. In fact, that's something I could've said..."
[State 191, Dialogue] ; tirania > Evil Sherm
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUSK"
trigger1 = enemy,name="SHEK"
hidebars = 0
text1 = "<p2>Messatsu!"
text2 = "<p1>Cut the crap. Do you want something out of your evil experience?"
text3 = "<p2>Messatsu?"
text4 = "<p1>Well, I have an offer you can try to refuse, but it'll end up with you at the hospital! So make the right choice, right now!"
text5 = "<p2>...no?"
text6 = "<p1>Then suffer!"

[State 191, Dialogue] ; tirania > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUSK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>..."
text2 = "<p1>..."
text3 = "<p2>...aren't you that-"
text4 = "<p1>No I am not!"

[State 191, Dialogue] ; tirania > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JUSK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>HEH."
text2 = "<p1>...?"
text3 = "<p2>GHAHAHAHAHA! YOU HAVE THE AUDACITY TO COPY MY TITLE?"
text4 = "<p1>It's just a word, geeze?"
text5 = "<p2>ALL THINGS HAPPEN IN THIS WORLD FOR A REASON. WELL THEN, YOUR MANTLE WILL SOON BE TOO HEAVY TO BEAR!"

[State 191, Dialogue] ; Boundary > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p1>Excuse me, miss. I hope I'm not taking up too much of your time, but I was told that you're quite smart."
text2 = "<p2>Any time is too much time, but someone knowing anything about me draws some concern."
text3 = "<p1>I need to know more about a thing called the Devil's Triangle. There's a rumor that something terrible is going to happen at the finals of this tournament."
text4 = "<p2>Sounds more than enough information for you to go there yourself and stop it. It doesn't concern me, you, or that Sinha kid will deal with it. I have my own business to attend to."
text5 = "<p1>He was the one who brought up that rumor. I will kindly ask you for his whereabouts, or contact information."
text6 = "<p2>You really are persistent, aren't you? Asking me for someone's contact information. Fine, we'll throw hands, and if you win, I'll tell you what I know. If you lose, you get nothing."
text7 = "<p1>I don't like going directly to the throwing hands option, but if you insist."
[State 191, Dialogue] ; Boundary > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p1>The Invincible Fist of Fire, Ajit Sinha."
text2 = "<p2>Mr. Warps-A-Lot. I know you're gonna ask me about what's going to happen soon."
text3 = "<p1>It's important. I need to let everyone know so we can keep everyone relatively safe."
text4 = "<p2>Telling them too early is going to cause a panic, or they won't believe it and then it's too late. You're going to have to think this through a bit more, but we're almost out of time."
text5 = "<p1>I don't have any other options. You will cooperate."
text6 = "<p2>I knew you were going to challenge me, but it'll be a mistake that will cost more than your own time."
[State 191, Dialogue] ; Boundary > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>We need to evacuate everyone from this stadium, NOW."
text2 = "<p2>How come? Are you nervous about losing?"
text3 = "<p1>No, something horrible is going to happen, and we must get everyone out of here in an orderly fashion."
text4 = "<p2>How do you know this? Are you sure you don't have something up your sleeve?"
text5 = "<p1>It's the truth, and you'll accept it one way or another."

[State 191, Dialogue] ; Boundary > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>I pray to Horus that I make it out safely."
text2 = "<p2>HE WILL NOT ANSWER YOUR CALL. THE GODS OF OLD HAVE LEFT THEIR PANTHEONS AFTER HUMANITY MOVED ON FROM THEM. YOU CAN PRAY TO ME FOR YOUR CONCERNS."
text3 = "<p1>I refuse to pray to one as evil and conceited as Angra Mainyu. If you think you're going to birth a religion with your tyranny, then you have another thing coming."
text4 = "<p2>HEHE, AHURA MAZDA IS ALSO ONE OF THESE GODS. ANY OTHER GODS WILL FALL TO MY POWER IN MY GLOBAL CONQUEST!"

[State 191, Dialogue] ; Baxter > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p1>The master blaster, the heavy arms, the war machine's Sunday best!"
text2 = "<p2>If you think name-calling is gonna tear me down, then you're mistaken."
text3 = "<p1>What if I call youse a failure? You got so much power and yet you refuse to let it loose?"
text4 = "<p2>I'm trying to find a life worth living, that's the difference between you and I."
text5 = "<p1>Sheesh, didn't think your bark could match your bite. Now I wanna see you BITE."
[State 191, Dialogue] ; Baxter > Goliath
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"
hidebars = 0
text1 = "<p1>My my, haven't you grown up all big and strong!"
text2 = "<p2>(YOU JOKE AT ME? DO YOU KNOW THE POWER I WIELD?)"
text3 = "<p1>Quite aware, and I understand youse too. I know that the company has done weird things to us, but there's probably a friendship between you and me, mate."
text4 = "<p2>(I AM NOT FRIENDS WITH A CRETIN LIKE YOU. I ABANDONED MY APEX PREDATOR DAYS LONG AGO!)"
text5 = "<p1>Don't deny your monsters, mate. Whether they be from within or on the outside!"
[State 191, Dialogue] ; Baxter > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Don't mind me, missie. Lemmie end this quickly so you don't suffer my liability!"
text2 = "<p2>You've been causing nothing but chaos and unrest! How can BioCorps create such a heartless creature?!"
text3 = "<p1>I dunno, ask them maybe? It's not my problem anymore!"
text4 = "<p2>How rude and uncouth! I will put you in your place!"

[State 191, Dialogue] ; Baxter > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>The big man himself! BioCorps tried some research on you, but failed. Their first mistake, messing around with primordial artifacts!"
text2 = "<p2>UNLIKE THEM, YOU HAVE AT LEAST HALF A CONSCIOUS, FOR A BEAST LIKE A SICK DOG. ONLY LOYAL TO HIMSELF AND HIS STOMACH."
text3 = "<p1>As long as I'm fed, then I'm content! But let's cut to the chase - I know you've been messing around with other worlds. Multiple of those RED DISC portals opening up, and you the cause?"
text4 = "<p2>HM, THIS DOG KNOWS A FEW MORE TRICKS THAN EXPECTED. YOU KNOWING THIS IS WORTHY OF MY NOTICE. VERY WELL, I'LL ENTERTAIN YOU."
text5 = "<p1>I knew you'd say that! Let's boogie, baby!"

[State 191, Dialogue] ; CiCi > Baxter
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"
hidebars = 0
text1 = "<p1>Well well well, if it isn't the supercomputer who's been causing a ruckus and giving BioCorps a bad rep!"
text2 = "<p2>And if it ain't the test tube baby who's the company darlin'! How have you not been tested to exhaustion, hm?"
text3 = "<p1>I work hard and I play hard! Can't operate fully on crunch time!"
text4 = "<p2>Ironic, since I believes you were made ON crunch time, mate! The company is going to push you to your edge, or even worse, so why not break away from those stuck up snobs?"
text5 = "<p1>Because I'm on a mission to prove the ingenuity of my company, as well as Cruller and Honeyglaze! I'll show you why you're considered obsolete now!"
text6 = "<p2>Heh, you'll soon be obsolete too, mate..."
[State 191, Dialogue] ; CiCi > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p1>The latest in BioCorps tech versus the outdated! The favor is in my court!"
text2 = "<p2>New doesn't necessarily mean better. You're still learning, but I've got plenty of experience under my belt."
text3 = "<p1>Being asleep for so long? I don't think so!"
text4 = "<p2>See, you're naive. The corporation has gotten to your head, and you're going to have to make a very tough decision in the near future."
text5 = "<p1>I'd rather make my choice now, which is proving you wrong! Get ready to get washed up!"
[State 191, Dialogue] ; CiCi > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Coming from two freshly graduated students, I'm impressed by your display here."
text2 = "<p1>Thanks! Only the works of BioCorps can make it this far! I'll prove myself in this last stretch of the testing phase!"
text3 = "<p2>Testing phase?"
text4 = "<p1>Yeah, I'll get my seal of approval once I beat you!"
text5 = "<p2>It's... vague the way you put it into words. Take caution if you win this fight."
text6 = "<p1>What's the caution for?"

[State 191, Dialogue] ; CiCi > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>I'VE SEEN YOUR DEVELOPMENT. I EXPECTED BETTER, YOU ARE NOT FIT FOR MY RANKS."
text2 = "<p1>Why would I join your ranks when BioCorps is still tried and true!"
text3 = "<p2>ARE YOU THAT OBLIVIOUS TO THE WORLD AROUND YOU? LET ME PUT THIS INTO WORDS YOU CAN UNDERSTAND. YOU ARE EXPENDABLE."
text4 = "<p1>No way! I'm more than just a product for my company! Even if there's a million of me, I'll still be Ci-Ci!"
text5 = "<p2>YOU WISH HOLDING YOUR INDIVIDUALITY WOULD BE SO EASY. IF YOU WANT A TITLE SO BADLY, THEN BECOME THE FIRST SACRIFICE UNDER MY TALON!"

[State 191, Dialogue] ; Goliath > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p1>(THIS ONE SMELLS OF DEATH. WILL THIS BE EASY, IF SHE'S ALREADY DETERIORATING?)"
text2 = "<p2>His height was six cubits and a span. He had a bronze helmet on his head and wore a coat of scale armor of bronze weighing five thousand shekels,"
text3 = "<p2>on his legs he wore bronze greaves, and a bronze javelin was slung on his back. Samuel 17:4."
text4 = "<p1>(IS SHE DESCRIBING ME? I DON'T THINK I HAVE SHEKELS ON ME, IF THEY ARE A FIVE THOUSAND.)"
text5 = "<p2>You come against me with sword and spear and javelin, but I come against you in the name of the Lord Almighty. Samuel 17:45."
text6 = "<p1>(I THINK SHE'S ITCHING FOR A FIGHT. BUT WHY DOES SHE KEEP REFERENCING SAMUEL? IS THAT HER NAME?)"
[State 191, Dialogue] ; Goliath > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>(THE LIGHTNING LADY. FEELS REASONABLE THAT US TWO WOULD MEET IN BATTLE!)"
text2 = "<p2>A beetle? A gigantic one!"
text3 = "<p1>(MY SIZE IS INDEED GREAT! YOURS TOO!)"
text4 = "<p2>I don't know how, but in this guy's eyes, it has a burning vigor to battle!"
text5 = "<p1>(NOW YOU'RE TALKIN'!)"
[State 191, Dialogue] ; Goliath > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>(SO MANY PEOPLE HERE, CHEERING FOR ME?)"
text2 = "<p2>How did you get in here? Wait, you're a European rhinoceros beetle. A result of BioCorps' pollution down in the United Kingdom?"
text3 = "<p1>(YES I HAVE, BUT THE BEAST HAS BEEN PUT ASIDE. I WANT TO FIGHT, FAIR AND SQUARE, AND EARN MY RESPECT AMONGST YOU HUMANS!)"
text4 = "<p2>I'd hate to harm any innocent creature, but you've grown beyond innocent!"

[State 191, Dialogue] ; Goliath > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>ANOTHER LOW-LIFE CREATURE?"
text2 = "<p1>(I'M MORE THAN A LOW-LIFE. I ROSE IN POWER AND GOT HERE UNDER FAIR TERMS!)"
text3 = "<p2>HEH, THESE HUMANS HAVE NO KIND FEELINGS TOWARDS YOU. YOU ARE JUST A SPECTACLE, AND LIKE ANY OTHER INSECT, A CRETIN TO BE STAMPED OUT!"
text4 = "<p1>(THAT'S NOT TRUE! I HAVE PEOPLE WHO, SEE SOMETHING IN ME THAT ISN'T JUST LIKE ANY OTHER CREATURE! I'LL GIVE THESE HUMANS SOMETHING TO RESPECT, ONCE I TOPPLE YOU OVER!)"
text5 = "<p2>YOU MAY TRY, AND SEE THAT THE FRUITS OF YOUR LABORS ARE ALREADY SPOILED ROTTEN!"

[State 191, Dialogue] ; Necross > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>Looks like we're both still alive thanks to the work of the Devil."
text2 = "<p2>That is something I can say 'Amen' to, sister."
text3 = "<p1>Hmph. It at least means you've been alive during my time gone. I've heard stories about you, how you went out of your way to thrash Nazis just for the Hell of it."
text4 = "<p2>And I've lived well beyond that and took countless more lives, Nazi or not!"
text5 = "<p1>So, it means you might have some answers for me. Come! Show me if your power is truth or nothing more than a myth!"
text6 = "<p2>Heh, funny coming out of the mouth of one who sucks up to God!"
[State 191, Dialogue] ; Necross > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p1>You. You must be a friend of one Wallace E. Phantnomer."
text2 = "<p2>He told me he bumped shoulders with a zombie nun, but I had to see it to believe it."
text3 = "<p1>..."
text4 = "<p2>I take it you want something from me because he couldn't keep his mouth shut."
text5 = "<p1>The extent of Bree O'Cuilin's plan..."
text6 = "<p2>Y'know, I might be nice since that name in particular rubs me the wrong way, but I need something in return. I have my own questions that need answers, y'know?"
text7 = "<p1>So? What are you waiting for?"
text8 = "<p2>...on second thought, I might not. Why should I satisfy one that wants me dead?"
text9 = "<p1>You little... fine!"
[State 191, Dialogue] ; Necross > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>It must be hard to go where you've been, but you've made it here."
text2 = "<p1>Whether or not I did make it to the finals doesn't matter. I'm... still lost with my place in this world..."
text3 = "<p2>It does matter. A man is justified by his deeds and not by his faith alone."
text4 = "<p1>...James 2:24. How did I forget?"
text5 = "<p2>C'mon, let's have a good fight to finish off this tournament."
text6 = "<p1>...Yes. I thank you, Isabella, from the bottom of my heart."

[State 191, Dialogue] ; Necross > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>AND ALL THAT STANDS IN MY WAY IS A LONE WARRIOR OF GOD."
text2 = "<p1>..."
text3 = "<p2>WHAT'S THE MATTER? IN AWE OF THAT WHICH IS ABSOLUTE?"
text4 = "<p1>Something... Something is standing by my side, telling me to never give up!"
text5 = "<p2>AH, A LONE ANGEL AS WELL. YOU BOTH CAN SHARE A GRAVE IN GOD'S WORLD!"

[State 191, Dialogue] ; Emi > Boundary
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"
hidebars = 0
text1 = "<p2>So much for the element of surprise if you're gonna thrash metal your way towards me."
text2 = "<p1>We Hattoris hide in plain sight! You wouldn't know, those gold highlights are super reflective. Dead giveaway, dude."
text3 = "<p2>It's traditional. You on the other hand seem to have your own twist on your heritage."
text4 = "<p1>I'm giving the Hattori Clan a fresh new look, and a fresh new sound! Lemmie give you a demo of my next single, Boundary Breakers!"
text5 = "<p2>That's just cheeky."
[State 191, Dialogue] ; Emi > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>Ah, I've been wondering where you've been! I was a big fan of yours back when I watched MMA stuff."
text2 = "<p2>Thanks, I listen to your music whenever I work out. Just before a match too."
text3 = "<p1>Glad we can be fans of each other! Always happy to make others feel the same!"
text4 = "<p2>..."
text5 = "<p1>...Something the matter?"
text6 = "<p2>No.. I'm fine..."
text7 = "<p1>Just a little flustered?"
text8 = "<p2>Maybe?? Would it be weird to uh... Ask a girl out after fighting her or what? Ha... hahahaha..."
text9 = "<p1>What?"
text10 = "<p2>Nothing! We'll just fight! Forget the date, we'll just fight!"
text11= "<p1>Uh-uh, you're gonna repeat what you just said to me!"
[State 191, Dialogue] ; Emi > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>It's always nice to see someone keeping their legacies alive."
text2 = "<p1>Nice of you to keep Battle Craze afloat too! So uh... think you can help me out a bit after I win this thing?"
text3 = "<p2>Sorry, I enjoy my fair share of rock music but an endorsement is asking for much. Of course, if you are so intent on winning this thing, there is the prize pool..."
text4 = "<p1>Aw, c'mon! It'd be so cool to have the former champion rep my music! I really need a big break!"
text5 = "<p2>You have to earn your spot in the spotlight. Prove it to me that you can!"

[State 191, Dialogue] ; Emi > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>Woah! That's so metal! We gotta take a pic for our next album cover!"
text2 = "<p2>THE DESCENDANT OF THE DEMON HANZO. SUCH A FAR CRY AWAY FROM THE MAN WHO UNIFIED THE LAND OF THE RISING SUN."
text3 = "<p1>Hey, he'd be proud of me for what I do! I'll show you that I'm worthy enough to be called a 'Demon'!"
text4 = "<p2>YOU? A DEMON? HAHAHAHA! NO DEMON WEEPS AFTER I FORCE MY HAND ONTO THEIR DOMAIN!"
text5 = "<p1>Even a demon can shed tears!"
text6 = "<p2>AND ALL DEMONS CAN SHED BLOOD."

[State 191, Dialogue] ; Lucy > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p2>You approach me, dhampir?"
text2 = "<p1>Look, I know you religious folks don't like my kind, but we should put our differences aside for our own gain. There's something bugging you about your sect, yeah?"
text3 = "<p2>There's... an air of uncertainty that lingers over my sisterhood. I've prayed, but to no avail."
text4 = "<p1>How about cold hard facts? If I give you some hot intel on the one running your joint, Bree O'Cuilin, then you give me what I'm after - the whereabouts of a demon named Stitches."
text5 = "<p2>How do you know this?"
text6 = "<p1>Guess you wanna tussle around and find out. I knew it can't be easy with nuns."
[State 191, Dialogue] ; Lucy > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>Hey big dude."
text2 = "<p1face=self,9000,21>How's it going, Mr. Phantnomer?"
text3 = "<p2>Fantastic! The Battle Craze they have this year tops all the rest! How's your investigation going?"
text4 = "<p1face=self,9000,20>Not very well. Barely anything on our 'old friend'. You got anything new on him?"
text5 = "<p2>Zilch, but that's my own fault since I attack first, ask later. My apologies."
text6 = "<p1>That's fine, but the real reason why I'm here is because Mina wanted to see you fight, in person."
text7 = "<p2>What, me take on that little old thing? She's already dead!"
text8 = "<p1face=self,9000,21>I wanted to see you and Lucy fight."
text9 = "<p2>Really? Are you sure?"
text10 = "<p1face=self,9000,20>Can't break a promise to my girlfriend."
[State 191, Dialogue] ; Lucy > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Congratulations on making it past the finals."
text2 = "<p1>I don't have anything to say to you unless you know anything about 'hidden organizations'."
text3 = "<p2>...To assume I would partake in criminal acts! What are you going on about?"
text4 = "<p1>Hmm, guess not. Let's fight instead."

[State 191, Dialogue] ; Lucy > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>Ah, right on time."
text2 = "<p2>YOU SEEM TO KNOW A LOT. IT IS SAID THAT KNOWLEDGE IS POWER, BUT IT IS NOT THE-"
text3 = "<p1>Okay, can it. I have a lead here."
text4 = "<p2>YOU DARE INTERRUPT ME?"
text5 = "<p1>Yeah, I do. I need to find out anything about a 'hidden organization'. It's broad, but I think I've proven myself strong enough to take someone like you down."
text6 = "<p2>I HAVE WITNESSED MANKIND SINCE THE BEGINNING. DO YOU KNOW HOW LITTLE THAT NARROWS IT DOWN?"
text7 = "<p1>It actually will help me a lot when I ask about a person named 'Stitches'. Know where they are?"
text8 = "<p2>YOU HAVE THE NERVE TO KEEP TALKING TO ME LIKE A MEAGER BYSTANDER! I WILL PUT YOU IN YOUR PLACE - ON A CRUCIFIX!"

[State 191, Dialogue] ; GABBY > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GABB"||name="GABX"||name="GABK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p1>I'm back, Ajit my HONEY! Had any good dreams lately?"
text2 = "<p2>None, thanks to you! My sleep schedule has been thrown out of whack. I can't afford to lose sleep, not now!"
text3 = "<p1>What's wrong? Afraid you'll be so tired you won't see me anymore? That makes me..."
text4 = "<p2>I don't care. I'm deeming you a threat. Prepare yourself!"
text5 = "<p1>...the hell? Pity is coming out, as well as...???!?!?!?!??!??!?!?!??!?!"
[State 191, Dialogue] ; GABBY > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GABB"||name="GABX"||name="GABK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>This is strange, an apparition?"
text2 = "<p1>I figured I was one."
text3 = "<p2>I'm the only one that can see this? She's not appearing on the display, or anyone else's devices worldwide?"
text4 = "<p1>Invisible to all but you. SOMETHING wills me to enjoy this, but SOMETHING ELSE wills me to be devout to Mistress Cecropia, NO MATTER WHAT."
text5 = "<p2>Whether anyone else can see you or not, you will meet the diligence of my sword!"

[State 191, Dialogue] ; GABBY > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="GABB"||name="GABX"||name="GABK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p2>I HAD ONCE WORRIED THAT CECROPIA WOULD BE A THORN IN MY SIDE, BUT SHE HAS NO CLUE HOW TO MAKE THE PERFECT SOLDIER!"
text2 = "<p1>...I am... a SOLDIER??"
text3 = "<p2>YOU WERE BUT A PAWN IN HER GAME. NOW YOU'RE ON MY FIELD. PREPARE YOURSELF!"
text4 = "<p1>I AM...???!?!??!??!?"
text5 = "<p2>...THIS APPARITION... WHAT IS SHE DOING?... NEVERMIND, SHE WILL CEASE TO BE!"

[State 191, Dialogue] ; Isabella > Emi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="EMIC"||enemy,name="EMIX"||enemy,name="EMIK"
hidebars = 0
text1 = "<p2>Nice to see you early, Ms. Gardet! I've been eager to challenge you ever since I got here!"
text2 = "<p1>I am willing to give you that challenge. If I'm not mistaken, you're from the Hattori Clan, correct?"
text3 = "<p2>Yes m'am! Current and only heir to the clan!"
text4 = "<p1>I see. I remember my family having close ties to them after Battle Craze was founded, initially at least. I'd like to see if we can't form a friendship between the two families again with some sparring."
text5 = "<p2>Not a bad idea to get some more fans to back me up! C'mon, let's go!"
[State 191, Dialogue] ; Isabella > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2>I'm glad I was able to catch you before the finals. We need to talk."
text2 = "<p1>I'm listening, Ajit."
text3 = "<p2>Something terrible is going to happen at the finals. A catastrophic attack unlike anything else. We need to get everyone aware and out of the stadium before it starts!"
text4 = "<p1>I am aware of your prophetic abilities, but I need to evaluate whether or not you're lying or not, in battle."
text5 = "<p2>Really? You can't believe what I have to say? We're wasting time!"
text6 = "<p1>The finals don't start for another hour or so. I need to see if you're worthy of my trust the only way I know how."
[State 191, Dialogue] ; Isabella > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2><p2face=enemy,9000,21>I'm impressed that you made it this far."
text2 = "<p1>And what do you think you're doing? Don't think I haven't heard what you and your master are scheming!"
text3 = "<p2><p2face=enemy,9000,21>Think you're late to the party, m'am! While you were too busy running this tourney, I got to work behind the scenes to resurrect an exec so hellish he'd make Satan blush!"
text4 = "<p1>Resurrect? What on Earth...?"
text5 = "<p2><p2face=enemy,9000,21>Some jargon involving a macguffin, needing a macguffin to exist in the physical realm, that macguffin being in the hands of a crazy divorced moth lady, etc etc."
text6 = "<p2><p2face=enemy,9000,21>Look, I could bore you with exposition, but I'd rather get to the enticing action scenes if you don't mind. I make a great stunt double!"
text7 = "<p1>When you break the rules of Battle Craze, you have no luck to rely on! Face me if you wish to disprove your cowardice!"

[State 191, Dialogue] ; Isabella > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>...He was right... It's really happening!?"
text2 = "<p2>YOU ARE BUT A FOOL NOT TO BELIEVE AJIT, AS MY ARRIVAL WAS ALL BUT INEVITABLE."
text3 = "<p1>I thought I had more time!"
text4 = "<p2>BUT YOU WANTED THE SHOW TO GO ON, BARELY MAKING IT TO THE END! I WILL NOW SHOW YOU WHAT BATTLE CRAZE HAS BROUGHT, A NEW ERA OF VIOLENCE TO COME, ONCE AGAIN!"
text5 = "<p1>No, I will not let the legacy of the Gardets falter, not now, and never again!"
text6 = "<p2>AND TO YOU, I WILL PROVE WHAT POWER A QUEEN HAS WITH NO CROWN!"

[State 191, Dialogue] ; Ikue > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p1>Ajit Sinha...?"
text2 = "<p2>There is no other, just like you, Ikue. I know that the future holds something important for the both of us."
text3 = "<p1>World's greatest detective meets the world's greatest martial artist... Never once thought I'd see this..."
text4 = "<p2>Then you can guess what comes next. Don't disappoint me... World's Greatest Detective!"
[State 191, Dialogue] ; Ikue > Teri
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="TERI"||enemy,name="TERX"||enemy,name="TERK"
hidebars = 0
text1 = "<p1>Hm. Those two look a little out of place."
text2 = "<p2><p2face=enemy,9000,21>Uh, Teri, that lady is looking at us. She kinda seems..."
text3 = "<p1>Excuse me. I'm Detective Iwata, and I wanted to ask a couple of questions."
text4 = "<p2><p2face=enemy,9000,21>A d-detective...? With a big sword, too..."
text5 = "<p2><p2face=enemy,9000,20>Hey. You're scaring my friend. Go away."
text6 = "<p1>What!? But I think I can help you! If we could just..."
text7 = "<p2>Leave, or I'll slice you up into bits!"
text8 = "<p1>Oh boy... Is every universe but my own this aggressive? Okay then... just, promise me that if I win, you'll ease up on the murderizing, okay?"
[State 191, Dialogue] ; Ikue > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>I don't remember you signing up for this tournament, but I'm tempted to let it slide. There's a lot of potential for you in the future."
text2 = "<p1>That sword... It looks pretty strong... could probably even be a match for Denjin."
text3 = "<p2>There is a lot this sword bears, and the same could be said for yours as well."
text4 = "<p1>Given my time here, I take it we learn through a fair fight, right?"
text5 = "<p2>There is no other way to know. Now come forth, and show me your history through your blade!"
text6 = "<p1>Now you've got me excited! Let's do this!"

[State 191, Dialogue] ; Ikue > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>You the big cheese around this place?"
text2 = "<p2>YOU ARE THE ONE FROM UNIVERSE V? HMPH, I'LL HAVE YOU AS A HARBINGER OF MY ARRIVAL AS YOU ARE NOT THE ONE I AM LOOKING FOR."
text3 = "<p1>Not the one you're looking for? You're talking about Gravitas... you expected her instead of me."
text4 = "<p2>INDEED I DID. THE MEDDLING BETWEEN HER AND THE MOTH WOULD HAVE TORN THE FABRIC OF SPACE-TIME TO BRIDGE OUR WORLDS."
text5 = "<p2>I WOULD HAVE ENJOYED TINKERING WITH THE TECHNOLOGY LEFT BEHIND BY THE MECHANIS, BUT SUCH THINGS WILL HAVE TO WAIT, AS YOU SHOWED UP INSTEAD."
text6 = "<p1>Gravitas and Cecropia played right into your hands. Impressive, if it weren't for the fact that you're a crazy giant lizard. Hope those scales of yours can withstand an omega alloy blade."
text7 = "<p2>YOU FOOL, NO AMOUNT OF LEGENDS BEHIND A BLADE CAN EVEN PIERCE MY SCALES! I'LL SEE YOUR PRIDE BROKEN IN A MILLION PIECES JUST LIKE THAT SWORD!"

[State 191, Dialogue] ; Teri > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1><p1face=self,9000,21>Hey, Teri... does the way she fights seem familiar to you?"
text2 = "<p2>There's only one brand of my boxing known to the world! If you're looking for a tussle, then I'll show you how unique I am!"
text3 = "<p1><p1face=self,9000,20>Hmph. If you beat me, you might be a challenge for Erica."
text4 = "<p2>A boxing friend of yours? Sure, I'll give it a go! The Eye of the Tiger versus the Raging Raijin!"
text5 = "<p1><p1face=self,9000,21>Teri! Why are YOU picking fights with people now!?"
[State 191, Dialogue] ; Teri > Bernie
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="BERN"||enemy,name="BERX"||enemy,name="BERK"
hidebars = 0
text1 = "<p1>Hey. Do you know anything about portals that could take us home?"
text2 = "<p1><p1face=self,9000,21>Uhm, Teri, I don't know about this. They seem kinda suspicious."
text3 = "<p2><p2face=enemy,9000,22>Hey, who're you calling suspicious, Blue Weevil?!"
text4 = "<p2><p2face=enemy,9000,21>Don't start, Lee! Anyway, we were hoping you two might've known something."
text5 = "<p1>Erm, sorry. We kinda just got pulled here ourselves. We don't really know anything, other than that we wanna go home."
text6 = "<p2><p2face=enemy,9000,20>Welp, that makes five of us. If only we could've met under different circumstances, 'cause you two seem nice. More than can be said for most everyone else here."
text7 = "<p1><p1face=self,9000,20>Fine. If you can't help, get out of our way."
text8 = "<p1><p1face=self,9000,21>Teri..."
text9 = "<p2><p2face=enemy,9000,21>Just our luck, huh. Talk to someone ONE time, even when they're displaced like we are, and we get roped into another stinking fight! This crap heap really IS like Galdakilus!"
text10 = "<p2><p2face=enemy,9000,22>Almost makes a frog wonder who copied who..."
text11 = "<p2><p2face=enemy,9000,20>Jim, Lee, your explosive attitudes don't exactly help with that, you know."
text12 = "<p1><p1face=self,9000,20>We don't have to fight. You could just... leave."
text13 = "<p1><p1face=self,9000,21>Wow, uh, you really riled them up. And they don't look like the kinda people we want to upset."
text14 = "<p1><p1face=self,9000,20>...I just want to go home."
text15 = "<p2><p2face=enemy,9000,22>Well so do we! AAAAGH! This back n' forth is getting us nowhere! C'mon, Whiskers, let's get this over with already!"
text16 = "<p2><p2face=enemy,9000,20>...What did I just say? Damn it, not like it matters now."
text17 = "<p1><p1face=self,9000,21>Teri, I'm just saying, this would be easier if you were just a little gentler with people."
text18 = "<p1><p1face=self,9000,20>Wait, what did I do?"
[State 191, Dialogue] ; Teri > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>I don't remember you signing up for this tournament, but I'm tempted to let it slide. There's a lot of potential for you in the future."
text2 = "<p1><p1face=self,9000,21>Uhm, I appreciate that, I guess, but... well, at the risk of sounding totally nuts, do you know anything about portals opening up around here? Like, the dimensional-travel-y kind?"
text3 = "<p1>We heard something like that was happening around here somewhere..."
text4 = "<p2>Such incidents I have heard of, but I am no expert on the subject."
text5 = "<p1><p1face=self,9000,20>We need to find it, so get out of the way."
text6 = "<p2>But we're in the middle of the finals! I can't stand aside and let you go in the midst of this prestigious event!"
text7 = "<p1><p1face=self,9000,21>Oh man, why can't anyone leave us alone?"

[State 191, Dialogue] ; Teri > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1><p1face=self,9000,21>Uuuhh, Teri, w-what is that?"
text2 = "<p1><p1face=self,9000,20>Hey. Tell us how to get home."
text3 = "<p2>YOU'VE MADE IT HERE, WHY WOULD I TELL YOU TO GO HOME AFTER ALL THAT YOU'VE DONE FOR ME?"
text4 = "<p1>!?"
text5 = "<p1><p1face=self,9000,21>Huh? What did we do for you?"
text6 = "<p2>WEED OUT THE COMPETITION, AND BRING YOUR FRIEND TO ME! THE RED DISCS WERE BY MY DESIGN TO BRING FORTH THE POWERS OF MASS MANIPULATION IN MY HANDS!"
text7 = "<p1><p1face=self,9000,21>What!? Y-you... brought us here? On purpose!? And you... want me?"
text8 = "<p1><p1face=self,9000,20>I'm leaving this place, with her, and now. You're not getting in the way of that."
text9 = "<p2>DESTINY HAS CHOSEN ONE OF YOU FOR MY DIVINE PURPOSE. YOU WILL NOT DEFY SUCH POWER, UNLESS YOU WISH TO BE MY TIGER-SKIN RUG!"

[State 191, Dialogue] ; Bernie > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p2>You are not of this world. Explain yourselves."
text2 = "<p1><p1face=self,9000,21>We're still trying to make sense of all this crap ourselves. We got trapped here through a red portal, and we're trying to find another one so we can scram! Can you help us?"
text3 = "<p2>You are simply lost, as I am too on the subject. Such a thing I know nothing about."
text4 = "<p1><p1face=self,9000,22>Great, there goes your 'best lead', Boy Scout. You sure it's not just seeds rattling in that cantaloupe head of yours?!"
text5 = "<p1><p1face=self,9000,21>It's more brain than I'd consider the algae in yours, Bog Breath."
text6 = "<p1><p1face=self,9000,20>So help me Nazirin, I'll clobber you both if you don't knock it off! We're sorry ma'am, but we're hard pressed for time, here. This planet's really starting to mess with our heads."
text7 = "<p2>...you're starting to mess with mine. There's a familiar feeling with you but all I see is gold. Who are you associated with?"
text8 = "<p1><p1face=self,9000,22>Nobody but we, ourselves, and us. What's YOUR excuse, O Ms. Grim Reaper?"
[State 191, Dialogue] ; Bernie > Jane
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="JANE"||enemy,name="JANX"||enemy,name="JANK"
hidebars = 0
text1 = "<p1><p1face=self,9000,21>That lady over there, in the witch getup... I don't know what it is, but I feel something about her aura, something chaotic. You sure about this, Lee?"
text2 = "<p1><p1face=self,9000,22>What do we have to lose? Aside from, y'know, more time on top of what we already wasted? Cool your coulrophobia and let me do the talking."
text3 = "<p1><p1face=self,9000,22>Um, 'scuse us, marooned other-worlders here, do you know anything about conjuring red portals? Or where to find them?"
text4 = "<p2>You? From Otherworld? I think not! Though, you three do reek of supernatural rot..."
text5 = "<p1><p1face=self,9000,21>Oh hell, she just has to speak in rhyme... Look miss, we don't mean 'other-worlders' literally, we're-"
text6 = "<p2>Spare me the babble, I see through your ruse! What's an onion with a knife got to lose?"
text7 = "<p1><p1face=self,9000,20>I don't think words are gonna work here, kids. We're just gonna have to try something else."
text8 = "<p1><p1face=self,9000,22>Fists, right?"
text9 = "<p1><p1face=self,9000,20>What else but?"
[State 191, Dialogue] ; Bernie > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>I don't remember you signing up for this tournament, but I'm tempted to let it slide. There's a lot of potential for you in the future."
text2 = "<p1>I don't answer to CEO-types in poofy getups, with schemes that only serve to benefit themselves. Not anymore."
text3 = "<p1><p1face=self,9000,22>Besides lady, we got enough bozos harassing us with marketing deals on our own turf, after the whole 'Blood Feast' BS!"
text4 = "<p2>What in God's name? You need to explain yourselves, and quickly."
text5 = "<p1><p1face=self,9000,20>We're marooned here 'cause of a red portal, and we need to find another. Do you, or do you not, know anything about this?"
text6 = "<p2>I know nothing of what you speak, and even if I did, I wouldn't discuss such a thing for people involved in a 'Blood Feast'!"
text7 = "<p1><p1face=self,9000,21>Oh, great, she thinks we're cannibals. I think reasoning might be far from this lady's first priorities. Better square up, big guy."
text8 = "<p1><p1face=self,9000,20>Cripes, I knew I would've been better off staying in bed."

[State 191, Dialogue] ; Bernie > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1><p1face=self,9000,22>Well geez, it's about damn time we met someone who might actually know something about the red portal! ...but wait, lemme guess, we're not getting what we want without a fight, right?"
text2 = "<p2>YOU WOULD BE RIGHT ON BOTH ACCUSATIONS. I AM IMPRESSED THAT POND SCUM LIKE YOURSELVES WERE ABLE TO DEFEAT AN ADVERSARY THAT RIVALS ME!"
text3 = "<p2>BUT I DID NOT BRING YOU HERE JUST FOR COMPLIMENTS, I AM HERE BECAUSE OF THE HEIR."
text4 = "<p1>...Uh, the hair? What? The rest of these slap-happy knuckle dusters weren't enough for you there?"
text5 = "<p1><p1face=self,9000,21>Not 'hair', Lee, 'heir'. This talking rubber suit means me."
text6 = "<p1>I don't know what you are, but an Oninjin would sooner die for what he knows in his heart to be right, than surrender himself as an instrument of discord, and death."
text7 = "<p1>As the last bearer of my people's legacy, you'll never make a grunt out of me!"
text8 = "<p2>OF COURSE, IT WOULD BE EASIER TO FORFEIT THAT CRYSTAL TO ME, BUT YOUR PRIDE QUICKENS NOT ONLY YOUR ADMISSION TO PERDITION, BUT FOR YOUR FRIENDS AS WELL!"
text9 = "<p1><p1face=self,9000,20>Well tough shit, Jurassic Jackass. If you're really that familiar with who we are, let's get one thing straight, right now. If you wanna come at my buddies, you're gonna have to go through ME, you snaggletoothed son of a bitch."
text10 = "<p2>HMPH! A CHALLENGE I WILL GLADLY INDULGE IN!"

[State 191, Dialogue] ; Jane > Ikue
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="IKUE"||enemy,name="IKUX"||enemy,name="IKUK"
hidebars = 0
text1 = "<p2>Certainly not the first witch I've met, but definitely the first from another universe. How'd you end up in this wacky place?"
text2 = "<p1>Working with portals, it took a long time. Giving it a second go would be sublime."
text3 = "<p2>Was this portal red, and very circular?"
text4 = "<p1>Yes, how did you know? Research, or word of crow?"
text5 = "<p2>Fell under the same kind of portal myself here. I've noticed that a few others came here under similar circumstances, so if you know how to open these things up, I have two conclusions:"
text6 = "<p2>You could bring us home, or you brought us here for your own motives."
text7 = "<p1>I only opened up the one for me, can't you see? I'm quite new to this, so it's not like preparing tea."
text8 = "<p2>One way or another, you'll do it again. If anything this world's taught me, answers come out from a fight, so show me what other magic you can pull against the likes of me."
[State 191, Dialogue] ; Jane > GABBY
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p1>Another carnie? What are the odds! You seem more fun than the other clods."
text2 = "<p2>Oh, I love rhymes! But there's only room for one of us in the spotlight. It CONSTRICTS LIKE A SERPENT."
text3 = "<p1>Well then, I'll be sure to give you your spotlight! Just don't start screaming once your body ignites!"
text4 = "<p2>THEN BURN BURN OUR BODIES BECOME, THE PIERCING PAIN BECOMING SO NUMB. WITH YOUR FLESH BEING BOUND TO THIS PLANE, THE TICKING OF DEATH WILL DRIVE YOU INSANE."
[State 191, Dialogue] ; Jane > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>I don't remember you signing up for this tournament, but I'm tempted to let it slide. There's a lot of potential for you in the future."
text2 = "<p1>A contract, a sponsorship for me? No thanks, I follow my own sense of glee."
text3 = "<p2>Well, I was thinking more so just returning for the next Battle Craze, if you win, that is."
text4 = "<p1>Hmm, I guess I could consider the odds. But home awaits, with my family squad."
text5 = "<p2>I don't think that would be an issue, unless you're, otherworldly."
text6 = "<p1>How did you know I hail from there? Do you peep at me, do you dare?"
text7 = "<p2>I know nothing of the world you are from, but you are eating up a lot of time. Let's get this show started."

[State 191, Dialogue] ; Jane > TYRANT
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="TYRA"||enemy,name="TYRX"||enemy,name="TYRK"
hidebars = 0
text1 = "<p1>Uh-oh, this does not look good. Danger runs amok right where I stood."
text2 = "<p2>YOU THINK YOU CAME HERE UNDER YOUR OWN POWER? HOW FOOLISH CAN YOU BE?"
text3 = "<p1>So that RED DISC was not of my creation? Oh dear, then who did this bastardization?"
text4 = "<p2>YOU LOOK AT THE BASTARD THAT YOU SPEAK OF. I HAVE GREAT INTEREST IN NOT ONLY THE THINGS YOU'VE COLLECTED, BUT SOME DARKER SECRETS HIDDEN IN YOUR FAMILY'S LINEAGE."
text5 = "<p1>Something like Infernal Communications, yes? Surely you jest?"
text6 = "<p2>THE POWER TO COMMUNICATE BETWEEN WORLDS IS UNHEARD OF IN THE MEAGER TECHNOLOGIES OF MAN."
text7 = "<p2>THERE IS ONLY ONE OTHER I KNOW OF, AND ALL HE CAN DO IS RECEIVE AND REGURGITATE INFORMATION FROM THESE WORLDS. YOU HOLD THE KEY TO A MUCH BIGGER CONQUEST!"
text8 = "<p1>If you think I'd take that lying down, then all you are is a silly clown! For I'd never back down, because here's the stitch - regardless of the world, you don't mess with a witch!"
text9 = "<p1>I'll never spill the beans, to fuel your machines!"

[State 191, Dialogue] ; TYRANT > GABBY
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p2>Aw, the cute little dinosaur decided to get here early!"
text2 = "<p1>WELL, THAT ACTOR HAS ONE GOOD USE OUT OF MINE. I NEEDED TO STRETCH THESE ANCIENT BONES OF MINE. I THOUGHT I COULD GET USED TO MY PHYSICAL FORM, BUT YOU PERSIST WITHIN ME."
text3 = "<p2>I'm always here, I'm always there, I'm EVERYWHERE! I'm OMNIPOTENT! I am EVERYBODY EVER!"
text4 = "<p1>NOW I SEE... THANKS TO YOUR BOSS, YOU EXIST IN MY MIND AFTER I REUNITED WITH THE HELL ENGINE."
text5 = "<p2>Yay! Besties forever!"
text6 = "<p1>HMPH, YOU HAVE A STRANGE IDEA OF WHAT 'FOREVER' MEANS..."

[State 191, Dialogue] ; TYRANT > QREAPER
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="REAK"
hidebars = 0
text1 = "<p1>FINALLY, SOMETHING OUT OF QUASARS EMERGES FROM THE SHADOWS."
text2 = "<p2>What difference does that make? I am no longer bound by them!"
text3 = "<p1>YOU STILL SHARE THEIR INSIGNIA, THEIR NAME, AND THUS, THEIR BINDS. I WILL FIND OUT THE CONNECTION BETWEEN ME AND THEM THROUGH YOU!"
text4 = "<p2>You will die trying! I boast strength you can't possibly comprehend!"
text5 = "<p1>FOOL, YOU DON'T REALIZE WHAT YOU DEAL WITH!"

[State 191, Dialogue] ; TYRANT > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>...what the...???"
text2 = "<p1>BATTLE CRAZE... A CELEBRATION OF MARTIAL ARTS AND CULTURES ACROSS THE WORLD... YOU ARE A FOOL TO BELIEVE SUCH A THING CAN CREATE PEACE AND PROSPERITY."
text3 = "<p2>There are still those who want unity! People still care about each other through love and compassion!"
text4 = "<p2>No matter what, there will always be those in this world who fight for a brighter future! This world is worth fighting for!"
text5 = "<p1>...HEH..."
text6 = "<p2>...?"
text7 = "<p1>...KUUUHAHAHAHAHAAA! HAAAHAHAHAHAHAHA!! WHAT SAD RHETORIC, COMING FROM ONE AS PRISTINE AS YOU! THE WORLD HAS STAGNATED IN SUCH A WAY, WHERE THERE IS ONLY ONE OPTION. I OFFER THAT OPTION!"
text8 = "<p2>I will not accept it! The world won't accept it! I will show you what my 'rhetoric' has done for me and my strength!"

[State 191, Dialogue] ; TYRANT > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = RoundState = 0 && RoundNo = 1
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p1>OH, HOW SAD! THE ONE DETERMINED TO STOP ME HAS MISSED HIS MARK! WHAT'S WRONG, INTERNAL CLOCK OFF?"
text2 = "<p2>I got held back thanks to some cronies of yours. Not including an army of the dead, the astronaut who quips a lot, and the slime that secretly hates you."
text3 = "<p1>THEY WERE BUT EXPENDABLE, BUT THEIR SACRIFICE PAID OFF FOR ME IN THE END! YOU SHOULD HAVE BEEN MORE PROACTIVE, AND NOW YOU ARE TOO LATE!"
text4 = "<p2>You're right, but I've yet to miss my chance! I'll make sure Shiva sends you to your complete destruction!"
text5 = "<p1>I HAVE WAITED EONS FOR THIS MOMENT. THE BATTLE THAT DECIDES THE FATE OF THIS PLANET... AND FATE HAS MADE THIS ALL TOO EASY!"
;===========================================
; FULL GAME FUNTIMES: ARCADE OUTRO DIALOGUE
;===========================================
[State 180, Dialogue] ; Ajit > Gabby
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p1>It's over, but I still have an odd feeling about what you are..."
text2 = "<p2>..."
text3 = "<p1>This is a warning. Don't come back, or I'm coming for your boss next!"
text4 = "<p2>..."
[State 180, Dialogue] ; Ajit > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p2>Well, if anyone else deserved that belt, it would've been you."
text2 = "<p1>You did very well! Don't cut yourself short, Tsugumi."
text3 = "<p2>You're right. Good luck in the finals, and what comes after."
text4 = "<p1>Thank you, I'm gonna need it."
[State 180, Dialogue] ; Ajit > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="AJIT"||name="AJIX"||name="AJIK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Now will you listen to me? We're short on time, so I have to make this brief."
text2 = "<p2>...You've done enough to prove yourself to me. What is it?"

[State 180, Dialogue] ; Tsug > Goliath
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"
hidebars = 0
text1 = "<p1>It's definitely not here to kill me. Seems we both have a similar purpose for fighting."
text2 = "<p2>(SHE'S STRONG! TOO STRONG! I HAVE TO BACK OUT, OR ELSE MY LIFE MIGHT GET CUT SHORT!)"
text3 = "<p1>May we meet again."
[State 180, Dialogue] ; Tsug > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2>Well, if anyone else was gonna make it to the finals, it's you."
text2 = "<p1>There's more to the finals than just the championship match, I know that much from you."
text3 = "<p2>I have my faith in you. Give 'em hell, give them both hell."
text4 = "<p1>I'll give them more than that! Everything I've got, and then some!"
[State 180, Dialogue] ; Tsug > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUG"||name="TSUX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>There's more to this than just you. Ajit warned me of someone else."
text2 = "<p2>Wait, who exactly is coming our way?"

[State 180, Dialogue] ; Robo-Tsug > Tsug
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p2>Not the same style of boxing... but ever so different... What the hell are you?"
text2 = "<p1>I'M THE STAR OF THE SHOW, OBVIOUSLY... J-POPSTAR EXTRAORDINAIRE, ROBO-TSUGUMI!"
text3 = "<p2>You take my image to bolster your pride and ego over music? You're... pathetic..."
text4 = "<p1>HEY! I DIDN'T STEAL ANY IMAGE, ALRIGHT? ALL MY TALENT IS THANKS TO MY OWN SKILL... AND A LOT OF ILLEGALLY DOWNLOADED DAWS."
[State 180, Dialogue] ; Robo-Tsug > Emi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUK"
trigger1 = enemy,name="EMIC"||enemy,name="EMIX"||enemy,name="EMIK"
hidebars = 0
text1 = "<p1>DID I MENTION I'M QUITE SKILLED IN HAND TO HAND COMBAT?"
text2 = "<p2>No kiddin'... it's really like a bootleg of Tsugumi's style of boxing..."
text3 = "<p1>IT'S THANKS TO THE 'EVER-POWERFUL RAM EXPANSION KIT'! AND ALSO BECAUSE I DON'T MAKE ROCK MUSIC THAT BLOWS. BEEP BEEP."
text4 = "<p2>...I find that hard to believe. The part that you have made music before."
text5 = "<p1>I DON'T GIVE FREE SAMPLES. YOU'RE GONNA HAVE TO SEE ME ROCK THE STAGE IN THE FINALS THEN!"
text6 = "<p2>Great."

[State 180, Dialogue] ; Robo-Tsug > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TSUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>SEE? I CAN THROW HANDS AS WELL AS I CAN MAKE MUSIC!"

[State 180, Dialogue] ; Sherm > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2>It feels familiar, but also strangely different?"
text2 = "<p1>I did take my inspiration from two big archetypes, the shoto and the charge motion zoner!"
text3 = "<p2>Are you adapting video game philosophies to your fighting style? Is that why you crouch so much?"
text4 = "<p1>Yeah, can't do charge moves without 'em!"
text5 = "<p2>Interesting. I'll see how this goes in the finals."
text6 = "<p1>OH SHOOT! That's coming up soon, isn't it?"
text7 = "<p2>Also, one more thing before you leave, after Isabella, there is someone else you should be concerned with. Be prepared to fight them with everything you've got."
text8 = "<p1>Two boss fights in one sitting? I'll see what I can do!"
[State 180, Dialogue] ; Sherm > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>Great, Sherm. I think I blew it. Me and her are definitely not on good terms anymore. Time to book it..."
[State 180, Dialogue] ; Sherm > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHER"||name="SHEX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Such power! As bizarre as you fight, you still have spirit and vigor."
text2 = "<p1>Still amped up, which is good. So, I heard something about a second boss?"
text3 = "<p2>I'm sorry, second boss?"

[State 180, Dialogue] ; Evil Sherm > Sherm
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHEK"
trigger1 = enemy,name="SHER"||enemy,name="SHEX"
hidebars = 0
text1 = "<p1>You realize what's happening? I'm your pain while you repent, I'm you!"
text2 = "<p2>Can't... let... evil... consume me!"
text3 = "<p1>For it already has. Now witness me as I break this entire tournament under my fist! A pleasure you will never have!"
[State 180, Dialogue] ; Evil Sherm > tirania
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHEK"
trigger1 = enemy,name="JUSK"
hidebars = 0
text1 = "<p1>...Hmph, true evil my ASS. You still held onto those gushy feelings of love, and now they stain my hands!"
[State 180, Dialogue] ; Evil Sherm > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="SHEK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>The World Rending Fist is a godsend to me, but no god can send me a challenge worth fighting!"

[State 180, Dialogue] ; Wallace > justicia
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="JUST"||enemy,name="JUSX"
hidebars = 0
text1 = "<p1>You can keep those marigolds, since you'll be in the Land of the Dead soon!"
[State 180, Dialogue] ; Wallace > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p2>That was fun."
text2 = "<p1>And you're holding up-"
text3 = "<p2>I'm fine. A bit sore, but alright nonetheless."
text4 = "<p1>Good. Go get that info, I'll get back to my business if you don't mind."
text5 = "<p2>Because you hate holding back?"
text6 = "<p1>...Y'know, you're really the only one in the Manor that feels like family to me. Course I gotta make sure I don't give it my all."
text7 = "<p2>Well, guess I'll try to get stronger on my own, since I'm not the same kid I once was."
text8 = "<p1>We'll see, but for now, we both got our own things to take care of."
text9 = "<p2>Right."
[State 180, Dialogue] ; Wallace > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="WALL"||name="WALX"||name="WALK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>Do you even question who you fight for? Is this all about money? At the cost of lives?"
text2 = "<p1>Money is just a bonus. The real thrill is quenching my bloodthirst."

[State 180, Dialogue] ; Reaper > Baxter
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"
hidebars = 0
text1 = "<p1>You've been decommissioned, and proved nothing to me. We are not alike."
text2 = "<p2>You still can't see it. You're actually deadlier than me! Heheheh, see how long you can hold up this pacifist fighter schtick with that much power, mate!"
text3 = "<p1>All I can do is be careful."
[State 180, Dialogue] ; Reaper > Ci-Ci
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
hidebars = 0
text1 = "<p1>Listen, there's a lot more worth to you than BioCorps. You've got a unique style, and people that do genuinely care about you."
text2 = "<p2>Cruller and Honeyglaze really were the only ones who went out of their way to help me. It's just... a lot more thinking than I'm used to."
text3 = "<p1>I know it isn't easy. Waking up and learning your existence is a company's liability isn't easy to handle either. Just take things at your own pace. No hard feelings?"
text4 = "<p2>...Yeah, no hard feelings."
[State 180, Dialogue] ; Reaper > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAP"||name="REAX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>It was a good battle, Isabella. You did well."
text2 = "<p2>I appreciate it. Can you help me up, please?"

[State 180, Dialogue] ; QREAPER > Ci-Ci
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAK"
trigger1 = enemy,name="CICI"||enemy,name="CICX"||enemy,name="CICK"
hidebars = 0
text1 = "<p2>I dunno what happened... How did you...?"
text2 = "<p1>Simple, I'm stronger than you. If QUASARS wants to replicate you, then so be it. Makes overthrowing them easier if all they have in their militia is you."
[State 180, Dialogue] ; QREAPER > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p1>...no, the pain is still there! No, I can prove myself! Just give me a chance! Don't throw me away, I can show you I can do better! Please!!"
[State 180, Dialogue] ; QREAPER > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="REAK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>What's wrong? Is that all the grateful host of Battle Craze can offer?"

[State 180, Dialogue] ; justicia > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>For the people of the world, and for suggesting I turn heel!"
text2 = "<p2>You call yourself a face with that chair?"
text3 = "<p1>It's what evil truly deserves!"
[State 180, Dialogue] ; justicia > Boundary
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"
hidebars = 0
text1 = "<p1>Look, I'm more than just a wrestler that spouts catch phrases to encourage those around me. I'm the real deal!"
text2 = "<p2>Well, motivation to others isn't a bad thing persay, but the strength to back it up is also important. You've got that strength in spades."
text3 = "<p1>Gracias! If you do wanna work together in the future, hit me up! I'd be more than happy to help a fellow hero in their work!"
[State 180, Dialogue] ; justicia > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUST"||name="JUSX"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>From the coast of Puerto Rico, and representative of the UWF, la justicia takes the Battle Craze belt!"

[State 180, Dialogue] ; tirania > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUSK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1>..."
text2 = "<p2>...So, are you that wrestler lady or not?"
text3 = "<p1>Maybe, maybe not. I do have an offer if you decide that this life isn't for you. Give me a call when you're ready."
text4 = "<p2>Well, alright? Hmmm, she left something behind. "Blood Wrasslin' Federation looking for new heel wrestlers, or anyone with experience in the field of evil.""
text5 = "<p2>This sounds stupid, but fun?"
[State 180, Dialogue] ; tirania > Evil Sherm
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUSK"
trigger1 = enemy,name="SHEK"
hidebars = 0
text1 = "<p2>Okay okay okay! Fine, I'll take your stupid offer! What are you selling?"
text2 = "<p1>I'm not selling anything. Be a part of my new heel team, that is all."
text3 = "<p2>Really? You'd expect me to take part in your silly theatrics?"
text4 = "<p1>You lost. I don't think you make a choice anymore."
text5 = "<p2>Dammit, alright. If this isn't doesn't grow my MESSATSU, then I quit!"
[State 180, Dialogue] ; tirania > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JUSK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Is there no one who can match my evil?"

[State 180, Dialogue] ; Boundary > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2>You're good, but I still think you're gonna go about this the wrong way."
text2 = "<p1>Did you see it in the future?"
text3 = "<p2>...It's all fuzzy, but I see you there standing against evil."
text4 = "<p1>I think I can handle it. Help if you want to, just don't complicate things further."
text5 = "<p2>If there's one thing I learned, is that the future isn't set in stone. Just be careful."
[State 180, Dialogue] ; Boundary > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p1>So, that intel?"
text2 = "<p2>Ugh... fine. Ajit Sinha predicted a catastrophic event happening at the finals of Battle Craze, caused by a relic responsible for the extinction of the dinosaurs. Rumor says that BioCorps had unearthed the relic and that 'something' lives in it."
text3 = "<p1>That company is dealing with some stones they should've kept unturned."
text4 = "<p2>Hey, a corporation has got to make money somehow, and usually it means doing such things. That's the cold hard truth."
text5 = "<p1>And the one who predicted this would happen, that is Ajit, correct?"
text6 = "<p2>Yeah, the sleepy one."
text7 = "<p1>Just as the rumors say. I appreciate it."
[State 180, Dialogue] ; Boundary > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BOUN"||name="BOUX"||name="BOUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>*sigh* This is what happens when people are stubborn, or just foolish. I'm going to have to take this into my own hands now."

[State 191, Dialogue] ; Baxter > Goliath
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="GOLI"||enemy,name="GOLX"||enemy,name="GOLK"
hidebars = 0
text1 = "<p1>Not gonna lie, if you do have a grudge against me, don't hold onto it. I'm sadly gettin' outta here soon."
text2 = "<p2>(YOU RIP ME APART, AND YOU DON'T HAVE THE DECENCY TO FINISH ME OFF?)"
text3 = "<p1>Well, there's definitely gonna be more than enough competition for you to beg for the sweet release of the mortal coil for ya soon. I'm gonna find myself somewhere nicer by then."
[State 180, Dialogue] ; Baxter > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p1>Even if you are determined to be obsolete, you still got some serious firepower. Too bad I know the ins and outs of it all beforehand!"
text2 = "<p2>Must... flee... I need to... get out... of here..."
text3 = "<p1>Why not stay a while? The finals are comin' up, and there's some killer reveals that you don't wanna miss!"
text4 = "<p2>What are you saying?"
text5 = "<p1>Other than the meal I'm gonna make out of Izzy, BioCorps has been meddling with some stuff they shouldn't, and I'm gonna use that as my ticket outta here."
text6 = "<p2>What... project?"
text7 = "<p1>Jus' somethin' they call, 'The Devil's Triangle'. It's pretty on-the-nose, but you'll really see it with your own eyes in a bit. Adios, you dag!"
[State 180, Dialogue] ; Baxter > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BAXT"||name="BAXX"||name="BAXK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Think your luck's run out and then some! My ticket outta here just arrived!"

[State 191, Dialogue] ; CiCi > Baxter
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="BAXT"||enemy,name="BAXX"||enemy,name="BAXK"
hidebars = 0
text1 = "<p1>Well, there's one less issue against BioCorps to worry about!"
text2 = "<p1face=self,9000,21>Kinda concerning that he's still stuck on the company above anything else?"
text3 = "<p1face=self,9000,22>Still proud of his fighting ability at least, but if something doesn't start to make him see different, then we're all in trouble come the finals."
text4 = "<p1face=self,9000,21>We have time, but again, we can't push it."
[State 180, Dialogue] ; CiCi > Reaper
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="REAP"||enemy,name="REAX"
hidebars = 0
text1 = "<p1>Aw yeah! Newer tech always comes out on top!"
text2 = "<p1><p1face=self,9000,22>Yeah, this is harder than it looks."
text3 = "<p1><p1face=self,9000,21>The old Reaper Unit has a point, but Cid ain't buying it."
text4 = "<p1><p1face=self,9000,22>Think we can talk him out of this? I'd rather do anything but Plan B, man."
text5 = "<p1><p1face=self,9000,21>Plan Brick, correct? Just hope the cameras don't catch the brick itself."
text6 = "<p1><p1face=self,9000,22>Really soon."
[State 180, Dialogue] ; CiCi > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="CICI"||name="CICX"||name="CICK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Woo-hoo! This is happenin'! Proved to the world the best tech BioCorps has to offer!"
text2 = "<p1><p1face=self,9000,22>So uh, who's gonna give him the brick?"
text3 = "<p1><p1face=self,9000,21>Uh, rock, paper, scissors to find out?"
text4 = "<p1><p1face=self,9000,22>..."
text5 = "<p1><p1face=self,9000,21>Dude, what's wrong?"
text6 = "<p1><p1face=self,9000,22>Isn't that the suspicious ancient object being studied in the Greenland Facility that we didn't even consider to have some evil in it?"
text7 = "<p1><p1face=self,9000,21>Can you run that by me again?"

[State 180, Dialogue] ; Goliath > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p2>I... can't lose here... I need to keep moving..."
text2 = "<p1>(GUESS IT WOULD BE A BAD TIME TO TRY AND BE A GOOD SPORT. I'LL TAKE MY LEAVE IN AN EMPTY VICTORY.)"
[State 180, Dialogue] ; Goliath > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p2>You're really tough! I felt something, almost human in your claws."
text2 = "<p1>(IS SOMEONE FINALLY UNDERSTANDING ME?)"
text3 = "<p2>I have a feeling you're not really vicious. You just need a sparring partner."
text4 = "<p1>(YES! YOU ARE ABSOLUTELY RIGHT!)"
text5 = "<p2>I still have a tournament to keep going through, but when you're ready for another fight, come find me!"
text6 = "<p1>(I WILL REMEMBER THAT. HMM, THAT TOURNAMENT, I'VE BEEN HEARING THINGS ABOUT IT. THINK I'LL CHECK IT OUT IF OTHERS LIKE HER ARE THERE.)"
[State 180, Dialogue] ; Goliath > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="GOLI"||name="GOLX"||name="GOLK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>(THERE. HOPE YOU LEARNED TO NEVER JUDGE A CREATURE BY ITS EXOSKELETON.)"

[State 180, Dialogue] ; Necross > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p2>Not bad. I will admit, you do have strength thanks to what you believe."
text2 = "<p1>I'm one who puts my faith above others, but I have no choice. What do you know about the Holy Christian Council of Scotland?"
text3 = "<p2>Oh, you're a part of that nutshack? Well, I haven't tangled with any of them up until now with you, but I do know this - their leader, Bree O'Cuilin..."
text4 = "<p1>Her?"
text5 = "<p2>Yeah, a friend of mine said she's been dabbling in the dark arts for some selfish purpose. Looks like you're the fruit of their labor! Gah ha ha ha!"
text6 = "<p1>...and I think I know what she's after. I appreciate your time."
[State 180, Dialogue] ; Necross > Lucy
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="LUCY"||enemy,name="LUCX"||enemy,name="LUCK"
hidebars = 0
text1 = "<p1>Now talk. Only what I need to know."
text2 = "<p2>Will you give me what I want?"
text3 = "<p1>An eye for an eye, but I don't trust you 100%. Tell me first, and then I'll give you your answers."
text4 = "<p2>Short end of it is, Bree O'Cuilin plans to bring back other operatives like you to bring back someone important to her. Suspects that-"
text5 = "<p1>-her daughter is in Old Hell?"
text6 = "<p2>Oh, so you HAVE been snooping around in other people's business, huh?"
text7 = "<p1>I just happened to hear it. Bree... you really have the nerve to do such a thing... I appreciate the help."
text8 = "<p2>...I still need what I'm looking for. The whereabouts of the man who killed you."
text9 = "<p1>...?"
text10 = "<p2>Arachnikin. Where are they?"
text11 = "<p1>...I have not seen anyone under that name for who knows how long."
text12 = "<p2>Well, it was worth a shot. Now get outta my business."
[State 180, Dialogue] ; Necross > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="NECC"||name="NECX"||name="NECK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>...Something feels off. Where is this demonic presence coming from?"

[State 181, Dialogue] ; Emi > Boundary
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="BOUN"||enemy,name="BOUX"||enemy,name="BOUK"
hidebars = 0
text1 = "<p1>You enjoy that? Make sure to catch me at the finals for my spectacular finale!"
text2 = "<p2>You got skill, but talent? I'll have to wait and see to find out. As an aside, I'd advise you to be careful come the finals."
text3 = "<p1>Like, rehearse and stuff? I got that down pat!"
[State 181, Dialogue] ; Emi > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>So, earlier, did you try to ask me out on a date?"
text2 = "<p2>...sorry. Hurdles in training are one thing, but hurdles for meeting people like you are an entirely different burden."
text3 = "<p1>I understand. If you want, we can like, go out for lunch and see how you feel about me in a calmer situation?"
text4 = "<p2>That sounds nice, I'd really like that."
text5 = "<p1>Cool! I'll figure out when we can do it after the finals. We'll keep in touch, baby!"
text6 = "<p2>Of course! (Did she really call me, baby? She's... quick.)"
[State 180, Dialogue] ; Emi > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="EMIC"||name="EMIX"||name="EMIK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Well, I think I've done enough to prove myself and then some! So, about that endorsement..."

[State 180, Dialogue] ; Lucy > Wallace
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="WALL"||enemy,name="WALX"||enemy,name="WALK"
hidebars = 0
text1 = "<p1face=self,9000,21>Wow, quite impressive."
text2 = "<p2>Damn, maybe you do have what it takes to go against me at full power. Just maybe."
text3 = "<p1face=self,9000,20>Thanks. Now with that out of the way, I have to return to my investigation. Just remember to ask around about Stitches once you've had your fill of bloodshed."
text4 = "<p2>Heh, I can only try."
[State 180, Dialogue] ; Lucy > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p1>So, Stitches. A buncha arachnids huddled together in a suit pretending to be a person, know anything on where they might be?"
text2 = "<p2>The name sounds familiar. I'm starting to remember... A demon born by tampering by the remainder of the Third Reich."
text3 = "<p1>Yeah yeah yeah, and then they shot you. I know that much. But where are they?"
text4 = "<p2>I've... heard the name mentioned in passing amongst my sisterhood. Rumors of them siding with a hidden organization..."
text5 = "<p1>Well, a lead is better than nothing. That narrows it down pretty well. Thank you."
text6 = "<p2>But what about Bree? What do you know about her, and how?"
text7 = "<p1>Well... Nah, nevermind. Let's get outta here, Mina."
text8 = "<p2>...dammit!"
[State 180, Dialogue] ; Lucy > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="LUCY"||name="LUCX"||name="LUCK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>So, if information serves right, someone should be showing up soon."

[State 191, Dialogue] ; GABBY > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="GABB"||name="GABX"||name="GABK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2> I... can't afford... to lose here... I'm so... sorry everyone... I've let you all down..."
text2 = "<p1> ...A tear? No, GET BACK IN MY EYE."
text3 = "<p2> ...Now you feel some humanity in you? What's going on?"
text4 = "<p1> I DON'T..."
text5 = "<p2> ...?"
text6 = "<p1> ...Nevermind me. I'm taking you to Mistress Cecropia now."
[State 191, Dialogue] ; GABBY > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="GABB"||name="GABX"||name="GABK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1> Come out come out, Devil's Triangle!"

[State 180, Dialogue] ;Isabella > Emi
type = Dialogue
hidebars = 0
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="EMIC"||enemy,name="EMIX"||enemy,name="EMIK"
text1 = "<p1>Need a hand up?"
text2 = "<p2>Nah, I think I'm fine in the dirt where I am, thanks."
text3 = "<p1>That's no way to treat yourself. You did good, and I know you can do better, Ms. Hattori."

[State 180, Dialogue] ;Isabella > Ajit
type = Dialogue
hidebars = 0
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
text1 = "<p2>Do you believe me now?"
text2 = "<p1>I'll take your word for it. I'll take extra caution approaching the finals."
text3 = "<p2>And not just shut the whole thing down?"
text4 = "<p1>I still have a duty to uphold, not just for Battle Craze, but for the Gardet name. Until we meet again, Monsieur Sinha."

[State 180, Dialogue] ;Isabella > Isabella
type = Dialogue
hidebars = 0
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="ISAB"||name="ISAX"||name="ISAK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
text1 = "<p2><p2face=enemy,9000,21>CUT! Well, I think I bought myself enough time..."
text2 = "<p1>...It's soon approaching..?"
text3 = "<p2>Yup! Get ready for the rising action!"

[State 180, Dialogue] ; Ikue > Ajit
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="AJIT"||enemy,name="AJIX"||enemy,name="AJIK"
hidebars = 0
text1 = "<p2>Agh... you don't disappoint, Ikue. Expected nothing less..."
text2 = "<p1>Hey, you just rest up Ajit. When the time's right, I'll set the future straight."
text3 = "<p2>WE'LL set the future straight."
text4 = "<p1>Heh... let's hope."
[State 180, Dialogue] ; Ikue > Teri
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="TERI"||enemy,name="TERX"||enemy,name="TERK"
hidebars = 0
text1 = "<p2><p2face=enemy,9000,21>...Y'know, that's not the expression I expected from a woman who just attacked us with a blade. Is she...?"
text2 = "<p1>AHEM. Now uh, ladies, since this little scuffle's over, I uh... I was, wondering if you, uhhh..."
text3 = "<p2><p2face=enemy,9000,20>Oh, I know where this is going. I'm a little too busy to be going on any dates right now, though."
text4 = "<p1>WHA, HUH, NO! I WASN'T THINKING ABOUT THAT AT ALL! LET'S JUST FIND YOU A WAY TO YOUR WORLD, OKAY?!"
text5 = "<p2>Oh. You coulda said so sooner, instead of swinging a big sword at me."
text6 = "<p1>(STUPID STUPID STUPID. DID I MAKE IT THAT OBVIOUS???)"
[State 180, Dialogue] ; Ikue > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="IKUE"||name="IKUX"||name="IKUK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>You alright? I didn't cut you too hard, did I?"
text2 = "<p2>No, you've shown me enough. I see you are someone who aspires to impress those that you love, and I think you've impressed me."
text3 = "<p1>Oh, wow, uh, thank you! I didn't know I had that effect on people, but uh..."
text4 = "<p2>Hm?"
text5 = "<p1>You may not believe it, but I have a bad feeling that something nasty is gonna happ-"

[State 180, Dialogue] ; Teri > Bernie
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="BERN"||enemy,name="BERX"||enemy,name="BERK"
hidebars = 0
text1 = "<p2>What's going on with this girl? She turns into a fine mist the moment I think I've got a good hit!"
text2 = "<p2><p2face=enemy,9000,21>Hey, Bern! Are both of your eyes made of glass!? You keep swingin' in the wrong direction!"
text3 = "<p2><p2face=enemy,9000,22>Y'know, we mighta had the wrong idea. The blue one could be helping her out!"
text4 = "<p1><p1face=self,9000,21>Eep! Teri, I think they're onto us!"
text5 = "<p2><p2face=enemy,9000,20>...Look, we're all just trying to get home. What's it gonna take to get you two to trust us, so we can all get back to our own hellholes?"
text6 = "<p1><p1face=self,9000,20>You guys can pay for our drinks."
text7 = "<p1><p1face=self,9000,21>YOUR drinks. I'm not getting wasted, especially not in another dimension."
text8 = "<p2><p2face=enemy,9000,21>How d'ya think we're gonna do that? I doubt our money's good in another universe, assuming we had any to begin with."
text9 = "<p1><p1face=self,9000,20>Oh. I guess that makes sense."
text10 = "<p1><p1face=self,9000,21>...Let's just try not to get into any more pointless arguments, please?"
text11 = "<p2><p2face=enemy,9000,22>Deal."
[State 180, Dialogue] ; Teri > Tsugumi
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="TSUG"||enemy,name="TSUX"
hidebars = 0
text1 = "<p1>Hm. You're similar, but not as strong. You wouldn't stand a chance against her."
text2 = "<p2>We'll see about that! The next time we meet, I'll be strong enough to take you down, then I'll be ready to take on your friend! That's a promise!"
text3 = "<p1>Alright. I think Erica will be happy to hear that."
text4 = "<p1><p1face=self,9000,21>...Y'know, yeah, she probably would."
[State 180, Dialogue] ; Teri > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TERI"||name="TERX"||name="TERK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>This is quite the unexpected turn of events, but not an unpleasant one. You've proven yourself worthy of the title of Battle Craze champion."
text2 = "<p1>I'm not here to be the champion, I'm just trying to get home!"
text3 = "<p1><p1face=self,9000,21>I mean, it's an honor, I think? But really all we want is to get back to our own universe... if you happen to know anything about that."
text4 = "<p2>Your universe? You mean to say you've-"

[State 180, Dialogue] ; Bernie > Jane
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="JANE"||enemy,name="JANX"||enemy,name="JANK"
hidebars = 0
text1 = "<p1>If I didn't know any better, I'd assume you're on Whester's pay stub. But you look a little too dignified to be under that joker's thumb."
text2 = "<p2>Did Ophelia send you to finish the job? You lot are on par with the blasted mob!"
text3 = "<p1>Funny you should say that-"
text4 = "<p1><p1face=self,9000,21>Enough already! We don't have any of these... crystal croissants you seek, now please, if you'd be so kind, get off our beak!"
text5 = "<p1><p1face=self,9000,22>Hehehe, now YOU'RE speaking in rhymes, Celery Head!"
text6 = "<p1><p1face=self,9000,21>...I am gonna scream."
text7 = "<p2>Why do that? Don't look so grim! I saw a crowned lizard in my portal, why not ask him?"
text8 = "<p1><p1face=self,9000,20>Lizard? Hm, I think I saw something similar in ours. That might narrow it down a little on who's behind this."
text9 = "<p1>C'mon kids, we'd better get moving."
[State 180, Dialogue] ; Bernie > Necross
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="NECC"||enemy,name="NECX"||enemy,name="NECK"
hidebars = 0
text1 = "<p2>What have you come into contact with? Why do everyday people like yourself radiate something so holy and potent?"
text2 = "<p1>Ma'am, I dunno what the hell you're on about, but I'd suggest you take off before things get worse."
text3 = "<p1><p1face=self,9000,21>You think she may see something in my necklace?"
text4 = "<p2>No. You've been in the presence of something akin to a seraphim, beyond one actually."
text5 = "<p1><p1face=self,9000,20>Alright, where's my brick?"
text6 = "<p2>A black flamingo, is all I see. Take caution with it."
text7 = "<p1>..."
text8 = "<p1><p1face=self,9000,21>...Michael? That piece of stink?"
text9 = "<p1><p1face=self,9000,20>Looks like we have unfinished business when we get back home... shit, this just keeps gettin' better, doesn't it?"
text10 = "<p1><p1face=self,9000,22>Well, I don't think we're too far off from home. C'mon, let's hitch another cab and get outta here!"
[State 180, Dialogue] ; Bernie > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="BERN"||name="BERX"||name="BERK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>Look, the whole deal with the Blood Feast wasn't something I'm proud of partaking in. Just us cleaning up the trash back home is all."
text2 = "<p1><p1face=self,9000,21>Y'know, Izzy, we're what you would call 'heroes'. I don't take any pride in a worthless title, but maybe you can if you know a way outta here?"
text3 = "<p2>You're from a different world?"

[State 180, Dialogue] ; Jane > Ikue
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="IKUE"||enemy,name="IKUX"||enemy,name="IKUK"
hidebars = 0
text1 = "<p1>Did I prove myself innocent yet? Perhaps you made a bad bet?"
text2 = "<p2>Probably, yeah. I really can't tell your motive through fists like the locals here. I don't think you would be behind this, you're too cheerful."
text3 = "<p1>I told you the truth, didn't I? Why, oh why, would I ever lie?"
text4 = "<p2>In my line of work, you never know. So, if you do, by any chance, open up another one of those RED DISCS, try and reach out to me. I'd LOVE to get back home."
text5 = "<p1>Oh, no problem, no problem at all! Lest I get distracted at this fisticuffs ball!"
text6 = "<p2>Heck, she's not gonna keep her promise, is she?"

[State 180, Dialogue] ; Jane > GABBY
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p1>Crown me queen of the carnies, since sweeping you was a breeze!"
text2 = "<p2>Aie, how long is it gonna take ye to get back 'ere? Ma's startin' to get lonesome."
text3 = "<p1>The finals are coming up in a bit, so I'll see you for supper, don't sweat it!"

[State 191, Dialogue] ; Jane > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="JANE"||name="JANX"||name="JANK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p1>That was fun all around, an absolute blast! As the victor, I'm sure you are aghast!"

[State 180, Dialogue] ; TYRANT > GABBY
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="GABB"||enemy,name="GABX"||enemy,name="GABK"
hidebars = 0
text1 = "<p1>CECROPIA IS AN AMATEUR. SHE KNOWS NOTHING ABOUT CREATING A PERFECT SOLDIER."

[State 180, Dialogue] ; TYRANT > QREAPER
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="REAK"
hidebars = 0
text1 = "<p1>NOW TELL ME, WHO RUNS QUASARS?"
text2 = "<p2>...over my dead body..."
text3 = "<p1>HMPH. THERE IS MORE THAN ONE WAY TO MAKE YOU TALK."
text4 = "<p1>I SHALL DEAL WITH HIM LATER, AS NOW IS THE TIME TO FINALLY BEGIN MY PLAN."

[State 180, Dialogue] ; TYRANT > Isabella
type = Dialogue
triggerall = Map(ArcadeDialogue)
triggerall = GameMode = "arcade" && teamside=1 && Win && MatchOver
triggerall = RoundState = 3
trigger1 = name="TYRA"||name="TYRX"||name="TYRK"
trigger1 = enemy,name="ISAB"||enemy,name="ISAX"||enemy,name="ISAK"
hidebars = 0
text1 = "<p2>...you're, a madman... a monster..."
text2 = "<p1>YOU'LL SEE MY WAYS SOON ENOUGH, THE WHOLE WORLD WILL. WHAT WILL COME AFTER THAT WILL BRING PROSPERITY TO THIS FILTHY PLANET!"

[Statedef -4]

;====================================
; FULL GAME FUNTIMES: PREVIOUSLY CTRL
;====================================

[State 0, Ctrl Change Catch]
type = MapSet
triggerall = RoundState = 2
trigger1 = Time >= 1
trigger2 = Ctrl
map = "PrevCtrl"
value = Ctrl
ignorehitpause = 1

;====================================
; FULL GAME FUNTIMES: I HATE MUGEN
;====================================

[State 0, VarSet]
type = VarSet
trigger1 = Var(8) = 1 && MoveHit
trigger1 = EnemyNear,Sysvar(4) = 1
sysvar(4) = 0
ignorehitpause = 1
redirectid = EnemyNear,ID

;===============================
; FULL GAME FUNTIMES: ATTACKDIST
;===============================

[State 0, AttackDist]
type = AttackDist
trigger1 = RoundState = 2
trigger1 = !(!IsHelper && EnemyNear,Map(IsTraining) && Map(TrainingOpt2)) || AILevel || EnemyNear,AILevel
trigger1 = !(IsHelper && EnemyNear,Var(15)) || !(IsHelper && EnemyNear,Map(IsTraining))
value = 0
ignorehitpause = 1
[State 0, AttackDist]
type = AttackDist
trigger1 = IsHelper 
trigger1 = EnemyNear,Var(15) || EnemyNear,Map(IsTraining)
value = 999
ignorehitpause = 1

;==============================
; FULL GAME FUNTIMES: STAGEDIST
;==============================

[State 0, Map Front Stage Dist]
type = MapSet
trigger1 = RoundState < 3
map = "FrontStageDist"
value = FrontEdgeDist + ((-CameraPos X * Facing) + 300)
ignorehitpause = 1
[State 0, Map Back Stage Dist]
type = MapSet
trigger1 = RoundState < 3
map = "BackStageDist"
value = BackEdgeDist + ((CameraPos X * Facing) + 300)
ignorehitpause = 1

[State 0, MapSet]
type = MapSet
trigger1 = Map(StageGround) = 0
trigger1 = Name != "TYRA" && Name != "TYRX" && Name != "TYRK"
trigger1 = Name != "WALL" && Name != "WALX" && Name != "WALK"
map = "StageGround"
value = 8

;========================================================
; VAR 8 - HITTIME
;========================================================

[State 0, HitTime Add]
type = VarAdd
trigger1 = MoveContact
v = 8
value = 1
ignorehitpause = 1
[State 0, HitTime Reset]
type = VarSet
trigger1 = 1
v = 8
value = 0

;===================================
; FULL GAME FUNTIMES: DUST, NON-LOOP
;===================================

[State 0, Explod Dust Fwd]
type = Explod
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = Map(LandDustFX)
trigger1 = !Map(StageWet)
anim = F84
pos = (const(size.ground.front)*0.33)+random%ceil(const(size.ground.front)*0.66),4
postype = p1
facing = -1+(2*random%2)
vel = (20+random%10)*0.05,(-20-random%10)*0.1
accel = -0.025,0.15
sprpriority = 4
ownpal = 1
[State 0, Explod Dust Back]
type = Explod
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = Map(LandDustFX)
trigger1 = !Map(StageWet)
anim = F84
pos = -(const(size.ground.back)*0.33)-random%ceil(const(size.ground.back)*0.66),4
postype = p1
facing = -1+(2*random%2)
vel = (-20-random%10)*0.05,(-20-random%10)*0.1
accel = 0.025,0.15
sprpriority = 4
ownpal = 1
[State 0, Explod Splash Fwd]
type = Explod
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = Map(LandDustFX)
trigger1 = Map(StageWet)
anim = F405
pos = (const(size.ground.front)*0.33)+random%ceil(const(size.ground.front)*0.66),4
postype = p1
facing = -1+(2*random%2)
sprpriority = 4
ownpal = 1
[State 0, Explod Splash Back]
type = Explod
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = Map(LandDustFX)
trigger1 = Map(StageWet)
anim = F405
pos = -(const(size.ground.back)*0.33)-random%ceil(const(size.ground.back)*0.66),4
postype = p1
facing = -1+(2*random%2)
sprpriority = 4
ownpal = 1
[State -3, Landing Sound]
type = PlaySnd
trigger1 = Map(LandDustFX)
value = F2, 0
[State -3, Landing Sound Wet]
type = PlaySnd
triggerall = Map(LandDustFX) || Map(DashDustFX) != 0 || Map(GroundHitFX) != 0
trigger1 = Map(StageWet)
value = F4, 0
[State 0, MapSet]
type = MapSet
trigger1 = Map(LandDustFX)
map = "LandDustFX"
value = 0

[State 0, Explod BigDust FX]
type = Explod
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = Map(DashDustFX) != 0
anim = F85 + 324 * (!!Map(StageWet))
postype = p1
pos = -Map(DashDustFX),-Pos Y-Vel Y
facing = ifelse(Map(DashDustFX)<0,-1,1)
supermovetime = Var(54)
ownpal = 1
sprpriority = -5 + 10 * (Map(DashDustFX)%2)
[State 0, Snd DashStart]
type = PlaySnd
trigger1 = Map(DashDustFX) != 0
value = F2,3
channel = 1
[State 0, MapSet]
type = MapSet
trigger1 = Map(DashDustFX) != 0
map = "DashDustFX"
value = 0

;===================================
; FULL GAME FUNTIMES: GROUNDHIT
;===================================

[State 5110, GroundHit FX Normal]
type = Explod
trigger1 = Map(GroundHitFX) != 0
anim = F60 + (Abs(Map(GroundHitFX))%3)
postype = p1
pos = Map(GroundHitFX), 0
ownpal = 1
sprpriority = -8
[State 5110, GroundHit FX Water1]
type = Explod
trigger1 = Map(GroundHitFX) != 0
trigger1 = Map(StageWater)
anim = F406
postype = p1
pos = Map(GroundHitFX), 0
ownpal = 1
sprpriority = -9
[State 5110, GroundHit FX Water2]
type = Explod
trigger1 = Map(GroundHitFX) != 0
trigger1 = Map(StageWater)
anim = F406
postype = p1
pos = Map(GroundHitFX), 0
ownpal = 1
removetime = 10
sprpriority = 5

[State 0, GroundHit FX Reset]
type = MapSet
trigger1 = Map(GroundHitFX) != 0
map = "GroundHitFX"
value = 0

;===================================
; FULL GAME FUNTIMES: WATER STAGE
;===================================

[State 0, MapSet]
type = MapSet
trigger1 = RoundState < 2 || Time = 1 && IsHelper
map = "StageWet"
value = 0
[State 0, MapSet]
type = MapSet
trigger1 = RoundState < 2 || Time = 1 && IsHelper
map = "StageWater"
value = 0
[State 0, MapSet]
type = MapSet
triggerall = RoundState < 2 || Time = 1 && IsHelper
trigger1 = stagevar(info.name) = "Reaper Stage"
trigger2 = stagevar(info.name) = "Reaper Stage X"
trigger3 = stagevar(info.name) = "Baxter Stage"
trigger4 = stagevar(info.name) = "Baxter Stage X"
trigger5 = stagevar(info.name) = "Ci-Ci Stage"
trigger6 = stagevar(info.name) = "Ci-Ci Stage X"
trigger7 = stagevar(info.name) = "Emi Stage"
trigger8 = stagevar(info.name) = "Emi Stage X"
trigger9 = stagevar(info.name) = "TYRANT Stage"
trigger10 = stagevar(info.name) = "Testing Zone"
trigger11 = stagevar(info.name) = "Training Stage Q"
map = "StageWet"
value = 1
[State 0, MapSet]
type = MapSet
triggerall = RoundState < 2 || Time = 1 && IsHelper
trigger1 = stagevar(info.name) = "Baxter Stage"
trigger2 = stagevar(info.name) = "Baxter Stage X"
trigger3 = stagevar(info.name) = "Emi Stage"
trigger4 = stagevar(info.name) = "Emi Stage X"
trigger5 = stagevar(info.name) = "Testing Zone"
trigger6 = stagevar(info.name) = "Training Stage Q"
map = "StageWater"
value = 1

[State 0, Explod Presenting Ripples]
type = Explod
triggerall = Map(StageWater)
triggerall = !IsHelper && Map(Cutscene) < 16
triggerall = !Map(Cutscene) && !EnemyNear,Map(Cutscene) && !Var(54)
triggerall = !(Name="LUCK"&&NumHelper(990))
trigger1 = GameTime % max(8,32 - ceil(Abs(Vel X) * 4)) = 3 * TeamSide
trigger1 = Pos Y >= 0 && StateType != A && StateType != L
anim = F400
postype = p1
pos = 0,-Pos Y
facing = -1+2*(random%2)
sprpriority = -9
ownpal = 1